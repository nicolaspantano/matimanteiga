(self.webpackChunkprimer_parcial=self.webpackChunkprimer_parcial||[]).push([[179],{8255:nt=>{function Te(L){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+L+"'");throw h.code="MODULE_NOT_FOUND",h})}Te.keys=()=>[],Te.resolve=Te,Te.id=8255,nt.exports=Te},3018:(nt,Te,L)=>{"use strict";L.d(Te,{deG:()=>id,tb:()=>w_,AFp:()=>pD,ip1:()=>rb,CZH:()=>ip,hGG:()=>BD,z2F:()=>Si,sBO:()=>zA,Sil:()=>Ba,_Vd:()=>Yd,EJc:()=>b_,SBq:()=>Ko,qLn:()=>Ee,vpe:()=>Va,gxx:()=>yl,tBr:()=>nc,XFs:()=>Pe,OlP:()=>bn,zs3:()=>cn,ZZ4:()=>Jy,aQg:()=>zf,soG:()=>Bl,YKP:()=>hI,v3s:()=>SD,h0i:()=>Ol,PXZ:()=>fs,R0b:()=>_o,FiY:()=>Rs,Lbi:()=>yD,g9A:()=>mD,Qsj:()=>VA,FYo:()=>Hf,JOm:()=>fu,Tiy:()=>Wy,q3G:()=>Pn,tp0:()=>lu,EAV:()=>OD,Rgc:()=>Jd,dDg:()=>tm,DyG:()=>tl,q4F:()=>Qw,GfV:()=>Ky,s_b:()=>Xd,ifc:()=>Jt,eFA:()=>rm,G48:()=>sx,Gpc:()=>we,X6Q:()=>db,_c5:()=>yx,VLi:()=>nx,c2e:()=>ib,zSh:()=>pc,wAp:()=>gt,vHH:()=>ye,EiD:()=>Fm,mCW:()=>hu,qzn:()=>ic,JVY:()=>K_,pB0:()=>Vh,eBb:()=>Lh,L6k:()=>cl,LAX:()=>Y_,cg1:()=>Wd,Tjo:()=>VD,kL8:()=>xC,yhl:()=>gd,dqk:()=>G,sIi:()=>yc,CqO:()=>My,QGY:()=>sg,F4k:()=>yw,RDi:()=>gi,AaK:()=>Y,z3N:()=>bi,qOj:()=>iw,TTD:()=>Ys,_Bn:()=>zw,xp6:()=>lE,uIk:()=>Ey,ekj:()=>zd,Suo:()=>KI,Xpm:()=>_t,lG2:()=>sa,Yz7:()=>yn,cJS:()=>Vr,oAB:()=>ia,Yjl:()=>oa,Y36:()=>vc,_UZ:()=>yf,qZA:()=>Ho,TgZ:()=>wc,EpF:()=>xy,n5z:()=>Qu,Ikx:()=>Uy,LFG:()=>Qn,$8M:()=>Nt,NdJ:()=>_f,CRH:()=>YI,kcU:()=>nu,O4$:()=>Mi,oxw:()=>ww,Q6J:()=>mf,iGM:()=>WI,CHM:()=>Bu,LSH:()=>fo,kYT:()=>ys,YNc:()=>Cy,_uU:()=>dg,Oqu:()=>Dw,hij:()=>Tf,HOy:()=>Ly});var h=L(9765),ne=L(5319),V=L(7574),ue=L(6682),ie=L(2441);var ve=L(1307);function se(){return new h.xQ}function U(r){for(let i in r)if(r[i]===U)return i;throw Error("Could not find renamed property on target object.")}function X(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function Y(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Y).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function de(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const De=U({__forward_ref__:U});function we(r){return r.__forward_ref__=we,r.toString=function(){return Y(this())},r}function Q(r){return j(r)?r():r}function j(r){return"function"==typeof r&&r.hasOwnProperty(De)&&r.__forward_ref__===we}class ye extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function Ne(r){return"string"==typeof r?r:null==r?"":String(r)}function wt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ne(r)}function pe(r,i){const o=i?` in ${i}`:"";throw new ye("201",`No provider for ${wt(r)} found${o}`)}function on(r,i){null==r&&function(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function yn(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Vr(r){return{providers:r.providers||[],imports:r.imports||[]}}function vr(r){return Ur(r,dn)||Ur(r,Mn)}function Ur(r,i){return r.hasOwnProperty(i)?r[i]:null}function Fn(r){return r&&(r.hasOwnProperty($t)||r.hasOwnProperty(lt))?r[$t]:null}const dn=U({\u0275prov:U}),$t=U({\u0275inj:U}),Mn=U({ngInjectableDef:U}),lt=U({ngInjectorDef:U});var Pe=(()=>((Pe=Pe||{})[Pe.Default=0]="Default",Pe[Pe.Host=1]="Host",Pe[Pe.Self=2]="Self",Pe[Pe.SkipSelf=4]="SkipSelf",Pe[Pe.Optional=8]="Optional",Pe))();let xt;function _n(r){const i=xt;return xt=r,i}function Ht(r,i,o){const u=vr(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Pe.Optional?null:void 0!==i?i:void pe(Y(r),"Injector")}function tt(r){return{toString:r}.toString()}var Cn=(()=>((Cn=Cn||{})[Cn.OnPush=0]="OnPush",Cn[Cn.Default=1]="Default",Cn))(),Jt=(()=>((Jt=Jt||{})[Jt.Emulated=0]="Emulated",Jt[Jt.None=2]="None",Jt[Jt.ShadowDom=3]="ShadowDom",Jt))();const Tr="undefined"!=typeof globalThis&&globalThis,Hs="undefined"!=typeof window&&window,Z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G=Tr||"undefined"!=typeof global&&global||Hs||Z,Ke={},He=[],qt=U({\u0275cmp:U}),fn=U({\u0275dir:U}),un=U({\u0275pipe:U}),wr=U({\u0275mod:U}),Lt=U({\u0275loc:U}),pn=U({\u0275fac:U}),cr=U({__NG_ELEMENT_ID__:U});let ja=0;function _t(r){return tt(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||He,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Jt.Emulated,id:"c",styles:r.styles||He,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,d=r.features,m=r.pipes;return u.id+=ja++,u.inputs=Br(r.inputs,o),u.outputs=Br(r.outputs),d&&d.forEach(y=>y(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(ra):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map($a):null,u})}function ra(r){return Xt(r)||function(r){return r[fn]||null}(r)}function $a(r){return function(r){return r[un]||null}(r)}const ms={};function ia(r){return tt(()=>{const i={type:r.type,bootstrap:r.bootstrap||He,declarations:r.declarations||He,imports:r.imports||He,exports:r.exports||He,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(ms[r.id]=r.type),i})}function ys(r,i){return tt(()=>{const o=er(r,!0);o.declarations=i.declarations||He,o.imports=i.imports||He,o.exports=i.exports||He})}function Br(r,i){if(null==r)return Ke;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,i&&(i[c]=d)}return o}const sa=_t;function oa(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Xt(r){return r[qt]||null}function er(r,i){const o=r[wr]||null;if(!o&&!0===i)throw new Error(`Type ${Y(r)} does not have '\u0275mod' property.`);return o}function $r(r){return Array.isArray(r)&&"object"==typeof r[1]}function zt(r){return Array.isArray(r)&&!0===r[1]}function Zs(r){return 0!=(8&r.flags)}function qa(r){return 2==(2&r.flags)}function Hr(r){return 1==(1&r.flags)}function fr(r){return null!==r.template}function Fu(r){return 0!=(512&r[2])}function Ar(r,i){return r.hasOwnProperty(pn)?r[pn]:null}class oi{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ys(){return ws}function ws(r){return r.type.prototype.ngOnChanges&&(r.setInput=da),pi}function pi(){const r=Qs(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===Ke)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function da(r,i,o,u){const c=Qs(r)||function(r,i){return r[Yl]=i}(r,{previous:Ke,current:null}),d=c.current||(c.current={}),m=c.previous,y=this.declaredInputs[o],b=m[y];d[y]=new oi(b&&b.currentValue,i,m===Ke),r[u]=i}Ys.ngInherit=!0;const Yl="__ngSimpleChanges__";function Qs(r){return r[Yl]||null}const Io="http://www.w3.org/2000/svg";let es;function gi(r){es=r}function vn(r){return!!r.listen}const To={createRenderer:(r,i)=>void 0!==es?es:"undefined"!=typeof document?document:void 0};function Mt(r){for(;Array.isArray(r);)r=r[0];return r}function fa(r,i){return Mt(i[r])}function br(r,i){return Mt(i[r.index])}function mi(r,i){return r.data[i]}function rr(r,i){const o=i[r];return $r(o)?o:o[0]}function to(r){return 4==(4&r[2])}function Ao(r){return 128==(128&r[2])}function bs(r,i){return null==i?null:r[i]}function So(r){r[18]=0}function Ya(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const at={lFrame:tu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Uu(){return at.bindingsEnabled}function Oe(){return at.lFrame.lView}function Vt(){return at.lFrame.tView}function Bu(r){return at.lFrame.contextLView=r,r[8]}function Rn(){let r=qc();for(;null!==r&&64===r.type;)r=r.parent;return r}function qc(){return at.lFrame.currentTNode}function ai(r,i){const o=at.lFrame;o.currentTNode=r,o.isParent=i}function io(){return at.lFrame.isParent}function Mo(){return at.isInCheckNoChangesMode}function yi(r){at.isInCheckNoChangesMode=r}function _i(){return at.lFrame.bindingIndex++}function vi(r){const i=at.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}function Xa(r,i){const o=at.lFrame;o.bindingIndex=o.bindingRootIndex=r,Ro(i)}function Ro(r){at.lFrame.currentDirectiveIndex=r}function so(){return at.lFrame.currentQueryIndex}function ju(r){at.lFrame.currentQueryIndex=r}function Xl(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function zc(r,i,o){if(o&Pe.SkipSelf){let c=i,d=r;for(;!(c=c.parent,null!==c||o&Pe.Host||(c=Xl(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;i=c,r=d}const u=at.lFrame=_a();return u.currentTNode=i,u.lView=r,!0}function oo(r){const i=_a(),o=r[1];at.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function _a(){const r=at.lFrame,i=null===r?null:r.child;return null===i?tu(r):i}function tu(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Zc(){const r=at.lFrame;return at.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const fp=Zc;function ed(){const r=Zc();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function qr(){return at.lFrame.selectedIndex}function xi(r){at.lFrame.selectedIndex=r}function wn(){const r=at.lFrame;return mi(r.tView,r.selectedIndex)}function Mi(){at.lFrame.currentNamespace=Io}function nu(){at.lFrame.currentNamespace=null}function Es(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const d=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:S}=d;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),b&&(r.viewHooks||(r.viewHooks=[])).push(-o,b),T&&((r.viewHooks||(r.viewHooks=[])).push(o,T),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,T)),null!=S&&(r.destroyHooks||(r.destroyHooks=[])).push(o,S)}}function ao(r,i,o){is(r,i,3,o)}function va(r,i,o,u){(3&r[2])===o&&is(r,i,o,u)}function ui(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function is(r,i,o,u){const d=null!=u?u:-1,m=i.length-1;let y=0;for(let b=void 0!==u?65535&r[18]:0;b<m;b++)if("number"==typeof i[b+1]){if(y=i[b],null!=u&&y>=u)break}else i[b]<0&&(r[18]+=65536),(y<d||-1==d)&&(E(r,o,i,b),r[18]=(4294901760&r[18])+b+2),b++}function E(r,i,o,u){const c=o[u]<0,d=o[u+1],y=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{d.call(y)}finally{}}}else try{d.call(y)}finally{}}const C=-1;class R{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function On(r,i,o){const u=vn(r);let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const m=o[c++],y=o[c++],b=o[c++];u?r.setAttribute(i,y,b,m):i.setAttributeNS(m,y,b)}else{const m=d,y=o[++c];Yc(m)?u&&r.setProperty(i,m,y):u?r.setAttribute(i,m,y):i.setAttribute(m,y),c++}}return c}function qu(r){return 3===r||4===r||6===r}function Yc(r){return 64===r.charCodeAt(0)}function Gu(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Qc(r,o,c,null,-1===o||2===o?i[++u]:null)}}return r}function Qc(r,i,o,u,c){let d=0,m=r.length;if(-1===i)m=-1;else for(;d<r.length;){const y=r[d++];if("number"==typeof y){if(y===i){m=-1;break}if(y>i){m=d-1;break}}}for(;d<r.length;){const y=r[d];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==c&&(r[d+1]=c));if(u===r[d+1])return void(r[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==m&&(r.splice(m,0,i),d=m+1),r.splice(d++,0,o),null!==u&&r.splice(d++,0,u),null!==c&&r.splice(d++,0,c)}function Jc(r){return r!==C}function zu(r){return 32767&r}function Zu(r,i){let o=function(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let Wu=!0;function ru(r){const i=Wu;return Wu=r,i}let ot=0;function uo(r,i){const o=wa(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,xr(u.data,r),xr(i,null),xr(u.blueprint,null));const c=No(r,i),d=r.injectorIndex;if(Jc(c)){const m=zu(c),y=Zu(c,i),b=y[1].data;for(let T=0;T<8;T++)i[d+T]=y[m+T]|b[m+T]}return i[d+8]=c,d}function xr(r,i){r.push(0,0,0,0,0,0,0,0,i)}function wa(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function No(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){const d=c[1],m=d.type;if(u=2===m?d.declTNode:1===m?c[6]:null,null===u)return C;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return C}function Is(r,i,o){!function(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(cr)&&(u=o[cr]),null==u&&(u=o[cr]=ot++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function _m(r,i,o){if(o&Pe.Optional)return r;pe(i,"NodeInjector")}function ba(r,i,o,u){if(o&Pe.Optional&&void 0===u&&(u=null),0==(o&(Pe.Self|Pe.Host))){const c=r[9],d=_n(void 0);try{return c?c.get(i,u,o&Pe.Optional):Ht(i,u,o&Pe.Optional)}finally{_n(d)}}return _m(u,i,o)}function Dh(r,i,o,u=Pe.Default,c){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(cr)?r[cr]:void 0;return"number"==typeof i?i>=0?255&i:nd:i}(o);if("function"==typeof d){if(!zc(i,r,u))return u&Pe.Host?_m(c,o,u):ba(i,o,u,c);try{const m=d(u);if(null!=m||u&Pe.Optional)return m;pe(o)}finally{fp()}}else if("number"==typeof d){let m=null,y=wa(r,i),b=C,T=u&Pe.Host?i[16][6]:null;for((-1===y||u&Pe.SkipSelf)&&(b=-1===y?No(r,i):i[y+8],b!==C&&su(u,!1)?(m=i[1],y=zu(b),i=Zu(b,i)):y=-1);-1!==y;){const S=i[1];if(Ah(d,y,S.data)){const O=Ni(y,i,o,m,u,T);if(O!==Th)return O}b=i[y+8],b!==C&&su(u,i[1].data[y+8]===T)&&Ah(d,y,i)?(m=S,y=zu(b),i=Zu(b,i)):y=-1}}}return ba(i,o,u,c)}const Th={};function nd(){return new Mr(Rn(),Oe())}function Ni(r,i,o,u,c,d){const m=i[1],y=m.data[r+8],S=Yu(y,m,o,null==u?qa(y)&&Wu:u!=m&&0!=(3&y.type),c&Pe.Host&&d===y);return null!==S?co(i,m,S,y):Th}function Yu(r,i,o,u,c){const d=r.providerIndexes,m=i.data,y=1048575&d,b=r.directiveStart,S=d>>20,F=c?y+S:r.directiveEnd;for(let q=u?y:y+S;q<F;q++){const K=m[q];if(q<b&&o===K||q>=b&&K.type===o)return q}if(c){const q=m[b];if(q&&fr(q)&&q.type===o)return b}return null}function co(r,i,o,u){let c=r[o];const d=i.data;if(function(r){return r instanceof R}(c)){const m=c;m.resolving&&function(r,i){throw new ye("200",`Circular dependency in DI detected for ${r}`)}(wt(d[o]));const y=ru(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?_n(m.injectImpl):null;zc(r,u,Pe.Default);try{c=r[o]=m.factory(void 0,d,r,u),i.firstCreatePass&&o>=u.directiveStart&&function(r,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=i.type.prototype;if(u){const m=ws(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,d))}(o,d[o],i)}finally{null!==b&&_n(b),ru(y),m.resolving=!1,fp()}}return c}function Ah(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function su(r,i){return!(r&Pe.Self||r&Pe.Host&&i)}class Mr{constructor(i,o){this._tNode=i,this._lView=o}get(i,o){return Dh(this._tNode,this._lView,i,void 0,o)}}function Qu(r){return tt(()=>{const i=r.prototype.constructor,o=i[pn]||Sh(i),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const d=c[pn]||Sh(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Sh(r){return j(r)?()=>{const i=Sh(Q(r));return i&&i()}:Ar(r)}function Nt(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(qu(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===i)return o[c+1];c+=2}}}return null}(Rn(),r)}const Vn="__parameters__";function Xu(r,i,o){return tt(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...d){if(this instanceof c)return u.apply(this,d),this;const m=new c(...d);return y.annotation=m,y;function y(b,T,S){const O=b.hasOwnProperty(Vn)?b[Vn]:Object.defineProperty(b,Vn,{value:[]})[Vn];for(;O.length<=S;)O.push(null);return(O[S]=O[S]||[]).push(m),b}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class bn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=yn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const id=new bn("AnalyzeForEntryComponents"),tl=Function;function Oi(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),Oi(u,i)):i!==r&&i.push(u)}return i}function Pi(r,i){r.forEach(o=>Array.isArray(o)?Pi(o,i):i(o))}function os(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function ho(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function I(r,i,o){let u=N(r,i);return u>=0?r[1|u]=o:(u=~u,function(r,i,o,u){let c=r.length;if(c==i)r.push(o,u);else if(1===c)r.push(u,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function A(r,i){const o=N(r,i);if(o>=0)return r[1|o]}function N(r,i){return function(r,i,o){let u=0,c=r.length>>o;for(;c!==u;){const d=u+(c-u>>1),m=r[d<<o];if(i===m)return d<<o;m>i?c=d:u=d+1}return~(c<<o)}(r,i,1)}const xs={},ec="__NG_DI_FLAG__",wi="ngTempTokenPath",Oo=/\n/gm,nl="__source",Ph=U({provide:String,useValue:U});let rl;function tc(r){const i=rl;return rl=r,i}function ko(r,i=Pe.Default){if(void 0===rl)throw new Error("inject() must be called from an injection context");return null===rl?Ht(r,void 0,i):rl.get(r,i&Pe.Optional?null:void 0,i)}function Qn(r,i=Pe.Default){return(xt||ko)(Q(r),i)}function il(r){const i=[];for(let o=0;o<r.length;o++){const u=Q(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,d=Pe.Default;for(let m=0;m<u.length;m++){const y=u[m],b=Ms(y);"number"==typeof b?-1===b?c=y.token:d|=b:c=y}i.push(Qn(c,d))}else i.push(Qn(u))}return i}function or(r,i){return r[ec]=i,r.prototype[ec]=i,r}function Ms(r){return r[ec]}function Cm(r,i,o,u){const c=r[wi];throw i[nl]&&c.unshift(i[nl]),r.message=function(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=Y(i);if(Array.isArray(i))c=i.map(Y).join(" -> ");else if("object"==typeof i){let d=[];for(let m in i)if(i.hasOwnProperty(m)){let y=i[m];d.push(m+":"+("string"==typeof y?JSON.stringify(y):Y(y)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(Oo,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[wi]=null,r}const nc=or(Xu("Inject",r=>({token:r})),-1),Rs=or(Xu("Optional"),8),lu=or(Xu("SkipSelf"),4);let du;function Ca(r){var i;return(null===(i=function(){if(void 0===du&&(du=null,G.trustedTypes))try{du=G.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return du}())||void 0===i?void 0:i.createHTML(r))||r}class rc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Z_ extends rc{getTypeName(){return"HTML"}}class W_ extends rc{getTypeName(){return"Style"}}class Ia extends rc{getTypeName(){return"Script"}}class wp extends rc{getTypeName(){return"URL"}}class Da extends rc{getTypeName(){return"ResourceURL"}}function bi(r){return r instanceof rc?r.changingThisBreaksApplicationSecurity:r}function ic(r,i){const o=gd(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function gd(r){return r instanceof rc&&r.getTypeName()||null}function K_(r){return new Z_(r)}function cl(r){return new W_(r)}function Lh(r){return new Ia(r)}function Y_(r){return new wp(r)}function Vh(r){return new Da(r)}class bp{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Ca(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Nm{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ca(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Ca(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Cp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,yd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function hu(r){return(r=String(r)).match(Cp)||r.match(yd)?r:"unsafe:"+r}function Lo(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function sc(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const oc=Lo("area,br,col,hr,img,wbr"),ll=Lo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Uh=Lo("rp,rt"),_d=sc(oc,sc(ll,Lo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sc(Uh,Lo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sc(Uh,ll)),jh=Lo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ip=Lo("srcset"),vd=sc(jh,Ip,Lo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$h=Lo("script,style,template");class Dp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!_d.hasOwnProperty(o))return this.sanitizedSomething=!0,!$h.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let c=0;c<u.length;c++){const d=u.item(c),m=d.name,y=m.toLowerCase();if(!vd.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let b=d.value;jh[y]&&(b=hu(b)),Ip[y]&&(r=b,b=(r=String(r)).split(",").map(i=>hu(i.trim())).join(", ")),this.buf.push(" ",m,'="',Tp(b),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();_d.hasOwnProperty(o)&&!oc.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Tp(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Pm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,km=/([^\#-~ |!])/g;function Tp(r){return r.replace(/&/g,"&amp;").replace(Pm,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(km,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hh;function Fm(r,i){let o=null;try{Hh=Hh||function(r){const i=new Nm(r);return function(){try{return!!(new window.DOMParser).parseFromString(Ca(""),"text/html")}catch(r){return!1}}()?new bp(i):i}(r);let u=i?String(i):"";o=Hh.getInertBodyElement(u);let c=5,d=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=d,d=o.innerHTML,o=Hh.getInertBodyElement(u)}while(u!==d);return Ca((new Dp).sanitizeChildren(wd(o)||o))}finally{if(o){const u=wd(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function wd(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Pn=(()=>((Pn=Pn||{})[Pn.NONE=0]="NONE",Pn[Pn.HTML=1]="HTML",Pn[Pn.STYLE=2]="STYLE",Pn[Pn.SCRIPT=3]="SCRIPT",Pn[Pn.URL=4]="URL",Pn[Pn.RESOURCE_URL=5]="RESOURCE_URL",Pn))();function fo(r){const i=function(){const r=Oe();return r&&r[12]}();return i?i.sanitize(Pn.URL,r)||"":ic(r,"URL")?bi(r):hu(Ne(r))}const Sp="__ngContext__";function Wr(r,i){r[Sp]=i}function Cr(r){const i=function(r){return r[Sp]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function x(r){return r.ngOriginalError}function J(r,...i){r.error(...i)}class Ee{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=this._findContext(i),c=(r=i)&&r.ngErrorLogger||J;var r;c(this._console,"ERROR",i),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(x(i)):null}_findOriginalError(i){let o=i&&x(i);for(;o&&x(o);)o=x(o);return o||null}}const Fp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function us(r){return r instanceof Function?r():r}var fu=(()=>((fu=fu||{})[fu.Important=1]="Important",fu[fu.DashCase=2]="DashCase",fu))();function Zb(r,i){return undefined(r,i)}function zh(r){const i=r[3];return zt(i)?i[3]:i}function iv(r){return Yb(r[13])}function sv(r){return Yb(r[4])}function Yb(r){for(;null!==r&&!zt(r);)r=r[4];return r}function fl(r,i,o,u,c){if(null!=u){let d,m=!1;zt(u)?d=u:$r(u)&&(m=!0,u=u[0]);const y=Mt(u);0===r&&null!==o?null==c?Cd(i,o,y):pu(i,o,y,c||null,!0):1===r&&null!==o?pu(i,o,y,c||null,!0):2===r?function(r,i,o){const u=Wh(r,i);u&&function(r,i,o,u){vn(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,y,m):3===r&&i.destroyNode(y),null!=d&&function(r,i,o,u,c){const d=o[7];d!==Mt(o)&&fl(i,r,u,d,c);for(let y=10;y<o.length;y++){const b=o[y];Kh(b[1],b,r,i,u,d)}}(i,r,d,o,c)}}function Vp(r,i,o){return vn(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function Xb(r,i){const o=r[9],u=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,Ya(c,-1)),o.splice(u,1)}function zm(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&Xb(c,u),i>0&&(r[o-1][4]=u[4]);const d=ho(r,10+i);!function(r,i){Kh(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const m=d[19];null!==m&&m.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function eE(r,i){if(!(256&i[2])){const o=i[11];vn(o)&&o.destroyNode&&Kh(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return av(r[1],r);for(;i;){let o=null;if($r(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)$r(i)&&av(i[1],i),i=i[3];null===i&&(i=r),$r(i)&&av(i[1],i),o=i&&i[4]}i=o}}(i)}}function av(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof R)){const d=o[u+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const y=c[d[m]],b=d[m+1];try{b.call(y)}finally{}}else try{d.call(c)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,u=i[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+1],y="function"==typeof m?m(i):Mt(i[m]),b=u[c=o[d+2]],T=o[d+3];"boolean"==typeof T?y.removeEventListener(o[d],b,T):T>=0?u[c=T]():u[c=-T].unsubscribe(),d+=2}else{const m=u[c=o[d+1]];o[d].call(m)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();i[7]=null}}(r,i),1===i[1].type&&vn(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&zt(i[3])){o!==i[3]&&Xb(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function Up(r,i,o){return function(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===Jt.None||c===Jt.Emulated)return null}return br(u,o)}(r,i.parent,o)}function pu(r,i,o,u,c){vn(r)?r.insertBefore(i,o,u,c):i.insertBefore(o,u,c)}function Cd(r,i,o){vn(r)?r.appendChild(i,o):i.appendChild(o)}function tE(r,i,o,u,c){null!==u?pu(r,i,o,u,c):Cd(r,i,o)}function Wh(r,i){return vn(r)?r.parentNode(i):i.parentNode}let cv=function(r,i,o){return 40&r.type?br(r,o):null};function lv(r,i,o,u){const c=Up(r,u,i),d=i[11],y=function(r,i,o){return cv(r,i,o)}(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let b=0;b<o.length;b++)tE(d,c,o[b],y,!1);else tE(d,c,o,y,!1)}function gu(r,i){if(null!==i){const o=i.type;if(3&o)return br(i,r);if(4&o)return hv(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return gu(r,u);{const c=r[i.index];return zt(c)?hv(-1,c):Mt(c)}}if(32&o)return Zb(i,r)()||Mt(r[i.index]);{const u=dv(r,i);return null!==u?Array.isArray(u)?u[0]:gu(zh(r[16]),u):gu(r,i.next)}}return null}function dv(r,i){return null!==i?r[16][6].projection[i.projection]:null}function hv(r,i){const o=10+r+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return gu(u,c)}return i[7]}function fv(r,i,o,u,c,d,m){for(;null!=o;){const y=u[o.index],b=o.type;if(m&&0===i&&(y&&Wr(Mt(y),u),o.flags|=4),64!=(64&o.flags))if(8&b)fv(r,i,o.child,u,c,d,!1),fl(i,r,c,y,d);else if(32&b){const T=Zb(o,u);let S;for(;S=T();)fl(i,r,c,S,d);fl(i,r,c,y,d)}else 16&b?iE(r,i,u,o,c,d):fl(i,r,c,y,d);o=m?o.projectionNext:o.next}}function Kh(r,i,o,u,c,d){fv(o,u,r.firstChild,i,c,d,!1)}function iE(r,i,o,u,c,d){const m=o[16],b=m[6].projection[u.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)fl(i,r,c,b[T],d);else fv(r,i,b,m[3],c,d,!0)}function oE(r,i,o){vn(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function pv(r,i,o){vn(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function aE(r,i,o){let u=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const d=i.length;if(c+d===u||r.charCodeAt(c+d)<=32)return c}o=c+1}}const cE="ng-template";function CT(r,i,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==aE(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function gv(r){return 4===r.type&&r.value!==cE}function IT(r,i,o){return i===(4!==r.type||o?r.value:cE)}function t1(r,i,o){let u=4;const c=r.attrs||[],d=function(r){for(let i=0;i<r.length;i++)if(qu(r[i]))return i;return r.length}(c);let m=!1;for(let y=0;y<i.length;y++){const b=i[y];if("number"!=typeof b){if(!m)if(4&u){if(u=2|1&u,""!==b&&!IT(r,b,o)||""===b&&1===i.length){if(Ma(u))return!1;m=!0}}else{const T=8&u?b:i[++y];if(8&u&&null!==r.attrs){if(!CT(r.attrs,T,o)){if(Ma(u))return!1;m=!0}continue}const O=Ae(8&u?"class":b,c,gv(r),o);if(-1===O){if(Ma(u))return!1;m=!0;continue}if(""!==T){let F;F=O>d?"":c[O+1].toLowerCase();const q=8&u?F:null;if(q&&-1!==aE(q,T,0)||2&u&&T!==F){if(Ma(u))return!1;m=!0}}}}else{if(!m&&!Ma(u)&&!Ma(b))return!1;if(m&&Ma(b))continue;m=!1,u=b|1&u}}return Ma(u)||m}function Ma(r){return 0==(1&r)}function Ae(r,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let d=!1;for(;c<i.length;){const m=i[c];if(m===r)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let y=i[++c];for(;"string"==typeof y;)y=i[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function mv(r,i,o=!1){for(let u=0;u<i.length;u++)if(t1(r,i[u],o))return!0;return!1}function Ym(r,i){return r?":not("+i.trim()+")":i}function AT(r){let i=r[0],o=1,u=2,c="",d=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&u){const y=r[++o];c+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!Ma(m)&&(i+=Ym(d,c),c=""),u=m,d=d||!Ma(u);o++}return""!==c&&(i+=Ym(d,c)),i}const Ot={};function lE(r){Vo(Vt(),Oe(),qr()+r,Mo())}function Vo(r,i,o,u){if(!u)if(3==(3&i[2])){const d=r.preOrderCheckHooks;null!==d&&ao(i,d,o)}else{const d=r.preOrderHooks;null!==d&&va(i,d,0,o)}xi(o)}function yv(r,i){return r<<17|i<<2}function Ra(r){return r>>17&32767}function mu(r){return 2|r}function Pt(r){return(131068&r)>>2}function _v(r,i){return-131069&r|i<<2}function et(r){return 1|r}function sy(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const m=r.data[d];ju(c),m.contentQueries(2,i[d],d)}}}function $p(r,i,o,u,c,d,m,y,b,T){const S=i.blueprint.slice();return S[0]=c,S[2]=140|u,So(S),S[3]=S[15]=r,S[8]=o,S[10]=m||r&&r[10],S[11]=y||r&&r[11],S[12]=b||r&&r[12]||null,S[9]=T||r&&r[9]||null,S[6]=d,S[16]=2==i.type?r[16]:S,S}function Jh(r,i,o,u,c){let d=r.data[i];if(null===d)d=function(r,i,o,u,c){const d=qc(),m=io(),b=r.data[i]=function(r,i,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,i,u,c);return null===r.firstChild&&(r.firstChild=b),null!==d&&(m?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b)),b}(r,i,o,u,c),at.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const m=function(){const r=at.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return ai(d,!0),d}function Id(r,i,o,u){if(0===o)return-1;const c=i.length;for(let d=0;d<o;d++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function qp(r,i,o){oo(i);try{const u=r.viewQuery;null!==u&&Ad(1,u,o);const c=r.template;null!==c&&ef(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&sy(r,i),r.staticViewQueries&&Ad(2,r.viewQuery,o);const d=r.components;null!==d&&function(r,i){for(let o=0;o<i.length;o++)fy(r,i[o])}(i,d)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,ed()}}function Xh(r,i,o,u){const c=i[2];if(256==(256&c))return;oo(i);const d=Mo();try{So(i),function(r){at.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&ef(r,i,o,2,u);const m=3==(3&c);if(!d)if(m){const T=r.preOrderCheckHooks;null!==T&&ao(i,T,null)}else{const T=r.preOrderHooks;null!==T&&va(i,T,0,null),ui(i,0)}if(function(r){for(let i=iv(r);null!==i;i=sv(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(1024&c[2])&&Ya(d,1),c[2]|=1024}}}(i),function(r){for(let i=iv(r);null!==i;i=sv(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];Ao(u)&&Xh(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&sy(r,i),!d)if(m){const T=r.contentCheckHooks;null!==T&&ao(i,T)}else{const T=r.contentHooks;null!==T&&va(i,T,1),ui(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)xi(~c);else{const d=c,m=o[++u],y=o[++u];Xa(m,d),y(2,i[d])}}}finally{xi(-1)}}(r,i);const y=r.components;null!==y&&function(r,i){for(let o=0;o<i.length;o++)NE(r,i[o])}(i,y);const b=r.viewQuery;if(null!==b&&Ad(2,b,u),!d)if(m){const T=r.viewCheckHooks;null!==T&&ao(i,T)}else{const T=r.viewHooks;null!==T&&va(i,T,2),ui(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Ya(i[3],-1))}finally{ed()}}function Bi(r,i,o,u){const c=i[10],d=!Mo(),m=to(i);try{d&&!m&&c.begin&&c.begin(),m&&qp(r,i,u),Xh(r,i,o,u)}finally{d&&!m&&c.end&&c.end()}}function ef(r,i,o,u,c){const d=qr(),m=2&u;try{xi(-1),m&&i.length>20&&Vo(r,i,20,Mo()),o(u,c)}finally{xi(d)}}function Dd(r,i,o){!Uu()||(function(r,i,o,u){const c=o.directiveStart,d=o.directiveEnd;r.firstCreatePass||uo(o,i),Wr(u,i);const m=o.initialInputs;for(let y=c;y<d;y++){const b=r.data[y],T=fr(b);T&&xE(i,o,b);const S=co(i,r,y,o);Wr(S,i),null!==m&&Nv(0,y-c,S,b,0,m),T&&(rr(o.index,i)[8]=S)}}(r,i,o,br(o,i)),128==(128&o.flags)&&function(r,i,o){const u=o.directiveStart,c=o.directiveEnd,m=o.index,y=at.lFrame.currentDirectiveIndex;try{xi(m);for(let b=u;b<c;b++){const T=r.data[b],S=i[b];Ro(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&xv(T,S)}}finally{xi(-1),Ro(y)}}(r,i,o))}function Dv(r,i,o=br){const u=i.localNames;if(null!==u){let c=i.index+1;for(let d=0;d<u.length;d+=2){const m=u[d+1],y=-1===m?o(i,r):r[m];r[c++]=y}}}function wE(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Td(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Td(r,i,o,u,c,d,m,y,b,T){const S=20+u,O=S+c,F=function(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:Ot);return o}(S,O),q="function"==typeof T?T():T;return F[1]={type:r,blueprint:F,template:o,queries:null,viewQuery:y,declTNode:i,data:F.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:q,incompleteFirstPass:!1}}function cy(r,i,o,u){const c=Fv(i);null===o?c.push(u):(c.push(o),r.firstCreatePass&&nf(r).push(u,c.length-1))}function Tv(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function Fs(r,i,o,u,c,d,m,y){const b=br(i,o);let S,T=i.inputs;!y&&null!=T&&(S=T[u])?(my(r,o,S,u,c),qa(i)&&function(r,i){const o=rr(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=m?m(c,i.value||"",u):c,vn(d)?d.setProperty(b,u,c):Yc(u)||(b.setProperty?b.setProperty(u,c):b[u]=c))}function Kr(r,i,o,u){let c=!1;if(Uu()){const d=function(r,i,o){const u=r.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const m=u[d];mv(o,m.selectors,!1)&&(c||(c=[]),Is(uo(o,i),r,m.type),fr(m)?(AE(r,o),c.unshift(m)):c.push(m))}return c}(r,i,o),m=null===u?null:{"":-1};if(null!==d){c=!0,SE(o,r.data.length,d.length);for(let S=0;S<d.length;S++){const O=d[S];O.providersResolver&&O.providersResolver(O)}let y=!1,b=!1,T=Id(r,i,d.length,null);for(let S=0;S<d.length;S++){const O=d[S];o.mergedAttrs=Gu(o.mergedAttrs,O.hostAttrs),dy(r,o,i,T,O),Rv(T,O,m),null!==O.contentQueries&&(o.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(o.flags|=128);const F=O.type.prototype;!y&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!b&&(F.ngOnChanges||F.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),b=!0),T++}!function(r,i){const u=i.directiveEnd,c=r.data,d=i.attrs,m=[];let y=null,b=null;for(let T=i.directiveStart;T<u;T++){const S=c[T],O=S.inputs,F=null===d||gv(i)?null:Ov(O,d);m.push(F),y=Tv(O,T,y),b=Tv(S.outputs,T,b)}null!==y&&(y.hasOwnProperty("class")&&(i.flags|=16),y.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=y,i.outputs=b}(r,o)}m&&function(r,i,o){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const d=o[i[c+1]];if(null==d)throw new ye("301",`Export of name '${i[c+1]}' not found!`);u.push(i[c],d)}}}(o,u,m)}return o.mergedAttrs=Gu(o.mergedAttrs,o.attrs),c}function Gp(r,i,o,u,c,d){const m=d.hostBindings;if(m){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const b=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=b&&y.push(b),y.push(u,c,m)}}function xv(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function AE(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function Rv(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;fr(i)&&(o[""]=r)}}function SE(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function dy(r,i,o,u,c){r.data[u]=c;const d=c.factory||(c.factory=Ar(c.type)),m=new R(d,fr(c),null);r.blueprint[u]=m,o[u]=m,Gp(r,i,0,u,Id(r,o,c.hostVars,Ot),c)}function xE(r,i,o){const u=br(i,r),c=wE(o),d=r[10],m=py(r,$p(r,c,null,o.onPush?64:16,u,i,d,d.createRenderer(u,o),null,null));r[i.index]=m}function vu(r,i,o,u,c,d){const m=br(r,i);!function(r,i,o,u,c,d,m){if(null==d)vn(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const y=null==m?Ne(d):m(d,u||"",c);vn(r)?r.setAttribute(i,c,y,o):o?i.setAttributeNS(o,c,y):i.setAttribute(c,y)}}(i[11],m,d,r.value,o,u,c)}function Nv(r,i,o,u,c,d){const m=d[i];if(null!==m){const y=u.setInput;for(let b=0;b<m.length;){const T=m[b++],S=m[b++],O=m[b++];null!==y?u.setInput(o,O,T,S):o[S]=O}}}function Ov(r,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function ME(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function NE(r,i){const o=rr(i,r);if(Ao(o)){const u=o[1];80&o[2]?Xh(u,o,u.template,o[8]):o[5]>0&&hy(o)}}function hy(r){for(let u=iv(r);null!==u;u=sv(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const m=d[1];Xh(m,d,m.template,d[8])}else d[5]>0&&hy(d)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=rr(o[u],r);Ao(c)&&c[5]>0&&hy(c)}}function fy(r,i){const o=rr(i,r),u=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),qp(u,o,o[8])}function py(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function ml(r){for(;r;){r[2]|=64;const i=zh(r);if(Fu(r)&&!i)return r;r=i}return null}function fc(r,i,o){const u=i[10];u.begin&&u.begin();try{Xh(r,i,r.template,o)}catch(c){throw Lv(i,c),c}finally{u.end&&u.end()}}function kv(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=Cr(o),c=u[1];Bi(c,u,c.template,o)}}(r[8])}function Ad(r,i,o){ju(0),i(r,o)}const cs=(()=>Promise.resolve(null))();function Fv(r){return r[7]||(r[7]=[])}function nf(r){return r.cleanup||(r.cleanup=[])}function Lv(r,i){const o=r[9],u=o?o.get(Ee,null):null;u&&u.handleError(i)}function my(r,i,o,u,c){for(let d=0;d<o.length;){const m=o[d++],y=o[d++],b=i[m],T=r.data[m];null!==T.setInput?T.setInput(b,c,u,y):b[y]=c}}function wu(r,i,o){const u=fa(i,r);!function(r,i,o){vn(r)?r.setValue(i,o):i.textContent=o}(r[11],u,o)}function Wp(r,i,o){let u=o?r.styles:null,c=o?r.classes:null,d=0;if(null!==i)for(let m=0;m<i.length;m++){const y=i[m];"number"==typeof y?d=y:1==d?c=de(c,y):2==d&&(u=de(u,y+": "+i[++m]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}const yl=new bn("INJECTOR",-1);class Yp{get(i,o=xs){if(o===xs){const u=new Error(`NullInjectorError: No provider for ${Y(i)}!`);throw u.name="NullInjectorError",u}return o}}const pc=new bn("Set Injector scope."),rf={},GT={};let Qp;function Jp(){return void 0===Qp&&(Qp=new Yp),Qp}function Bv(r,i=null,o=null,u){return new kE(r,o,i||Jp(),u)}class kE{constructor(i,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&Pi(o,y=>this.processProvider(y,i,o)),Pi([i],y=>this.processInjectorType(y,[],d)),this.records.set(yl,gc(void 0,this));const m=this.records.get(pc);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof i?null:Y(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=xs,u=Pe.Default){this.assertNotDestroyed();const c=tc(this),d=_n(void 0);try{if(!(u&Pe.SkipSelf)){let y=this.records.get(i);if(void 0===y){const b=("function"==typeof(r=i)||"object"==typeof r&&r instanceof bn)&&vr(i);y=b&&this.injectableDefInScope(b)?gc(yy(i),rf):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(u&Pe.Self?Jp():this.parent).get(i,o=u&Pe.Optional&&o===xs?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[wi]=m[wi]||[]).unshift(Y(i)),c)throw m;return Cm(m,i,"R3InjectorError",this.source)}throw m}finally{_n(d),tc(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,c)=>i.push(Y(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,u){if(!(i=Q(i)))return!1;let c=Fn(i);const d=null==c&&i.ngModule||void 0,m=void 0===d?i:d,y=-1!==u.indexOf(m);if(void 0!==d&&(c=Fn(d)),null==c)return!1;if(null!=c.imports&&!y){let S;u.push(m);try{Pi(c.imports,O=>{this.processInjectorType(O,o,u)&&(void 0===S&&(S=[]),S.push(O))})}finally{}if(void 0!==S)for(let O=0;O<S.length;O++){const{ngModule:F,providers:q}=S[O];Pi(q,K=>this.processProvider(K,F,q||He))}}this.injectorDefTypes.add(m);const b=Ar(m)||(()=>new m);this.records.set(m,gc(b,rf));const T=c.providers;if(null!=T&&!y){const S=i;Pi(T,O=>this.processProvider(O,S,T))}return void 0!==d&&void 0!==i.providers}processProvider(i,o,u){let c=of(i=Q(i))?i:Q(i&&i.provide);const d=sf(r=i)?gc(void 0,r.useValue):gc(jv(r),rf);var r;if(of(i)||!0!==i.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=gc(void 0,rf,!0),m.factory=()=>il(m.multi),this.records.set(c,m)),c=i,m.multi.push(i)}this.records.set(c,d)}hydrate(i,o){return o.value===rf&&(o.value=GT,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Q(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function yy(r){const i=vr(r),o=null!==i?i.factory:Ar(r);if(null!==o)return o;if(r instanceof bn)throw new Error(`Token ${Y(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?");throw new Error(`Can't resolve all parameters for ${Y(r)}: (${u.join(", ")}).`)}const o=function(r){const i=r&&(r[dn]||r[Mn]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function jv(r,i,o){let u;if(of(r)){const c=Q(r);return Ar(c)||yy(c)}if(sf(r))u=()=>Q(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...il(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>Qn(Q(r.useExisting));else{const c=Q(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Ar(c)||yy(c);u=()=>new c(...il(r.deps))}return u}function gc(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function sf(r){return null!==r&&"object"==typeof r&&Ph in r}function of(r){return"function"==typeof r}const _l=function(r,i,o){return function(r,i=null,o=null,u){const c=Bv(r,i,o,u);return c._resolveInjectorDefTypes(),c}({name:o},i,r,o)};let cn=(()=>{class r{static create(o,u){return Array.isArray(o)?_l(o,u,""):_l(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=xs,r.NULL=new Yp,r.\u0275prov=yn({token:r,providedIn:"any",factory:()=>Qn(yl)}),r.__NG_ELEMENT_ID__=-1,r})();function nA(r,i){Es(Cr(r)[1],Rn())}function iw(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let c;if(fr(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(o){u.push(c);const m=r;m.inputs=sw(r.inputs),m.declaredInputs=sw(r.declaredInputs),m.outputs=sw(r.outputs);const y=c.hostBindings;y&&qE(r,y);const b=c.viewQuery,T=c.contentQueries;if(b&&iA(r,b),T&&HE(r,T),X(r.inputs,c.inputs),X(r.declaredInputs,c.declaredInputs),X(r.outputs,c.outputs),fr(c)&&c.data.animation){const S=r.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const y=d[m];y&&y.ngInherit&&y(r),y===iw&&(o=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=i+=c.hostVars,c.hostAttrs=Gu(c.hostAttrs,o=Gu(o,c.hostAttrs))}}(u)}function sw(r){return r===Ke?{}:r===He?[]:r}function iA(r,i){const o=r.viewQuery;r.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function HE(r,i){const o=r.contentQueries;r.contentQueries=o?(u,c,d)=>{i(u,c,d),o(u,c,d)}:i}function qE(r,i){const o=r.hostBindings;r.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}let Bo=null;function Md(){if(!Bo){const r=G.Symbol;if(r&&r.iterator)Bo=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Bo=u)}}}return Bo}function yc(r){return!!gf(r)&&(Array.isArray(r)||!(r instanceof Map)&&Md()in r)}function gf(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Qr(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Nd(r,i,o,u){const c=Qr(r,i,o);return Qr(r,i+1,u)||c}function Ey(r,i,o,u){const c=Oe();return Qr(c,_i(),i)&&(Vt(),vu(wn(),c,r,i,o,u)),Ey}function _c(r,i,o,u,c,d,m,y,b,T){const O=function(r,i,o,u,c,d){const m=Nd(r,i,o,u);return Nd(r,i+2,c,d)||m}(r,at.lFrame.bindingIndex,o,c,m,b);return vi(4),O?i+Ne(o)+u+Ne(c)+d+Ne(m)+y+Ne(b)+T:Ot}function Cy(r,i,o,u,c,d,m,y){const b=Oe(),T=Vt(),S=r+20,O=T.firstCreatePass?function(r,i,o,u,c,d,m,y,b){const T=i.consts,S=Jh(i,r,4,m||null,bs(T,y));Kr(i,o,S,bs(T,b)),Es(i,S);const O=S.tViews=Td(2,S,u,c,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,T);return null!==i.queries&&(i.queries.template(i,S),O.queries=i.queries.embeddedTView(S)),S}(S,T,b,i,o,u,c,d,m):T.data[S];ai(O,!1);const F=b[11].createComment("");lv(T,b,F,O),Wr(F,b),py(b,b[S]=ME(F,b,F,O)),Hr(O)&&Dd(T,b,O),null!=m&&Dv(b,O,y)}function vc(r,i=Pe.Default){const o=Oe();return null===o?Qn(r,i):Dh(Rn(),o,Q(r),i)}function mf(r,i,o){const u=Oe();return Qr(u,_i(),i)&&Fs(Vt(),wn(),u,r,i,u[11],o,!1),mf}function Dy(r,i,o,u,c){const m=c?"class":"style";my(r,o,i.inputs[m],m,u)}function wc(r,i,o,u){const c=Oe(),d=Vt(),m=20+r,y=c[11],b=c[m]=Vp(y,i,at.lFrame.currentNamespace),T=d.firstCreatePass?function(r,i,o,u,c,d,m){const y=i.consts,T=Jh(i,r,2,c,bs(y,d));return Kr(i,o,T,bs(y,m)),null!==T.attrs&&Wp(T,T.attrs,!1),null!==T.mergedAttrs&&Wp(T,T.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,T),T}(m,d,c,0,i,o,u):d.data[m];ai(T,!0);const S=T.mergedAttrs;null!==S&&On(y,b,S);const O=T.classes;null!==O&&pv(y,b,O);const F=T.styles;null!==F&&oE(y,b,F),64!=(64&T.flags)&&lv(d,c,b,T),0===at.lFrame.elementDepthCount&&Wr(b,c),at.lFrame.elementDepthCount++,Hr(T)&&(Dd(d,c,T),function(r,i,o){if(Zs(i)){const c=i.directiveEnd;for(let d=i.directiveStart;d<c;d++){const m=r.data[d];m.contentQueries&&m.contentQueries(1,o[d],d)}}}(d,T,c)),null!==u&&Dv(c,T)}function Ho(){let r=Rn();io()?at.lFrame.isParent=!1:(r=r.parent,ai(r,!1));const i=r;at.lFrame.elementDepthCount--;const o=Vt();o.firstCreatePass&&(Es(o,r),Zs(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&Dy(o,i,Oe(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&Dy(o,i,Oe(),i.stylesWithoutHost,!1)}function yf(r,i,o,u){wc(r,i,o,u),Ho()}function xy(){return Oe()}function sg(r){return!!r&&"function"==typeof r.then}function yw(r){return!!r&&"function"==typeof r.subscribe}const My=yw;function _f(r,i,o,u){const c=Oe(),d=Vt(),m=Rn();return function(r,i,o,u,c,d,m,y){const b=Hr(u),S=r.firstCreatePass&&nf(r),O=i[8],F=Fv(i);let q=!0;if(3&u.type||y){const oe=br(u,i),je=y?y(oe):oe,xe=F.length,ct=y?It=>y(Mt(It[u.index])):u.index;if(vn(o)){let It=null;if(!y&&b&&(It=function(r,i,o,u){const c=r.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===o&&c[d+1]===u){const y=i[7],b=c[d+2];return y.length>b?y[b]:null}"string"==typeof m&&(d+=2)}return null}(r,i,c,u.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=d,It.__ngLastListenerFn__=d,q=!1;else{d=vw(u,i,O,d,!1);const Yt=o.listen(je,c,d);F.push(d,Yt),S&&S.push(c,ct,xe,xe+1)}}else d=vw(u,i,O,d,!0),je.addEventListener(c,d,m),F.push(d),S&&S.push(c,ct,xe,m)}else d=vw(u,i,O,d,!1);const K=u.outputs;let me;if(q&&null!==K&&(me=K[c])){const oe=me.length;if(oe)for(let je=0;je<oe;je+=2){const si=i[me[je]][me[je+1]].subscribe(d),$s=F.length;F.push(d,si),S&&S.push(c,u.index,$s,-($s+1))}}}(d,c,c[11],m,r,i,!!o,u),_f}function zn(r,i,o,u){try{return!1!==o(u)}catch(c){return Lv(r,c),!1}}function vw(r,i,o,u,c){return function d(m){if(m===Function)return u;const y=2&r.flags?rr(r.index,i):i;0==(32&i[2])&&ml(y);let b=zn(i,0,u,m),T=d.__ngNextListenerFn__;for(;T;)b=zn(i,0,T,m)&&b,T=T.__ngNextListenerFn__;return c&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function ww(r=1){return function(r){return(at.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,at.lFrame.contextLView))[8]}(r)}function qd(r,i,o,u,c){const d=r[o+1],m=null===i;let y=u?Ra(d):Pt(d),b=!1;for(;0!==y&&(!1===b||m);){const S=r[y+1];mA(r[y],i)&&(b=!0,r[y+1]=u?et(S):mu(S)),y=u?Ra(S):Pt(S)}b&&(r[o+1]=u?mu(d):et(d))}function mA(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&N(r,i)>=0}function zd(r,i){return function(r,i,o,u){const c=Oe(),d=Vt(),m=vi(2);d.firstUpdatePass&&function(r,i,o,u){const c=r.data;if(null===c[o+1]){const d=c[qr()],m=function(r,i){return i>=r.expandoStartIndex}(r,o);(function(r,i){return 0!=(r.flags&(i?16:32))})(d,u)&&null===i&&!m&&(i=!1),i=function(r,i,o,u){const c=function(r){const i=at.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let d=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=Cf(o=Ec(null,r,i,o,u),i.attrs,u),d=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==c)if(o=Ec(c,r,i,o,u),null===d){let b=function(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Pt(u))return r[Ra(u)]}(r,i,u);void 0!==b&&Array.isArray(b)&&(b=Ec(null,r,i,b[1],u),b=Cf(b,i.attrs,u),function(r,i,o,u){r[Ra(o?i.classBindings:i.styleBindings)]=u}(r,i,u,b))}else d=function(r,i,o){let u;const c=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<c;d++)u=Cf(u,r[d].hostAttrs,o);return Cf(u,i.attrs,o)}(r,i,u)}return void 0!==d&&(u?i.residualClasses=d:i.residualStyles=d),o}(c,d,i,u),function(r,i,o,u,c,d){let m=d?i.classBindings:i.styleBindings,y=Ra(m),b=Pt(m);r[u]=o;let S,T=!1;if(Array.isArray(o)){const O=o;S=O[1],(null===S||N(O,S)>0)&&(T=!0)}else S=o;if(c)if(0!==b){const F=Ra(r[y+1]);r[u+1]=yv(F,y),0!==F&&(r[F+1]=_v(r[F+1],u)),r[y+1]=function(r,i){return 131071&r|i<<17}(r[y+1],u)}else r[u+1]=yv(y,0),0!==y&&(r[y+1]=_v(r[y+1],u)),y=u;else r[u+1]=yv(b,0),0===y?y=u:r[b+1]=_v(r[b+1],u),b=u;T&&(r[u+1]=mu(r[u+1])),qd(r,S,u,!0),qd(r,S,u,!1),function(r,i,o,u,c){const d=c?r.residualClasses:r.residualStyles;null!=d&&"string"==typeof i&&N(d,i)>=0&&(o[u+1]=et(o[u+1]))}(i,S,r,u,d),m=yv(y,b),d?i.classBindings=m:i.styleBindings=m}(c,d,i,o,m,u)}}(d,r,m,u),i!==Ot&&Qr(c,m,i)&&function(r,i,o,u,c,d,m,y){if(!(3&i.type))return;const b=r.data,T=b[y+1];Fy(function(r){return 1==(1&r)}(T)?vC(b,i,o,c,Pt(T),m):void 0)||(Fy(d)||function(r){return 2==(2&r)}(T)&&(d=vC(b,null,o,c,y,m)),function(r,i,o,u,c){const d=vn(r);if(i)c?d?r.addClass(o,u):o.classList.add(u):d?r.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:fu.DashCase;if(null==c)d?r.removeStyle(o,u,m):o.style.removeProperty(u);else{const y="string"==typeof c&&c.endsWith("!important");y&&(c=c.slice(0,-10),m|=fu.Important),d?r.setStyle(o,u,c,m):o.style.setProperty(u,c,y?"important":"")}}}(u,m,fa(qr(),o),c,d))}(d,d.data[qr()],c,c[11],r,c[m+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=Y(bi(r)))),r}(i,o),u,m)}(r,i,null,!0),zd}function Ec(r,i,o,u,c){let d=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(d=i[y],u=Cf(u,d.hostAttrs,c),d!==r);)y++;return null!==r&&(o.directiveStylingLast=y),u}function Cf(r,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let d=0;d<i.length;d++){const m=i[d];"number"==typeof m?c=m:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),I(r,m,!!o||i[++d]))}return void 0===r?null:r}function vC(r,i,o,u,c,d){const m=null===i;let y;for(;c>0;){const b=r[c],T=Array.isArray(b),S=T?b[1]:b,O=null===S;let F=o[c+1];F===Ot&&(F=O?He:void 0);let q=O?A(F,u):S===u?F:void 0;if(T&&!Fy(q)&&(q=A(b,u)),Fy(q)&&(y=q,m))return y;const K=r[c+1];c=m?Ra(K):Pt(K)}if(null!==i){let b=d?i.residualClasses:i.residualStyles;null!=b&&(y=A(b,u))}return y}function Fy(r){return void 0!==r}function dg(r,i=""){const o=Oe(),u=Vt(),c=r+20,d=u.firstCreatePass?Jh(u,c,1,i,null):u.data[c],m=o[c]=function(r,i){return vn(r)?r.createText(i):r.createTextNode(i)}(o[11],i);lv(u,o,m,d),ai(d,!1)}function Dw(r){return Tf("",r,""),Dw}function Tf(r,i,o){const u=Oe(),c=function(r,i,o,u){return Qr(r,_i(),o)?i+Ne(o)+u:Ot}(u,r,i,o);return c!==Ot&&wu(u,qr(),c),Tf}function Ly(r,i,o,u,c,d,m,y,b){const T=Oe(),S=_c(T,r,i,o,u,c,d,m,y,b);return S!==Ot&&wu(T,qr(),S),Ly}function Uy(r,i,o){const u=Oe();return Qr(u,_i(),i)&&Fs(Vt(),wn(),u,r,i,u[11],o,!0),Uy}const Dl=void 0;var CA=["en",[["a","p"],["AM","PM"],Dl],[["AM","PM"],Dl,Dl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dl,"{1} 'at' {0}",Dl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Mf={};function Wd(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=ni(i);if(o)return o;const u=i.split("-")[0];if(o=ni(u),o)return o;if("en"===u)return CA;throw new Error(`Missing locale data for the locale "${r}".`)}function xC(r){return Wd(r)[gt.PluralCase]}function ni(r){return r in Mf||(Mf[r]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[r]),Mf[r]}var gt=(()=>((gt=gt||{})[gt.LocaleId=0]="LocaleId",gt[gt.DayPeriodsFormat=1]="DayPeriodsFormat",gt[gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",gt[gt.DaysFormat=3]="DaysFormat",gt[gt.DaysStandalone=4]="DaysStandalone",gt[gt.MonthsFormat=5]="MonthsFormat",gt[gt.MonthsStandalone=6]="MonthsStandalone",gt[gt.Eras=7]="Eras",gt[gt.FirstDayOfWeek=8]="FirstDayOfWeek",gt[gt.WeekendRange=9]="WeekendRange",gt[gt.DateFormat=10]="DateFormat",gt[gt.TimeFormat=11]="TimeFormat",gt[gt.DateTimeFormat=12]="DateTimeFormat",gt[gt.NumberSymbols=13]="NumberSymbols",gt[gt.NumberFormats=14]="NumberFormats",gt[gt.CurrencyCode=15]="CurrencyCode",gt[gt.CurrencySymbol=16]="CurrencySymbol",gt[gt.CurrencyName=17]="CurrencyName",gt[gt.Currencies=18]="Currencies",gt[gt.Directionality=19]="Directionality",gt[gt.PluralCase=20]="PluralCase",gt[gt.ExtraData=21]="ExtraData",gt))();const mg="en-US";let RC=mg;function Rf(r){on(r,"Expected localeId to be defined"),"string"==typeof r&&(RC=r.toLowerCase().replace(/_/g,"-"))}function Zy(r,i,o,u,c){if(r=Q(r),Array.isArray(r))for(let d=0;d<r.length;d++)Zy(r[d],i,o,u,c);else{const d=Vt(),m=Oe();let y=of(r)?r:Q(r.provide),b=jv(r);const T=Rn(),S=1048575&T.providerIndexes,O=T.directiveStart,F=T.providerIndexes>>20;if(of(r)||!r.multi){const q=new R(b,c,vc),K=Ml(y,i,c?S:S+F,O);-1===K?(Is(uo(T,m),d,y),Sc(d,r,i.length),i.push(y),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),o.push(q),m.push(q)):(o[K]=q,m[K]=q)}else{const q=Ml(y,i,S+F,O),K=Ml(y,i,S,S+F),me=q>=0&&o[q],oe=K>=0&&o[K];if(c&&!oe||!c&&!me){Is(uo(T,m),d,y);const je=function(r,i,o,u,c){const d=new R(r,o,vc);return d.multi=[],d.index=i,d.componentProviders=0,JC(d,c,u&&!o),d}(c?Rl:XC,o.length,c,u,b);!c&&oe&&(o[K].providerFactory=je),Sc(d,r,i.length,0),i.push(y),T.directiveStart++,T.directiveEnd++,c&&(T.providerIndexes+=1048576),o.push(je),m.push(je)}else Sc(d,r,q>-1?q:K,JC(o[c?K:q],b,!c&&u));!c&&u&&oe&&o[K].componentProviders++}}}function Sc(r,i,o,u){const c=of(i);if(c||function(r){return!!r.useClass}(i)){const m=(i.useClass||i).prototype.ngOnDestroy;if(m){const y=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const b=y.indexOf(o);-1===b?y.push(o,[u,m]):y[b+1].push(u,m)}else y.push(o,m)}}}function JC(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Ml(r,i,o,u){for(let c=o;c<u;c++)if(i[c]===r)return c;return-1}function XC(r,i,o,u){return xc(this.multi,[])}function Rl(r,i,o,u){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=co(o,o[1],this.providerFactory.index,u);d=y.slice(0,m),xc(c,d);for(let b=m;b<y.length;b++)d.push(y[b])}else d=[],xc(c,d);return d}function xc(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function zw(r,i=[]){return o=>{o.providersResolver=(u,c)=>function(r,i,o){const u=Vt();if(u.firstCreatePass){const c=fr(r);Zy(o,u.data,u.blueprint,c,!0),Zy(i,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,i)}}class eI{}const nI="ngComponent";class jf{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${Y(r)}. Did you add it to @NgModule.entryComponents?`);return i[nI]=r,i}(i)}}let Yd=(()=>{class r{}return r.NULL=new jf,r})();function Eg(...r){}function Mc(r,i){return new Ko(br(r,i))}const Kw=function(){return Mc(Rn(),Oe())};let Ko=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Kw,r})();function $f(r){return r instanceof Ko?r.nativeElement:r}class Hf{}let VA=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>sI(),r})();const sI=function(){const r=Oe(),o=rr(Rn().index,r);return function(r){return r[11]}($r(o)?o:r)};let Wy=(()=>{class r{}return r.\u0275prov=yn({token:r,providedIn:"root",factory:()=>null}),r})();class Ky{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Qw=new Ky("12.2.12");class Jw{constructor(){}supports(i){return yc(i)}create(i){return new $A(i)}}const BA=(r,i)=>i;class $A{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||BA}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const m=!u||o&&o.currentIndex<Cg(u,c,d)?o:u,y=Cg(m,c,d),b=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{d||(d=[]);const T=y-c,S=b-c;if(T!=S){for(let F=0;F<T;F++){const q=F<d.length?d[F]:d[F]=0,K=q+F;S<=K&&K<T&&(d[F]=q+1)}d[m.previousIndex]=S-T}}y!==b&&i(m,y,b)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!yc(i))throw new Error(`Error trying to diff '${Y(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,d,m,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)d=i[y],m=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,d,m,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,y),u=!0),o=o._next}else c=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Md()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,y=>{m=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,y,m,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,d,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,d,c)):i=this._addAfter(new qf(o,u),d,c),i}_verifyReinsertion(i,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?i=this._reinsertAfter(d,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,d=i._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Yy),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yy),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class qf{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gf{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Yy{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new Gf,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cg(r,i,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class Xw{constructor(){}supports(i){return i instanceof Map||gf(i)}create(){return new aI}}class aI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||gf(i)))throw new Error(`Error trying to diff '${Y(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const u=new HA(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class HA{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qy(){return new Jy([new Jw])}let Jy=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||Qy()),deps:[[r,new lu,new Rs]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=yn({token:r,providedIn:"root",factory:Qy}),r})();function uI(){return new zf([new Xw])}let zf=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||uI()),deps:[[r,new lu,new Rs]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=yn({token:r,providedIn:"root",factory:uI}),r})();function Xy(r,i,o,u,c=!1){for(;null!==o;){const d=i[o.index];if(null!==d&&u.push(Mt(d)),zt(d))for(let y=10;y<d.length;y++){const b=d[y],T=b[1].firstChild;null!==T&&Xy(b[1],b,T,u)}const m=o.type;if(8&m)Xy(r,i,o.child,u);else if(32&m){const y=Zb(o,i);let b;for(;b=y();)u.push(b)}else if(16&m){const y=dv(i,o);if(Array.isArray(y))u.push(...y);else{const b=zh(i[16]);Xy(b[1],b,y,u,!0)}}o=c?o.projectionNext:o.next}return u}class Qd{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Xy(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(zt(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(zm(i,u),ho(o,u))}this._attachedToViewContainer=!1}eE(this._lView[1],this._lView)}onDestroy(i){cy(this._lView[1],this._lView,null,i)}markForCheck(){ml(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){yi(!0);try{fc(r,i,o)}finally{yi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,Kh(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class li extends Qd{constructor(i){super(i),this._view=i}detectChanges(){kv(this._view)}checkNoChanges(){!function(r){yi(!0);try{kv(r)}finally{yi(!1)}}(this._view)}get context(){return null}}const GA=function(r){return function(r,i,o){if(qa(r)&&!o){const u=rr(r.index,i);return new Qd(u,u)}return 47&r.type?new Qd(i[16],i):null}(Rn(),Oe(),16==(16&r))};let zA=(()=>{class r{}return r.__NG_ELEMENT_ID__=GA,r})();const t0=[new Xw],lI=new Jy([new Jw]),n0=new zf(t0),n_=function(){return r_(Rn(),Oe())};let Jd=(()=>{class r{}return r.__NG_ELEMENT_ID__=n_,r})();const r0=Jd,s0=class extends r0{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=$p(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),qp(o,u,i),new Qd(u)}};function r_(r,i){return 4&r.type?new s0(i,r,Mc(r,i)):null}class Ol{}class hI{}const fI=function(){return gI(Rn(),Oe())};let Xd=(()=>{class r{}return r.__NG_ELEMENT_ID__=fI,r})();const o0=Xd,a0=class extends o0{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Mc(this._hostTNode,this._hostLView)}get injector(){return new Mr(this._hostTNode,this._hostLView)}get parentInjector(){const i=No(this._hostTNode,this._hostLView);if(Jc(i)){const o=Zu(i,this._hostLView),u=zu(i);return new Mr(o[1].data[u+8],o)}return new Mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=pI(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const c=i.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(i,o,u,c,d){const m=u||this.parentInjector;if(!d&&null==i.ngModule&&m){const b=m.get(Ol,null);b&&(d=b)}const y=i.create(m,c,void 0,d);return this.insert(y.hostView,o),y}insert(i,o){const u=i._lView,c=u[1];if(zt(u[3])){const S=this.indexOf(i);if(-1!==S)this.detach(S);else{const O=u[3],F=new a0(O,O[6],O[3]);F.detach(F.indexOf(i))}}const d=this._adjustIndex(o),m=this._lContainer;!function(r,i,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=i),u<d-10?(i[4]=o[c],os(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const y=i[19];null!==y&&y.insertView(r),i[2]|=128}(c,u,m,d);const y=hv(d,m),b=u[11],T=Wh(b,m[7]);return null!==T&&function(r,i,o,u,c,d){u[0]=c,u[6]=i,Kh(r,u,o,1,c,d)}(c,m[6],b,u,T,y),i.attachToViewContainerRef(),os(u0(m),d,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=pI(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=zm(this._lContainer,o);u&&(ho(u0(this._lContainer),o),eE(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=zm(this._lContainer,o);return u&&null!=ho(u0(this._lContainer),o)?new Qd(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function pI(r){return r[8]}function u0(r){return r[8]||(r[8]=[])}function gI(r,i){let o;const u=i[r.index];if(zt(u))o=u;else{let c;if(8&r.type)c=Mt(u);else{const d=i[11];c=d.createComment("");const m=br(r,i);pu(d,Wh(d,m),c,function(r,i){return vn(r)?r.nextSibling(i):i.nextSibling}(d,m),!1)}i[r.index]=o=ME(u,i,c,r),py(i,o)}return new a0(o,r,i)}const Fl={};class Vg extends Yd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Xt(i);return new V0(o,this.ngModule)}}function NI(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const gS=new bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Fp});class V0 extends eI{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(AT).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return NI(this.componentDef.inputs)}get outputs(){return NI(this.componentDef.outputs)}create(i,o,u,c){const d=(c=c||this.ngModule)?function(r,i){return{get:(o,u,c)=>{const d=r.get(o,Fl,c);return d!==Fl||u===Fl?d:i.get(o,u,c)}}}(i,c.injector):i,m=d.get(Hf,To),y=d.get(Wy,null),b=m.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",S=u?function(r,i,o){if(vn(r))return r.selectRootElement(i,o===Jt.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(b,u,this.componentDef.encapsulation):Vp(m.createRenderer(null,this.componentDef),T,function(r){const i=r.toLowerCase();return"svg"===i?Io:"math"===i?"http://www.w3.org/1998/MathML/":null}(T)),O=this.componentDef.onPush?576:528,F=function(r,i){return{components:[],scheduler:r||Fp,clean:cs,playerHandler:i||null,flags:0}}(),q=Td(0,null,null,1,0,null,null,null,null,null),K=$p(null,q,F,O,null,null,m,b,y,d);let me,oe;oo(K);try{const je=function(r,i,o,u,c,d){const m=o[1];o[20]=r;const b=Jh(m,20,2,"#host",null),T=b.mergedAttrs=i.hostAttrs;null!==T&&(Wp(b,T,!0),null!==r&&(On(c,r,T),null!==b.classes&&pv(c,r,b.classes),null!==b.styles&&oE(c,r,b.styles)));const S=u.createRenderer(r,i),O=$p(o,wE(i),null,i.onPush?64:16,o[20],b,u,S,d||null,null);return m.firstCreatePass&&(Is(uo(b,o),m,i.type),AE(m,b),SE(b,o.length,1)),py(o,O),o[20]=O}(S,this.componentDef,K,m,b);if(S)if(u)On(b,S,["ng-version",Qw.full]);else{const{attrs:xe,classes:ct}=function(r){const i=[],o=[];let u=1,c=2;for(;u<r.length;){let d=r[u];if("string"==typeof d)2===c?""!==d&&i.push(d,r[++u]):8===c&&o.push(d);else{if(!Ma(c))break;c=d}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);xe&&On(b,S,xe),ct&&ct.length>0&&pv(b,S,ct.join(" "))}if(oe=mi(q,20),void 0!==o){const xe=oe.projection=[];for(let ct=0;ct<this.ngContentSelectors.length;ct++){const It=o[ct];xe.push(null!=It?Array.from(It):null)}}me=function(r,i,o,u,c){const d=o[1],m=function(r,i,o){const u=Rn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),dy(r,u,i,Id(r,i,1,null),o));const c=co(i,r,u.directiveStart,u);Wr(c,i);const d=br(u,i);return d&&Wr(d,i),c}(d,o,i);if(u.components.push(m),r[8]=m,c&&c.forEach(b=>b(m,i)),i.contentQueries){const b=Rn();i.contentQueries(1,m,b.directiveStart)}const y=Rn();return!d.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(xi(y.index),Gp(o[1],y,0,y.directiveStart,y.directiveEnd,i),xv(i,m)),m}(je,this.componentDef,K,F,[nA]),qp(q,K,null)}finally{ed()}return new B0(this.componentType,me,Mc(oe,K),K,oe)}}class B0 extends class{}{constructor(i,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new li(c),this.componentType=i}get injector(){return new Mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Ll=new Map;class q0 extends Ol{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Vg(this);const u=er(i),c=i[Lt]||null;c&&Rf(c),this._bootstrapComponents=us(u.bootstrap),this._r3Injector=Bv(i,o,[{provide:Ol,useValue:this},{provide:Yd,useValue:this.componentFactoryResolver}],Y(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=cn.THROW_IF_NOT_FOUND,u=Pe.Default){return i===cn||i===Ol||i===yl?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Vl extends hI{constructor(i){super(),this.moduleType=i,null!==er(i)&&function(r){const i=new Set;!function o(u){const c=er(u,!0),d=c.id;null!==d&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${Y(i)} vs ${Y(i.name)}`)}(d,Ll.get(d),u),Ll.set(d,u));const m=us(c.imports);for(const y of m)i.has(y)||(i.add(y),o(y))}(r)}(i)}create(i){return new q0(this.moduleType,i)}}function ea(r){return i=>{setTimeout(r,void 0,i)}}const Va=class extends h.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var c,d,m;let y=i,b=o||(()=>null),T=u;if(i&&"object"==typeof i){const O=i;y=null===(c=O.next)||void 0===c?void 0:c.bind(O),b=null===(d=O.error)||void 0===d?void 0:d.bind(O),T=null===(m=O.complete)||void 0===m?void 0:m.bind(O)}this.__isAsync&&(b=ea(b),y&&(y=ea(y)),T&&(T=ea(T)));const S=super.subscribe({next:y,error:b,complete:T});return i instanceof ne.w&&i.add(S),S}};function DS(){return this._results[Md()]()}class oh{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Md(),u=oh.prototype;u[o]||(u[o]=DS)}get changes(){return this._changes||(this._changes=new Va)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=Oi(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],d=i[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class $g{constructor(i){this.queryList=i,this.matches=null}clone(){return new $g(this.queryList)}setDirty(){this.queryList.setDirty()}}class W0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const m=o.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new W0(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Au(i,o).matches&&this.queries[o].setDirty()}}class qI{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Zn{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(i,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new Zn(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class GI{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new GI(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(i,o,T1(o,d)),this.matchTNodeWithReadOption(i,o,Yu(o,i,d,!1,!1))}else u===Jd?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Yu(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Ko||c===Xd||c===Jd&&4&o.type)this.addMatch(o.index,-2);else{const d=Yu(o,i,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function T1(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function zI(r,i,o,u){return-1===o?function(r,i){return 11&r.type?Mc(r,i):4&r.type?r_(r,i):null}(i,r):-2===o?function(r,i,o){return o===Ko?Mc(i,r):o===Jd?r_(i,r):o===Xd?gI(i,r):void 0}(r,i,u):co(r,r[1],o,i)}function ZI(r,i,o,u){const c=i[19].queries[u];if(null===c.matches){const d=r.data,m=o.matches,y=[];for(let b=0;b<m.length;b+=2){const T=m[b];y.push(T<0?null:zI(i,d[T],m[b+1],o.metadata.read))}c.matches=y}return c.matches}function g_(r,i,o,u){const c=r.queries.getByIndex(o),d=c.matches;if(null!==d){const m=ZI(r,i,c,o);for(let y=0;y<d.length;y+=2){const b=d[y];if(b>0)u.push(m[y/2]);else{const T=d[y+1],S=i[-b];for(let O=10;O<S.length;O++){const F=S[O];F[17]===F[3]&&g_(F[1],F,T,u)}if(null!==S[9]){const O=S[9];for(let F=0;F<O.length;F++){const q=O[F];g_(q[1],q,T,u)}}}}}return u}function WI(r){const i=Oe(),o=Vt(),u=so();ju(u+1);const c=Au(o,u);if(r.dirty&&to(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const d=c.crossesNgTemplate?g_(o,i,u,[]):ZI(o,i,c,u);r.reset(d,$f),r.notifyOnChanges()}return!0}return!1}function KI(r,i,o,u){const c=Vt();if(c.firstCreatePass){const d=Rn();(function(r,i,o){null===r.queries&&(r.queries=new Zn),r.queries.track(new GI(i,o))})(c,new qI(i,o,u),d.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function(r,i,o){const u=new oh(4==(4&o));cy(r,i,u,u.destroy),null===i[19]&&(i[19]=new W0),i[19].queries.push(new $g(u))}(c,Oe(),o)}function YI(){return r=Oe(),i=so(),r[19].queries[i].queryList;var r,i}function Au(r,i){return r.queries.getByIndex(i)}const rb=new bn("Application Initializer");let ip=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Eg,this.reject=Eg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(sg(d))o.push(d);else if(My(d)){const m=new Promise((y,b)=>{d.subscribe({complete:y,error:b})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Qn(rb,8))},r.\u0275prov=yn({token:r,factory:r.\u0275fac}),r})();const pD=new bn("AppId"),ZS={provide:pD,useFactory:function(){return`${gD()}${gD()}${gD()}`},deps:[]};function gD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mD=new bn("Platform Initializer"),yD=new bn("Platform ID"),w_=new bn("appBootstrapListener");let ib=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=yn({token:r,factory:r.\u0275fac}),r})();const Bl=new bn("LocaleId"),b_=new bn("DefaultCurrencyCode");class _D{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const Ai=function(r){return new Vl(r)},vD=Ai,Jg=function(r){return Promise.resolve(Ai(r))},wD=function(r){const i=Ai(r),u=us(er(r).declarations).reduce((c,d)=>{const m=Xt(d);return m&&c.push(new V0(m)),c},[]);return new _D(i,u)},sb=wD,ob=function(r){return Promise.resolve(wD(r))};let Ba=(()=>{class r{constructor(){this.compileModuleSync=vD,this.compileModuleAsync=Jg,this.compileModuleAndAllComponentsSync=sb,this.compileModuleAndAllComponentsAsync=ob}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=yn({token:r,factory:r.\u0275fac}),r})();const XS=(()=>Promise.resolve(0))();function ab(r){"undefined"==typeof Zone?XS.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class _o{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Va(!1),this.onMicrotaskEmpty=new Va(!1),this.onStable=new Va(!1),this.onError=new Va(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=G.requestAnimationFrame,i=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(G,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,cb(r),r.isCheckStableRunning=!0,ub(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),cb(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,m,y)=>{try{return lb(r),o.invokeTask(c,d,m,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&i(),I_(r)}},onInvoke:(o,u,c,d,m,y,b)=>{try{return lb(r),o.invoke(c,d,m,y,b)}finally{r.shouldCoalesceRunChangeDetection&&i(),I_(r)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,cb(r),ub(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_o.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_o.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,i,ex,Eg,Eg);try{return d.runTask(m,o,u)}finally{d.cancelTask(m)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const ex={};function ub(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function cb(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function lb(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function I_(r){r._nesting--,ub(r)}class ED{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Va,this.onMicrotaskEmpty=new Va,this.onStable=new Va,this.onError=new Va}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}let tm=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_o.assertNotInAngularZone(),ab(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ab(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(Qn(_o))},r.\u0275prov=yn({token:r,factory:r.\u0275fac}),r})(),CD=(()=>{class r{constructor(){this._applications=new Map,nm.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return nm.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=yn({token:r,factory:r.\u0275fac}),r})();class G1{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function nx(r){nm=r}let nm=new G1,rx=!0,ix=!1;function db(){return ix=!0,rx}function sx(){if(ix)throw new Error("Cannot enable prod mode after platform setup.");rx=!1}let xu;const ID=new bn("AllowMultipleToken");class fs{constructor(i,o){this.name=i,this.token=o}}function rm(r,i,o=[]){const u=`Platform: ${i}`,c=new bn(u);return(d=[])=>{let m=TD();if(!m||m.injector.get(ID,!1))if(r)r(o.concat(d).concat({provide:c,useValue:!0}));else{const y=o.concat(d).concat({provide:c,useValue:!0},{provide:pc,useValue:"platform"});!function(r){if(xu&&!xu.destroyed&&!xu.injector.get(ID,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xu=r.get(hb);const i=r.get(mD,null);i&&i.forEach(o=>o())}(cn.create({providers:y,name:u}))}return function(r){const i=TD();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function TD(){return xu&&!xu.destroyed?xu:null}let hb=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function(r,i){let o;return o="noop"===r?new ED:("zone.js"===r?void 0:r)||new _o({enableLongStackTrace:db(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),b=[{provide:_o,useValue:y}];return y.run(()=>{const T=cn.create({providers:b,parent:this.injector,name:o.moduleType.name}),S=o.create(T),O=S.injector.get(Ee,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const F=y.onError.subscribe({next:q=>{O.handleError(q)}});S.onDestroy(()=>{D_(this._modules,S),F.unsubscribe()})}),function(r,i,o){try{const u=o();return sg(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(O,y,()=>{const F=S.injector.get(ip);return F.runInitializers(),F.donePromise.then(()=>(Rf(S.injector.get(Bl,mg)||mg),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,u=[]){const c=AD({},u);return function(r,i,o){const u=new Vl(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(Si);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Y(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Qn(cn))},r.\u0275prov=yn({token:r,factory:r.\u0275fac}),r})();function AD(r,i){return Array.isArray(i)?i.reduce(AD,r):Object.assign(Object.assign({},r),i)}let Si=(()=>{class r{constructor(o,u,c,d,m){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new V.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new V.y(T=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{_o.assertNotInAngularZone(),ab(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{_o.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{S.unsubscribe(),O.unsubscribe()}});this.isStable=(0,ue.T)(y,b.pipe(r=>(0,ve.x)()(function(r,i){return function(u){let c;c="function"==typeof r?r:function(){return r};const d=Object.create(u,ie.N);return d.source=u,d.subjectFactory=c,d}}(se)(r))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof eI?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const d=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(Ol),y=c.create(cn.NULL,[],u||c.selector,d),b=y.location.nativeElement,T=y.injector.get(tm,null),S=T&&y.injector.get(CD);return T&&S&&S.registerApplication(b,T),y.onDestroy(()=>{this.detachView(y.hostView),D_(this.components,y),S&&S.unregisterApplication(b)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;D_(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(w_,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(Qn(_o),Qn(cn),Qn(Ee),Qn(Yd),Qn(ip))},r.\u0275prov=yn({token:r,factory:r.\u0275fac}),r})();function D_(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class SD{}class ND{}const T_={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let OD=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||T_}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),L(8255)(u).then(d=>d[c]).then(d=>PD(d,u,c)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,c]=o.split("#"),d="NgFactory";return void 0===c&&(c="default",d=""),L(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[c+d]).then(m=>PD(m,u,c))}}return r.\u0275fac=function(o){return new(o||r)(Qn(Ba),Qn(ND,8))},r.\u0275prov=yn({token:r,factory:r.\u0275fac}),r})();function PD(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const VD=function(r){return null},yx=rm(null,"core",[{provide:yD,useValue:"unknown"},{provide:hb,deps:[cn]},{provide:CD,deps:[]},{provide:ib,deps:[]}]),Ex=[{provide:Si,useClass:Si,deps:[_o,cn,Ee,Yd,ip]},{provide:gS,deps:[_o],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:ip,useClass:ip,deps:[[new Rs,rb]]},{provide:Ba,useClass:Ba,deps:[]},ZS,{provide:Jy,useFactory:function(){return lI},deps:[]},{provide:zf,useFactory:function(){return n0},deps:[]},{provide:Bl,useFactory:function(r){return Rf(r=r||"undefined"!=typeof $localize&&$localize.locale||mg),r},deps:[[new nc(Bl),new Rs,new lu]]},{provide:b_,useValue:"USD"}];let BD=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Qn(Si))},r.\u0275mod=ia({type:r}),r.\u0275inj=Vr({providers:Ex}),r})()},8939:(nt,Te,L)=>{"use strict";L.d(Te,{hO:()=>Y,xv:()=>se,Dh:()=>ve,GT:()=>ae,cc:()=>de,on:()=>$,pX:()=>ie});var h=L(3018),ne=L(7841),V=L(6643);nt=L.hmd(nt);const ue=["ngOnDestroy"],ie=(j,ce,ye,Se={})=>new Proxy(j,{get:(ze,Ne)=>ye.runOutsideAngular(()=>{var wt;if(j[Ne])return(null===(wt=null==Se?void 0:Se.spy)||void 0===wt?void 0:wt.get)&&Se.spy.get(Ne,j[Ne]),j[Ne];if(ue.indexOf(Ne)>-1)return()=>{};const mt=ce.toPromise().then(Me=>{const le=Me&&Me[Ne];return"function"==typeof le?le.bind(Me):le&&le.then?le.then(pe=>ye.run(()=>pe)):ye.run(()=>le)});return new Proxy(()=>{},{get:(Me,le)=>mt[le],apply:(Me,le,pe)=>mt.then(ge=>{var he;const Le=ge&&ge(...pe);return(null===(he=null==Se?void 0:Se.spy)||void 0===he?void 0:he.apply)&&Se.spy.apply(Ne,pe,Le),Le})})})}),ae=(j,ce)=>{ce.forEach(ye=>{Object.getOwnPropertyNames(ye.prototype||ye).forEach(Se=>{Object.defineProperty(j.prototype,Se,Object.getOwnPropertyDescriptor(ye.prototype||ye,Se))})})};class _e{constructor(ce){return ce}}const ve=new h.OlP("angularfire2.app.options"),se=new h.OlP("angularfire2.app.name");function $(j,ce,ye){const ze="object"==typeof ye&&ye||{};ze.name=ze.name||"string"==typeof ye&&ye||"[DEFAULT]";const wt=ne.Z.apps.filter(mt=>mt&&mt.name===ze.name)[0]||ce.runOutsideAngular(()=>ne.Z.initializeApp(j,ze));try{JSON.stringify(j)!==JSON.stringify(wt.options)&&U("error",`${wt.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(mt){}return new _e(wt)}const U=(j,...ce)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[j](...ce)},X={provide:_e,useFactory:$,deps:[ve,h.R0b,[new h.FiY,se]]};let Y=(()=>{class j{constructor(ye){ne.Z.registerVersion("angularfire",V.q4.full,"core"),ne.Z.registerVersion("angularfire",V.q4.full,"app-compat"),ne.Z.registerVersion("angular",h.q4F.full,ye.toString())}static initializeApp(ye,Se){return{ngModule:j,providers:[{provide:ve,useValue:ye},{provide:se,useValue:Se}]}}}return j.\u0275fac=function(ye){return new(ye||j)(h.LFG(h.Lbi))},j.\u0275mod=h.oAB({type:j}),j.\u0275inj=h.cJS({providers:[X]}),j})();function de(j,ce,ye,Se,ze){const[,Ne,wt]=globalThis.\u0275AngularfireInstanceCache.find(mt=>mt[0]===j)||[];if(Ne)return function(j,ce){try{return j.toString()===ce.toString()}catch(ye){return j===ce}}(ze,wt)||(Q("error",`${ce} was already initialized on the ${ye} Firebase App with different settings.${we?" You may need to reload as Firebase is not HMR aware.":""}`),Q("warn",{is:ze,was:wt})),Ne;{const mt=Se();return globalThis.\u0275AngularfireInstanceCache.push([j,mt,ze]),mt}}const we=!!nt.hot,Q=(j,...ce)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[j](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:(nt,Te,L)=>{"use strict";L.d(Te,{q4:()=>wm,iC:()=>ud,HU:()=>Pi,vb:()=>uu,JM:()=>tl});var h=L(3018),ne=L(2329),V=L(8239),ue=L(5452),ie=L(3854),ae=L(6034),_e=L(5601),ve=L(6676);const se="@firebase/installations",$="0.5.2",X=`w:${$}`,Y="FIS_v2",ce=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ye(I){return I instanceof ie.ZR&&I.code.includes("request-failed")}function Se({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function ze(I){return{token:I.token,requestStatus:2,expiresIn:ge(I.expiresIn),creationTime:Date.now()}}function Ne(I,A){return wt.apply(this,arguments)}function wt(){return(wt=(0,V.Z)(function*(I,A){const H=(yield A.json()).error;return ce.create("request-failed",{requestName:I,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function mt({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Me(I,{refreshToken:A}){const N=mt(I);return N.append("Authorization",function(I){return`${Y} ${I}`}(A)),N}function le(I){return pe.apply(this,arguments)}function pe(){return(pe=(0,V.Z)(function*(I){const A=yield I();return A.status>=500&&A.status<600?I():A})).apply(this,arguments)}function ge(I){return Number(I.replace("s","000"))}function Le(I,A){return be.apply(this,arguments)}function be(){return(be=(0,V.Z)(function*(I,{fid:A}){const N=Se(I),Ce={method:"POST",headers:mt(I),body:JSON.stringify({fid:A,authVersion:Y,appId:I.appId,sdkVersion:X})},Be=yield le(()=>fetch(N,Ce));if(Be.ok){const Xe=yield Be.json();return{fid:Xe.fid||A,registrationStatus:2,refreshToken:Xe.refreshToken,authToken:ze(Xe.authToken)}}throw yield Ne("Create Installation",Be)})).apply(this,arguments)}function rt(I){return new Promise(A=>{setTimeout(A,I)})}const An=/^[cdef][\w-]{21}$/;function jt(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const N=function(I){return function(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return An.test(N)?N:""}catch(I){return""}}function sn(I){return`${I.appName}!${I.appId}`}const Hn=new Map;function _r(I,A){const N=sn(I);Ft(N,A),function(I,A){const N=(!qn&&"BroadcastChannel"in self&&(qn=new BroadcastChannel("[Firebase] FID Change"),qn.onmessage=I=>{Ft(I.data.key,I.data.fid)}),qn);N&&N.postMessage({key:I,fid:A}),0===Hn.size&&qn&&(qn.close(),qn=null)}(N,A)}function Ft(I,A){const N=Hn.get(I);if(N)for(const H of N)H(A)}let qn=null;const Ur="firebase-installations-store";let Et=null;function Wn(){return Et||(Et=(0,ve.openDb)("firebase-installations-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(Ur)}})),Et}function Fn(I,A){return dn.apply(this,arguments)}function dn(){return(dn=(0,V.Z)(function*(I,A){const N=sn(I),te=(yield Wn()).transaction(Ur,"readwrite"),Ce=te.objectStore(Ur),Be=yield Ce.get(N);return yield Ce.put(A,N),yield te.complete,(!Be||Be.fid!==A.fid)&&_r(I,A.fid),A})).apply(this,arguments)}function $t(I){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,V.Z)(function*(I){const A=sn(I),H=(yield Wn()).transaction(Ur,"readwrite");yield H.objectStore(Ur).delete(A),yield H.complete})).apply(this,arguments)}function lt(I,A){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,V.Z)(function*(I,A){const N=sn(I),te=(yield Wn()).transaction(Ur,"readwrite"),Ce=te.objectStore(Ur),Be=yield Ce.get(N),Xe=A(Be);return void 0===Xe?yield Ce.delete(N):yield Ce.put(Xe,N),yield te.complete,Xe&&(!Be||Be.fid!==Xe.fid)&&_r(I,Xe.fid),Xe})).apply(this,arguments)}function xt(I){return hn.apply(this,arguments)}function hn(){return(hn=(0,V.Z)(function*(I){let A;const N=yield lt(I,H=>{const te=_n(H),Ce=Ht(I,te);return A=Ce.registrationPromise,Ce.installationEntry});return""===N.fid?{installationEntry:yield A}:{installationEntry:N,registrationPromise:A}})).apply(this,arguments)}function _n(I){return Jt(I||{fid:jt(),registrationStatus:0})}function Ht(I,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(ce.create("app-offline"))};const N={fid:A.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:N,registrationPromise:function(I,A){return tt.apply(this,arguments)}(I,N)}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Cn(I)}:{installationEntry:A}}function tt(){return(tt=(0,V.Z)(function*(I,A){try{return Fn(I,yield Le(I,A))}catch(N){throw ye(N)&&409===N.customData.serverCode?yield $t(I):yield Fn(I,{fid:A.fid,registrationStatus:0}),N}})).apply(this,arguments)}function Cn(I){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,V.Z)(function*(I){let A=yield hi(I);for(;1===A.registrationStatus;)yield rt(100),A=yield hi(I);if(0===A.registrationStatus){const{installationEntry:N,registrationPromise:H}=yield xt(I);return H||N}return A})).apply(this,arguments)}function hi(I){return lt(I,A=>{if(!A)throw ce.create("installation-not-found");return Jt(A)})}function Jt(I){return function(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Hs(I,A){return Z.apply(this,arguments)}function Z(){return(Z=(0,V.Z)(function*({appConfig:I,platformLoggerProvider:A},N){const H=W(I,N),te=Me(I,N),Ce=A.getImmediate({optional:!0});Ce&&te.append("x-firebase-client",Ce.getPlatformInfoString());const Xe={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:X}})},Qe=yield le(()=>fetch(H,Xe));if(Qe.ok)return ze(yield Qe.json());throw yield Ne("Generate Auth Token",Qe)})).apply(this,arguments)}function W(I,{fid:A}){return`${Se(I)}/${A}/authTokens:generate`}function G(I){return Re.apply(this,arguments)}function Re(){return(Re=(0,V.Z)(function*(I,A=!1){let N;const H=yield lt(I.appConfig,Ce=>{if(!un(Ce))throw ce.create("not-registered");const Be=Ce.authToken;if(!A&&wr(Be))return Ce;if(1===Be.requestStatus)return N=fe(I,A),Ce;{if(!navigator.onLine)throw ce.create("app-offline");const Xe=pn(Ce);return N=qt(I,Xe),Xe}});return N?yield N:H.authToken})).apply(this,arguments)}function fe(I,A){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,V.Z)(function*(I,A){let N=yield He(I.appConfig);for(;1===N.authToken.requestStatus;)yield rt(100),N=yield He(I.appConfig);const H=N.authToken;return 0===H.requestStatus?G(I,A):H})).apply(this,arguments)}function He(I){return lt(I,A=>{if(!un(A))throw ce.create("not-registered");return function(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function qt(I,A){return fn.apply(this,arguments)}function fn(){return(fn=(0,V.Z)(function*(I,A){try{const N=yield Hs(I,A),H=Object.assign(Object.assign({},A),{authToken:N});return yield Fn(I.appConfig,H),N}catch(N){if(!ye(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const H=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Fn(I.appConfig,H)}else yield $t(I.appConfig);throw N}})).apply(this,arguments)}function un(I){return void 0!==I&&2===I.registrationStatus}function wr(I){return 2===I.requestStatus&&!function(I){const A=Date.now();return A<I.creationTime||I.creationTime+I.expiresIn<A+36e5}(I)}function pn(I){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:A})}function _t(){return(_t=(0,V.Z)(function*(I){const A=I,{installationEntry:N,registrationPromise:H}=yield xt(A.appConfig);return H?H.catch(console.error):G(A).catch(console.error),N.fid})).apply(this,arguments)}function ra(){return(ra=(0,V.Z)(function*(I,A=!1){const N=I;return yield $a(N.appConfig),(yield G(N,A)).token})).apply(this,arguments)}function $a(I){return ms.apply(this,arguments)}function ms(){return(ms=(0,V.Z)(function*(I){const{registrationPromise:A}=yield xt(I);A&&(yield A)})).apply(this,arguments)}function er(I){return ce.create("missing-app-config-values",{valueName:I})}const Fc="installations";(0,ue._registerComponent)(new ae.wA(Fc,I=>{const A=I.getProvider("app").getImmediate();return{app:A,appConfig:function(I){if(!I||!I.options)throw er("App Configuration");if(!I.name)throw er("App Name");const A=["projectId","apiKey","appId"];for(const N of A)if(!I.options[N])throw er(N);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(A),platformLoggerProvider:(0,ue._getProvider)(A,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ue._registerComponent)(new ae.wA("installations-internal",I=>{const A=I.getProvider("app").getImmediate(),N=(0,ue._getProvider)(A,Fc).getImmediate();return{getId:()=>function(I){return _t.apply(this,arguments)}(N),getToken:te=>function(I){return ra.apply(this,arguments)}(N,te)}},"PRIVATE")),(0,ue.registerVersion)(se,$),(0,ue.registerVersion)(se,$,"esm2017");const lr="@firebase/remote-config",Bn=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ku{constructor(A,N,H,te){this.client=A,this.storage=N,this.storageCache=H,this.logger=te}isCachedDataFresh(A,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-N,te=H<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${te}.`),te}fetch(A){var N=this;return(0,V.Z)(function*(){const[H,te]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(te&&N.isCachedDataFresh(A.cacheMaxAgeMillis,H))return te;A.eTag=te&&te.eTag;const Ce=yield N.client.fetch(A),Be=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ce.status&&Be.push(N.storage.setLastSuccessfulFetchResponse(Ce)),yield Promise.all(Be),Ce})()}}function $r(I=navigator){return I.languages&&I.languages[0]||I.language}class zt{constructor(A,N,H,te,Ce,Be){this.firebaseInstallations=A,this.sdkVersion=N,this.namespace=H,this.projectId=te,this.apiKey=Ce,this.appId=Be}fetch(A){var N=this;return(0,V.Z)(function*(){const[H,te]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Qe={sdk_version:N.sdkVersion,app_instance_id:H,app_instance_id_token:te,app_id:N.appId,language_code:$r()},Wt={method:"POST",headers:Xe,body:JSON.stringify(Qe)},en=fetch(Be,Wt),gr=new Promise((yt,Oo)=>{A.signal.addEventListener(()=>{const Po=new Error("The operation was aborted.");Po.name="AbortError",Oo(Po)})});let Zr;try{yield Promise.race([en,gr]),Zr=yield en}catch(yt){let Oo="fetch-client-network";throw"AbortError"===yt.name&&(Oo="fetch-timeout"),Bn.create(Oo,{originalErrorMessage:yt.message})}let Rr=Zr.status;const xs=Zr.headers.get("ETag")||void 0;let ec,wi;if(200===Zr.status){let yt;try{yt=yield Zr.json()}catch(Oo){throw Bn.create("fetch-client-parse",{originalErrorMessage:Oo.message})}ec=yt.entries,wi=yt.state}if("INSTANCE_STATE_UNSPECIFIED"===wi?Rr=500:"NO_CHANGE"===wi?Rr=304:("NO_TEMPLATE"===wi||"EMPTY_CONFIG"===wi)&&(ec={}),304!==Rr&&200!==Rr)throw Bn.create("fetch-status",{httpStatus:Rr});return{status:Rr,eTag:xs,config:ec}})()}}class Hr{constructor(A,N){this.client=A,this.storage=N}fetch(A){var N=this;return(0,V.Z)(function*(){const H=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(A,H)})()}attemptFetch(A,{throttleEndTimeMillis:N,backoffCount:H}){var te=this;return(0,V.Z)(function*(){yield function(I,A){return new Promise((N,H)=>{const te=Math.max(A-Date.now(),0),Ce=setTimeout(N,te);I.addEventListener(()=>{clearTimeout(Ce),H(Bn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,N);try{const Ce=yield te.client.fetch(A);return yield te.storage.deleteThrottleMetadata(),Ce}catch(Ce){if(!function(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(Ce))throw Ce;const Be={throttleEndTimeMillis:Date.now()+(0,ie.$s)(H),backoffCount:H+1};return yield te.storage.setThrottleMetadata(Be),te.attemptFetch(A,Be)}})()}}class vh{constructor(A,N,H,te,Ce){this.app=A,this._client=N,this._storageCache=H,this._storage=te,this._logger=Ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wo(I,A){const N=I.target.error||void 0;return Bn.create(A,{originalErrorMessage:N&&N.message})}const _s="app_namespace_store";class Bc{constructor(A,N,H,te=function(){return new Promise((I,A)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=H=>{A(wo(H,"storage-open"))},N.onsuccess=H=>{I(H.target.result)},N.onupgradeneeded=H=>{const te=H.target.result;switch(H.oldVersion){case 0:te.createObjectStore(_s,{keyPath:"compositeKey"})}}}catch(N){A(Bn.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=A,this.appName=N,this.namespace=H,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var N=this;return(0,V.Z)(function*(){const H=yield N.openDbPromise;return new Promise((te,Ce)=>{const Xe=H.transaction([_s],"readonly").objectStore(_s),Qe=N.createCompositeKey(A);try{const Wt=Xe.get(Qe);Wt.onerror=en=>{Ce(wo(en,"storage-get"))},Wt.onsuccess=en=>{const gr=en.target.result;te(gr?gr.value:void 0)}}catch(Wt){Ce(Bn.create("storage-get",{originalErrorMessage:Wt&&Wt.message}))}})})()}set(A,N){var H=this;return(0,V.Z)(function*(){const te=yield H.openDbPromise;return new Promise((Ce,Be)=>{const Qe=te.transaction([_s],"readwrite").objectStore(_s),Wt=H.createCompositeKey(A);try{const en=Qe.put({compositeKey:Wt,value:N});en.onerror=gr=>{Be(wo(gr,"storage-set"))},en.onsuccess=()=>{Ce()}}catch(en){Be(Bn.create("storage-set",{originalErrorMessage:en&&en.message}))}})})()}delete(A){var N=this;return(0,V.Z)(function*(){const H=yield N.openDbPromise;return new Promise((te,Ce)=>{const Xe=H.transaction([_s],"readwrite").objectStore(_s),Qe=N.createCompositeKey(A);try{const Wt=Xe.delete(Qe);Wt.onerror=en=>{Ce(wo(en,"storage-delete"))},Wt.onsuccess=()=>{te()}}catch(Wt){Ce(Bn.create("storage-delete",{originalErrorMessage:Wt&&Wt.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class bo{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,V.Z)(function*(){const N=A.storage.getLastFetchStatus(),H=A.storage.getLastSuccessfulFetchTimestampMillis(),te=A.storage.getActiveConfig(),Ce=yield N;Ce&&(A.lastFetchStatus=Ce);const Be=yield H;Be&&(A.lastSuccessfulFetchTimestampMillis=Be);const Xe=yield te;Xe&&(A.activeConfig=Xe)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Eh(){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,V.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(I){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new ae.wA("remote-config",function(A,{instanceIdentifier:N}){const H=A.getProvider("app").getImmediate(),te=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bn.create("registration-window");if(!(0,ie.hl)())throw Bn.create("indexed-db-unavailable");const{projectId:Ce,apiKey:Be,appId:Xe}=H.options;if(!Ce)throw Bn.create("registration-project-id");if(!Be)throw Bn.create("registration-api-key");if(!Xe)throw Bn.create("registration-app-id");const Qe=new Bc(Xe,H.name,N=N||"firebase"),Wt=new bo(Qe),en=new _e.Yd(lr);en.logLevel=_e.in.ERROR;const gr=new zt(te,ue.SDK_VERSION,N,Ce,Be,Xe),Zr=new Hr(gr,Qe),Rr=new ku(Zr,Qe,Wt,en),xs=new vh(H,Rr,Wt,Qe,en);return function(I){const A=(0,ie.m9)(I);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(xs),xs},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(lr,"0.3.1"),(0,ue.registerVersion)(lr,"0.3.1","esm2017");const Ks="/firebase-messaging-sw.js",la="/firebase-cloud-messaging-push-scope",vs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",za="google.c.a.c_id",Vu="google.c.a.c_l",Ch="google.c.a.ts",Eo="google.c.a.e";var Ar=(()=>{return(I=Ar||(Ar={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Ar;var I})();function oi(I){const A=new Uint8Array(I);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ys(I){const N=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(N),te=new Uint8Array(H.length);for(let Ce=0;Ce<H.length;++Ce)te[Ce]=H.charCodeAt(Ce);return te}const ws="fcm_token_details_db",da="fcm_token_object_Store";function Yl(I){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,V.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ce=>Ce.name).includes(ws))return null;let A=null;return(yield(0,ve.openDb)(ws,5,function(){var H=(0,V.Z)(function*(te){var Ce;if(te.oldVersion<2||!te.objectStoreNames.contains(da))return;const Be=te.transaction.objectStore(da),Xe=yield Be.index("fcmSenderId").get(I);if(yield Be.clear(),Xe)if(2===te.oldVersion){const Qe=Xe;if(!Qe.auth||!Qe.p256dh||!Qe.endpoint)return;A={token:Qe.fcmToken,createTime:null!==(Ce=Qe.createTime)&&void 0!==Ce?Ce:Date.now(),subscriptionOptions:{auth:Qe.auth,p256dh:Qe.p256dh,endpoint:Qe.endpoint,swScope:Qe.swScope,vapidKey:"string"==typeof Qe.vapidKey?Qe.vapidKey:oi(Qe.vapidKey)}}}else if(3===te.oldVersion){const Qe=Xe;A={token:Qe.fcmToken,createTime:Qe.createTime,subscriptionOptions:{auth:oi(Qe.auth),p256dh:oi(Qe.p256dh),endpoint:Qe.endpoint,swScope:Qe.swScope,vapidKey:oi(Qe.vapidKey)}}}else if(4===te.oldVersion){const Qe=Xe;A={token:Qe.fcmToken,createTime:Qe.createTime,subscriptionOptions:{auth:oi(Qe.auth),p256dh:oi(Qe.p256dh),endpoint:Qe.endpoint,swScope:Qe.swScope,vapidKey:oi(Qe.vapidKey)}}}});return function(te){return H.apply(this,arguments)}}())).close(),yield(0,ve.deleteDb)(ws),yield(0,ve.deleteDb)("fcm_vapid_details_db"),yield(0,ve.deleteDb)("undefined"),Za(A)?A:null})).apply(this,arguments)}function Za(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:A}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const nr="firebase-messaging-store";let Io=null;function Js(){return Io||(Io=(0,ve.openDb)("firebase-messaging-database",1,I=>{switch(I.oldVersion){case 0:I.createObjectStore(nr)}})),Io}function es(I){return gi.apply(this,arguments)}function gi(){return(gi=(0,V.Z)(function*(I){const A=To(I),H=yield(yield Js()).transaction(nr).objectStore(nr).get(A);if(H)return H;{const te=yield Yl(I.appConfig.senderId);if(te)return yield Xs(I,te),te}})).apply(this,arguments)}function Xs(I,A){return Do.apply(this,arguments)}function Do(){return(Do=(0,V.Z)(function*(I,A){const N=To(I),te=(yield Js()).transaction(nr,"readwrite");return yield te.objectStore(nr).put(A,N),yield te.complete,A})).apply(this,arguments)}function vn(I){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,V.Z)(function*(I){const A=To(I),H=(yield Js()).transaction(nr,"readwrite");yield H.objectStore(nr).delete(A),yield H.complete})).apply(this,arguments)}function To({appConfig:I}){return I.appId}const Mt=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $c(I,A){return ha.apply(this,arguments)}function ha(){return(ha=(0,V.Z)(function*(I,A){const N=yield rr(I),H=Ao(A),te={method:"POST",headers:N,body:JSON.stringify(H)};let Ce;try{Ce=yield(yield fetch(eo(I.appConfig),te)).json()}catch(Be){throw Mt.create("token-subscribe-failed",{errorInfo:Be})}if(Ce.error)throw Mt.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Mt.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function fa(I,A){return br.apply(this,arguments)}function br(){return(br=(0,V.Z)(function*(I,A){const N=yield rr(I),H=Ao(A.subscriptionOptions),te={method:"PATCH",headers:N,body:JSON.stringify(H)};let Ce;try{Ce=yield(yield fetch(`${eo(I.appConfig)}/${A.token}`,te)).json()}catch(Be){throw Mt.create("token-update-failed",{errorInfo:Be})}if(Ce.error)throw Mt.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Mt.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function Ql(I,A){return mi.apply(this,arguments)}function mi(){return(mi=(0,V.Z)(function*(I,A){const H={method:"DELETE",headers:yield rr(I)};try{const Ce=yield(yield fetch(`${eo(I.appConfig)}/${A}`,H)).json();if(Ce.error)throw Mt.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(te){throw Mt.create("token-unsubscribe-failed",{errorInfo:te})}})).apply(this,arguments)}function eo({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function rr(I){return to.apply(this,arguments)}function to(){return(to=(0,V.Z)(function*({appConfig:I,installations:A}){const N=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Ao({p256dh:I,auth:A,endpoint:N,vapidKey:H}){const te={web:{endpoint:N,auth:A,p256dh:I}};return H!==vs&&(te.web.applicationPubKey=H),te}const pa=6048e5;function bs(I){return So.apply(this,arguments)}function So(){return(So=(0,V.Z)(function*(I){const A=yield Uu(I.swRegistration,I.vapidKey),N={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:A.endpoint,auth:oi(A.getKey("auth")),p256dh:oi(A.getKey("p256dh"))},H=yield es(I.firebaseDependencies);if(H){if(Hc(H.subscriptionOptions,N))return Date.now()>=H.createTime+pa?Jl(I,{token:H.token,createTime:Date.now(),subscriptionOptions:N}):H.token;try{yield Ql(I.firebaseDependencies,H.token)}catch(te){console.warn(te)}return no(I.firebaseDependencies,N)}return no(I.firebaseDependencies,N)})).apply(this,arguments)}function Ya(I){return at.apply(this,arguments)}function at(){return(at=(0,V.Z)(function*(I){const A=yield es(I.firebaseDependencies);A&&(yield Ql(I.firebaseDependencies,A.token),yield vn(I.firebaseDependencies));const N=yield I.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function Jl(I,A){return ts.apply(this,arguments)}function ts(){return(ts=(0,V.Z)(function*(I,A){try{const N=yield fa(I.firebaseDependencies,A),H=Object.assign(Object.assign({},A),{token:N,createTime:Date.now()});return yield Xs(I.firebaseDependencies,H),N}catch(N){throw yield Ya(I),N}})).apply(this,arguments)}function no(I,A){return ro.apply(this,arguments)}function ro(){return(ro=(0,V.Z)(function*(I,A){const H={token:yield $c(I,A),createTime:Date.now(),subscriptionOptions:A};return yield Xs(I,H),H.token})).apply(this,arguments)}function Uu(I,A){return ns.apply(this,arguments)}function ns(){return(ns=(0,V.Z)(function*(I,A){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ys(A)})})).apply(this,arguments)}function Hc(I,A){return A.vapidKey===I.vapidKey&&A.endpoint===I.endpoint&&A.auth===I.auth&&A.p256dh===I.p256dh}function Oe(I){const A={from:I.from,collapseKey:I.collapse_key,messageId:I.fcm_message_id};return function(I,A){if(!A.notification)return;I.notification={};const N=A.notification.title;N&&(I.notification.title=N);const H=A.notification.body;H&&(I.notification.body=H);const te=A.notification.image;te&&(I.notification.image=te)}(A,I),function(I,A){!A.data||(I.data=A.data)}(A,I),function(I,A){if(!A.fcmOptions)return;I.fcmOptions={};const N=A.fcmOptions.link;N&&(I.fcmOptions.link=N);const H=A.fcmOptions.analytics_label;H&&(I.fcmOptions.analyticsLabel=H)}(A,I),A}function qc(I){return"object"==typeof I&&!!I&&za in I}function xo(I,A){const N=[];for(let H=0;H<I.length;H++)N.push(I.charAt(H)),H<A.length&&N.push(A.charAt(H));return N.join("")}function io(I){return Mt.create("missing-app-config-values",{valueName:I})}xo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rs{constructor(A,N,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function(I){if(!I||!I.options)throw io("App Configuration Object");if(!I.name)throw io("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:N}=I;for(const H of A)if(!N[H])throw io(H);return{appName:I.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:te,installations:N,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Gc(I){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,V.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Ks,{scope:la}),I.swRegistration.update().catch(()=>{})}catch(A){throw Mt.create("failed-service-worker-registration",{browserErrorMessage:A.message})}})).apply(this,arguments)}function Mo(I,A){return yi.apply(this,arguments)}function yi(){return(yi=(0,V.Z)(function*(I,A){if(!A&&!I.swRegistration&&(yield Gc(I)),A||!I.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Mt.create("invalid-sw-registration");I.swRegistration=A}})).apply(this,arguments)}function Sr(I,A){return pr.apply(this,arguments)}function pr(){return(pr=(0,V.Z)(function*(I,A){A?I.vapidKey=A:I.vapidKey||(I.vapidKey=vs)})).apply(this,arguments)}function _i(){return(_i=(0,V.Z)(function*(I,A){if(!navigator)throw Mt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mt.create("permission-blocked");return yield Sr(I,null==A?void 0:A.vapidKey),yield Mo(I,null==A?void 0:A.serviceWorkerRegistration),bs(I)})).apply(this,arguments)}function vi(I,A,N){return ma.apply(this,arguments)}function ma(){return(ma=(0,V.Z)(function*(I,A,N){const H=Ja(A);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:N[za],message_name:N[Vu],message_time:N[Ch],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ja(I){switch(I){case Ar.NOTIFICATION_CLICKED:return"notification_open";case Ar.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ya(){return(ya=(0,V.Z)(function*(I,A){const N=A.data;if(!N.isFirebaseMessaging)return;I.onMessageHandler&&N.messageType===Ar.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Oe(N)):I.onMessageHandler.next(Oe(N)));const H=N.data;qc(H)&&"1"===H[Eo]&&(yield vi(I,N.messageType,H))})).apply(this,arguments)}const Ro="@firebase/messaging";function zc(){return oo.apply(this,arguments)}function oo(){return(oo=(0,V.Z)(function*(){return"undefined"!=typeof window&&(0,ie.hl)()&&(yield(0,ie.eu)())&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new ae.wA("messaging",I=>{const A=new rs(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function(I,A){return ya.apply(this,arguments)}(A,N)),A},"PUBLIC")),(0,ue._registerComponent)(new ae.wA("messaging-internal",I=>{const A=I.getProvider("messaging").getImmediate();return{getToken:H=>function(I,A){return _i.apply(this,arguments)}(A,H)}},"PRIVATE")),(0,ue.registerVersion)(Ro,"0.9.2"),(0,ue.registerVersion)(Ro,"0.9.2","esm2017");const xi="analytics",wn="firebase_id",nu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wc="https://www.googletagmanager.com/gtag/js",ir=new _e.Yd("@firebase/analytics");function Hu(I){return Promise.all(I.map(A=>A.catch(N=>N)))}function Es(I,A){const N=document.createElement("script");N.src=`${Wc}?l=${I}&id=${A}`,N.async=!0,document.head.appendChild(N)}function va(I,A,N,H,te,Ce){return ui.apply(this,arguments)}function ui(){return(ui=(0,V.Z)(function*(I,A,N,H,te,Ce){const Be=H[te];try{if(Be)yield A[Be];else{const Qe=(yield Hu(N)).find(Wt=>Wt.measurementId===te);Qe&&(yield A[Qe.appId])}}catch(Xe){ir.error(Xe)}I("config",te,Ce)})).apply(this,arguments)}function is(I,A,N,H,te){return E.apply(this,arguments)}function E(){return(E=(0,V.Z)(function*(I,A,N,H,te){try{let Ce=[];if(te&&te.send_to){let Be=te.send_to;Array.isArray(Be)||(Be=[Be]);const Xe=yield Hu(N);for(const Qe of Be){const Wt=Xe.find(gr=>gr.measurementId===Qe),en=Wt&&A[Wt.appId];if(!en){Ce=[];break}Ce.push(en)}}0===Ce.length&&(Ce=Object.values(A)),yield Promise.all(Ce),I("event",H,te||{})}catch(Ce){ir.error(Ce)}})).apply(this,arguments)}function z(){const I=window.document.getElementsByTagName("script");for(const A of Object.values(I))if(A.src&&A.src.includes(Wc))return A;return null}const Ye=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ri=new class{constructor(A={},N=1e3){this.throttleMetadata=A,this.intervalMillis=N}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,N){this.throttleMetadata[A]=N}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Kc(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function On(I){return qu.apply(this,arguments)}function qu(){return(qu=(0,V.Z)(function*(I){var A;const{appId:N,apiKey:H}=I,te={method:"GET",headers:Kc(H)},Ce=nu.replace("{app-id}",N),Be=yield fetch(Ce,te);if(200!==Be.status&&304!==Be.status){let Xe="";try{const Qe=yield Be.json();(null===(A=Qe.error)||void 0===A?void 0:A.message)&&(Xe=Qe.error.message)}catch(Qe){}throw Ye.create("config-fetch-failed",{httpStatus:Be.status,responseMessage:Xe})}return Be.json()})).apply(this,arguments)}function Yc(I){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,V.Z)(function*(I,A=Ri,N){const{appId:H,apiKey:te,measurementId:Ce}=I.options;if(!H)throw Ye.create("no-app-id");if(!te){if(Ce)return{measurementId:Ce,appId:H};throw Ye.create("no-api-key")}const Be=A.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new Zu;return setTimeout((0,V.Z)(function*(){Xe.abort()}),void 0!==N?N:6e4),Qc({appId:H,apiKey:te,measurementId:Ce},Be,Xe,A)})).apply(this,arguments)}function Qc(I,A,N){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,V.Z)(function*(I,{throttleEndTimeMillis:A,backoffCount:N},H,te=Ri){const{appId:Ce,measurementId:Be}=I;try{yield zu(H,A)}catch(Xe){if(Be)return ir.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:Ce,measurementId:Be};throw Xe}try{const Xe=yield On(I);return te.deleteThrottleMetadata(Ce),Xe}catch(Xe){if(!Ih(Xe)){if(te.deleteThrottleMetadata(Ce),Be)return ir.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Be} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:Ce,measurementId:Be};throw Xe}const Qe=503===Number(Xe.customData.httpStatus)?(0,ie.$s)(N,te.intervalMillis,30):(0,ie.$s)(N,te.intervalMillis),Wt={throttleEndTimeMillis:Date.now()+Qe,backoffCount:N+1};return te.setThrottleMetadata(Ce,Wt),ir.debug(`Calling attemptFetch again in ${Qe} millis`),Qc(I,Wt,H,te)}})).apply(this,arguments)}function zu(I,A){return new Promise((N,H)=>{const te=Math.max(A-Date.now(),0),Ce=setTimeout(N,te);I.addEventListener(()=>{clearTimeout(Ce),H(Ye.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function Ih(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}class Zu{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}function Wu(){return ru.apply(this,arguments)}function ru(){return(ru=(0,V.Z)(function*(){if(!(0,ie.hl)())return ir.warn(Ye.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(I){return ir.warn(Ye.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function iu(){return(iu=(0,V.Z)(function*(I,A,N,H,te,Ce,Be){var Xe;const Qe=Yc(I);Qe.then(Rr=>{N[Rr.measurementId]=Rr.appId,I.options.measurementId&&Rr.measurementId!==I.options.measurementId&&ir.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Rr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Rr=>ir.error(Rr)),A.push(Qe);const Wt=Wu().then(Rr=>{if(Rr)return H.getId()}),[en,gr]=yield Promise.all([Qe,Wt]);z()||Es(Ce,en.measurementId),te("js",new Date);const Zr=null!==(Xe=null==Be?void 0:Be.config)&&void 0!==Xe?Xe:{};return Zr.origin="firebase",Zr.update=!0,null!=gr&&(Zr[wn]=gr),te("config",en.measurementId,Zr),en.measurementId})).apply(this,arguments)}class Ln{constructor(A){this.app=A}_delete(){return delete ot[this.app.options.appId],Promise.resolve()}}let ot={},Cs=[];const uo={};let No,Is,xr="dataLayer",Ku=!1;function Dh(I,A,N){!function(){const I=[];if((0,ie.ru)()&&I.push("This is a browser extension environment."),(0,ie.zI)()||I.push("Cookies are not available."),I.length>0){const A=I.map((H,te)=>`(${te+1}) ${H}`).join(" "),N=Ye.create("invalid-analytics-context",{errorInfo:A});ir.warn(N.message)}}();const H=I.options.appId;if(!H)throw Ye.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ye.create("no-api-key");ir.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ot[H])throw Ye.create("already-exists",{id:H});if(!Ku){!function(I){let A=[];Array.isArray(window[I])?A=window[I]:window[I]=A}(xr);const{wrappedGtag:Ce,gtagCore:Be}=function(I,A,N,H,te){let Ce=function(...Be){window[H].push(arguments)};return window[te]&&"function"==typeof window[te]&&(Ce=window[te]),window[te]=function(I,A,N,H){function Ce(){return(Ce=(0,V.Z)(function*(Be,Xe,Qe){try{"event"===Be?yield is(I,A,N,Xe,Qe):"config"===Be?yield va(I,A,N,H,Xe,Qe):I("set",Xe)}catch(Wt){ir.error(Wt)}})).apply(this,arguments)}return function(Be,Xe,Qe){return Ce.apply(this,arguments)}}(Ce,I,A,N),{gtagCore:Ce,wrappedGtag:window[te]}}(ot,Cs,uo,xr,"gtag");Is=Ce,No=Be,Ku=!0}return ot[H]=function(I,A,N,H,te,Ce,Be){return iu.apply(this,arguments)}(I,Cs,uo,A,No,xr,N),new Ln(I)}function nd(){return(nd=(0,V.Z)(function*(I,A,N,H,te){if(te&&te.global)I("event",N,H);else{const Ce=yield A;I("event",N,Object.assign(Object.assign({},H),{send_to:Ce}))}})).apply(this,arguments)}function lo(){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,V.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(I){return!1}})).apply(this,arguments)}const rd="@firebase/analytics";(0,ue._registerComponent)(new ae.wA(xi,(A,{options:N})=>Dh(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,ue._registerComponent)(new ae.wA("analytics-internal",function(A){try{const N=A.getProvider(xi).getImmediate();return{logEvent:(H,te,Ce)=>function(I,A,N,H){I=(0,ie.m9)(I),function(I,A,N,H,te){return nd.apply(this,arguments)}(Is,ot[I.app.options.appId],A,N,H).catch(te=>ir.error(te))}(N,H,te,Ce)}}catch(N){throw Ye.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,ue.registerVersion)(rd,"0.7.2"),(0,ue.registerVersion)(rd,"0.7.2","esm2017");var ou=L(7771),bn=L(3637),id=L(3342),Rh=L(3101),Ts=L(309);const wm=new h.GfV("7.1.1"),ss="__angularfire_symbol__analyticsIsSupported",Nh="__angularfire_symbol__remoteConfigIsSupported",As="__angularfire_symbol__messagingIsSupported";function tl(I,A,N){if(A){if(1===A.length)return A[0];const Ce=A.filter(Be=>Be.app===N);if(1===Ce.length)return Ce[0]}return N.container.getProvider(I).getImmediate({optional:!0})}globalThis[ss]||(globalThis[ss]=lo().then(I=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=I)),globalThis[As]||(globalThis[As]=zc().then(I=>globalThis.__angularfire_symbol__messagingIsSupportedValue=I)),globalThis[Nh]||(globalThis[Nh]=Eh().then(I=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=I));const uu=(I,A)=>{const N=A?[A]:(0,ne.C6)(),H=[];return N.forEach(te=>{te.container.getProvider(I).instances.forEach(Be=>{H.includes(Be)||H.push(Be)})}),H};function cu(){}class ad{constructor(A,N=ou.c){this.zone=A,this.delegate=N}now(){return this.delegate.now()}schedule(A,N,H){const te=this.zone;return this.delegate.schedule(function(Be){te.runGuarded(()=>{A.apply(this,[Be])})},N,H)}}class Oi{constructor(A){this.zone=A,this.task=null}call(A,N){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cu,{},cu,cu)),N.pipe((0,id.b)({next:H,complete:H,error:H})).subscribe(A).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pi=(()=>{class I{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new ad(Zone.current)),this.insideAngular=N.run(()=>new ad(Zone.current,bn.P)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(N){return new(N||I)(h.LFG(h.R0b))},I.\u0275prov=h.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function os(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function ud(I){return os(),function(I){return function(N){return(N=N.lift(new Oi(I.ngZone))).pipe((0,Rh.R)(I.outsideAngular),(0,Ts.QV)(I.insideAngular))}}(os())(I)}},4486:(nt,Te,L)=>{"use strict";L.d(Te,{Z:()=>De});var h=L(3854),ne=L(6034),V=L(5452),ue=L(5601);class ie{constructor(Q,j){this._delegate=Q,this.firebase=j,(0,V._addComponent)(Q,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=Q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this._delegate.automaticDataCollectionEnabled=Q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Q=>{this._delegate.checkDestroyed(),Q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(Q,j=V._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const ye=this._delegate.container.getProvider(Q);return!ye.isInitialized()&&"EXPLICIT"===(null===(ce=ye.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&ye.initialize(),ye.getImmediate({identifier:j})}_removeServiceInstance(Q,j=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Q).clearInstance(j)}_addComponent(Q){(0,V._addComponent)(this._delegate,Q)}_addOrOverwriteComponent(Q){(0,V._addOrOverwriteComponent)(this._delegate,Q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function se(){const we=function(we){const Q={},j={__esModule:!0,initializeApp:function(mt,Me={}){const le=V.initializeApp(mt,Me);if((0,h.r3)(Q,le.name))return Q[le.name];const pe=new we(le,j);return Q[le.name]=pe,pe},app:ye,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function(mt){const Me=mt.name,le=Me.replace("-compat","");if(V._registerComponent(mt)&&"PUBLIC"===mt.type){const pe=(ge=ye())=>{if("function"!=typeof ge[le])throw _e.create("invalid-app-argument",{appName:Me});return ge[le]()};void 0!==mt.serviceProps&&(0,h.ZB)(pe,mt.serviceProps),j[le]=pe,we.prototype[le]=function(...ge){return this._getService.bind(this,Me).apply(this,mt.multipleInstances?ge:[])}}return"PUBLIC"===mt.type?j[le]:null},removeApp:function(mt){delete Q[mt]},useAsService:function(mt,Me){return"serverAuth"===Me?null:Me},modularAPIs:V}};function ye(mt){if(!(0,h.r3)(Q,mt=mt||V._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:mt});return Q[mt]}return j.default=j,Object.defineProperty(j,"apps",{get:function(){return Object.keys(Q).map(mt=>Q[mt])}}),ye.App=we,j}(ie);return we.INTERNAL=Object.assign(Object.assign({},we.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function(j){(0,h.ZB)(we,j)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),we}(),U=new ue.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const we=self.firebase.SDK_VERSION;we&&we.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=$;(0,V.registerVersion)("@firebase/app-compat","0.1.6",undefined)},5452:(nt,Te,L)=>{"use strict";L.r(Te),L.d(Te,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>xn,_DEFAULT_ENTRY_NAME:()=>An,_addComponent:()=>sn,_addOrOverwriteComponent:()=>Hn,_apps:()=>jt,_clearComponents:()=>Ft,_components:()=>kn,_getProvider:()=>on,_registerComponent:()=>_r,_removeServiceInstance:()=>ft,deleteApp:()=>Et,getApp:()=>vr,getApps:()=>Ur,initializeApp:()=>Vr,onLog:()=>dn,registerVersion:()=>Fn,setLogLevel:()=>$t});var h=L(8239),ne=L(6034),V=L(5601),ue=L(3854);class ie{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(xt=>{if(function(lt){const Pe=lt.getComponent();return"VERSION"===(null==Pe?void 0:Pe.type)}(xt)){const hn=xt.getImmediate();return`${hn.library}/${hn.version}`}return null}).filter(xt=>xt).join(" ")}}const _e="@firebase/app",se=new V.Yd("@firebase/app"),An="[DEFAULT]",bt={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,kn=new Map;function sn(lt,Pe){try{lt.container.addComponent(Pe)}catch(xt){se.debug(`Component ${Pe.name} failed to register with FirebaseApp ${lt.name}`,xt)}}function Hn(lt,Pe){lt.container.addOrOverwriteComponent(Pe)}function _r(lt){const Pe=lt.name;if(kn.has(Pe))return se.debug(`There were multiple attempts to register component ${Pe}.`),!1;kn.set(Pe,lt);for(const xt of jt.values())sn(xt,lt);return!0}function on(lt,Pe){return lt.container.getProvider(Pe)}function ft(lt,Pe,xt=An){on(lt,Pe).clearInstance(xt)}function Ft(){kn.clear()}const qn=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class yn{constructor(Pe,xt,hn){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},xt),this._name=xt.name,this._automaticDataCollectionEnabled=xt.automaticDataCollectionEnabled,this._container=hn,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}const xn="9.2.0";function Vr(lt,Pe={}){"object"!=typeof Pe&&(Pe={name:Pe});const xt=Object.assign({name:An,automaticDataCollectionEnabled:!1},Pe),hn=xt.name;if("string"!=typeof hn||!hn)throw qn.create("bad-app-name",{appName:String(hn)});const _n=jt.get(hn);if(_n){if((0,ue.vZ)(lt,_n.options)&&(0,ue.vZ)(xt,_n.config))return _n;throw qn.create("duplicate-app",{appName:hn})}const Ht=new ne.H0(hn);for(const tt of kn.values())Ht.addComponent(tt);const Je=new yn(lt,xt,Ht);return jt.set(hn,Je),Je}function vr(lt=An){const Pe=jt.get(lt);if(!Pe)throw qn.create("no-app",{appName:lt});return Pe}function Ur(){return Array.from(jt.values())}function Et(lt){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,h.Z)(function*(lt){const Pe=lt.name;jt.has(Pe)&&(jt.delete(Pe),yield Promise.all(lt.container.getProviders().map(xt=>xt.delete())),lt.isDeleted=!0)})).apply(this,arguments)}function Fn(lt,Pe,xt){var hn;let _n=null!==(hn=bt[lt])&&void 0!==hn?hn:lt;xt&&(_n+=`-${xt}`);const Ht=_n.match(/\s|\//),Je=Pe.match(/\s|\//);if(Ht||Je){const tt=[`Unable to register library "${_n}" with version "${Pe}":`];return Ht&&tt.push(`library name "${_n}" contains illegal characters (whitespace or "/")`),Ht&&Je&&tt.push("and"),Je&&tt.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void se.warn(tt.join(" "))}_r(new ne.wA(`${_n}-version`,()=>({library:_n,version:Pe}),"VERSION"))}function dn(lt,Pe){if(null!==lt&&"function"!=typeof lt)throw qn.create("invalid-log-argument");(0,V.Am)(lt,Pe)}function $t(lt){(0,V.Ub)(lt)}_r(new ne.wA("platform-logger",Pe=>new ie(Pe),"PRIVATE")),Fn(_e,"0.7.5",""),Fn(_e,"0.7.5","esm2017"),Fn("fire-js","")},6034:(nt,Te,L)=>{"use strict";L.d(Te,{wA:()=>V,H0:()=>ve});var h=L(4762),ne=L(3854),V=function(){function se($,U,X){this.name=$,this.instanceFactory=U,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return se.prototype.setInstantiationMode=function($){return this.instantiationMode=$,this},se.prototype.setMultipleInstances=function($){return this.multipleInstances=$,this},se.prototype.setServiceProps=function($){return this.serviceProps=$,this},se.prototype.setInstanceCreatedCallback=function($){return this.onInstanceCreated=$,this},se}(),ue="[DEFAULT]",ie=function(){function se($,U){this.name=$,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return se.prototype.get=function($){var U=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(U)){var X=new ne.BH;if(this.instancesDeferred.set(U,X),this.isInitialized(U)||this.shouldAutoInitialize())try{var Y=this.getOrInitializeService({instanceIdentifier:U});Y&&X.resolve(Y)}catch(de){}}return this.instancesDeferred.get(U).promise},se.prototype.getImmediate=function($){var U,X=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),Y=null!==(U=null==$?void 0:$.optional)&&void 0!==U&&U;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(de){if(Y)return null;throw de}},se.prototype.getComponent=function(){return this.component},se.prototype.setComponent=function($){var U,X;if($.name!==this.name)throw Error("Mismatching Component "+$.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=$,this.shouldAutoInitialize()){if(function(se){return"EAGER"===se.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(ye){}try{for(var Y=(0,h.XA)(this.instancesDeferred.entries()),de=Y.next();!de.done;de=Y.next()){var De=(0,h.CR)(de.value,2),Q=De[1],j=this.normalizeInstanceIdentifier(De[0]);try{var ce=this.getOrInitializeService({instanceIdentifier:j});Q.resolve(ce)}catch(ye){}}}catch(ye){U={error:ye}}finally{try{de&&!de.done&&(X=Y.return)&&X.call(Y)}finally{if(U)throw U.error}}}},se.prototype.clearInstance=function($){void 0===$&&($=ue),this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)},se.prototype.delete=function(){return(0,h.mG)(this,void 0,void 0,function(){var $;return(0,h.Jh)(this,function(U){switch(U.label){case 0:return $=Array.from(this.instances.values()),[4,Promise.all((0,h.ev)((0,h.ev)([],(0,h.CR)($.filter(function(X){return"INTERNAL"in X}).map(function(X){return X.INTERNAL.delete()}))),(0,h.CR)($.filter(function(X){return"_delete"in X}).map(function(X){return X._delete()}))))];case 1:return U.sent(),[2]}})})},se.prototype.isComponentSet=function(){return null!=this.component},se.prototype.isInitialized=function($){return void 0===$&&($=ue),this.instances.has($)},se.prototype.getOptions=function($){return void 0===$&&($=ue),this.instancesOptions.get($)||{}},se.prototype.initialize=function($){var U,X;void 0===$&&($={});var Y=$.options,de=void 0===Y?{}:Y,De=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(De))throw Error(this.name+"("+De+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var we=this.getOrInitializeService({instanceIdentifier:De,options:de});try{for(var Q=(0,h.XA)(this.instancesDeferred.entries()),j=Q.next();!j.done;j=Q.next()){var ce=(0,h.CR)(j.value,2),Se=ce[1];De===this.normalizeInstanceIdentifier(ce[0])&&Se.resolve(we)}}catch(Ne){U={error:Ne}}finally{try{j&&!j.done&&(X=Q.return)&&X.call(Q)}finally{if(U)throw U.error}}return we},se.prototype.onInit=function($,U){var X,Y=this.normalizeInstanceIdentifier(U),de=null!==(X=this.onInitCallbacks.get(Y))&&void 0!==X?X:new Set;de.add($),this.onInitCallbacks.set(Y,de);var De=this.instances.get(Y);return De&&$(De,Y),function(){de.delete($)}},se.prototype.invokeOnInitCallbacks=function($,U){var X,Y,de=this.onInitCallbacks.get(U);if(de)try{for(var De=(0,h.XA)(de),we=De.next();!we.done;we=De.next()){var Q=we.value;try{Q($,U)}catch(j){}}}catch(j){X={error:j}}finally{try{we&&!we.done&&(Y=De.return)&&Y.call(De)}finally{if(X)throw X.error}}},se.prototype.getOrInitializeService=function($){var U=$.instanceIdentifier,X=$.options,Y=void 0===X?{}:X,de=this.instances.get(U);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:ae(U),options:Y}),this.instances.set(U,de),this.instancesOptions.set(U,Y),this.invokeOnInitCallbacks(de,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,de)}catch(De){}return de||null},se.prototype.normalizeInstanceIdentifier=function($){return void 0===$&&($=ue),this.component?this.component.multipleInstances?$:ue:$},se.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},se}();function ae(se){return se===ue?void 0:se}var ve=function(){function se($){this.name=$,this.providers=new Map}return se.prototype.addComponent=function($){var U=this.getProvider($.name);if(U.isComponentSet())throw new Error("Component "+$.name+" has already been registered with "+this.name);U.setComponent($)},se.prototype.addOrOverwriteComponent=function($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)},se.prototype.getProvider=function($){if(this.providers.has($))return this.providers.get($);var U=new ie($,this);return this.providers.set($,U),U},se.prototype.getProviders=function(){return Array.from(this.providers.values())},se}()},5601:(nt,Te,L)=>{"use strict";L.d(Te,{in:()=>ne,Yd:()=>_e,Ub:()=>ve,Am:()=>se});const h=[];var ne=(()=>{return($=ne||(ne={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",ne;var $})();const V={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ue=ne.INFO,ie={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},ae=($,U,...X)=>{if(U<$.logLevel)return;const Y=(new Date).toISOString(),de=ie[U];if(!de)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[de](`[${Y}]  ${$.name}:`,...X)};class _e{constructor(U){this.name=U,this._logLevel=ue,this._logHandler=ae,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in ne))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?V[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...U),this._logHandler(this,ne.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...U),this._logHandler(this,ne.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...U),this._logHandler(this,ne.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...U),this._logHandler(this,ne.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...U),this._logHandler(this,ne.ERROR,...U)}}function ve($){h.forEach(U=>{U.setLogLevel($)})}function se($,U){for(const X of h){let Y=null;U&&U.level&&(Y=V[U.level]),X.userLogHandler=null===$?null:(de,De,...we)=>{const Q=we.map(j=>{if(null==j)return null;if("string"==typeof j)return j;if("number"==typeof j||"boolean"==typeof j)return j.toString();if(j instanceof Error)return j.message;try{return JSON.stringify(j)}catch(ce){return null}}).filter(j=>j).join(" ");De>=(null!=Y?Y:de.logLevel)&&$({level:ne[De].toLowerCase(),message:Q,args:we,type:de.name})}}}},3854:(nt,Te,L)=>{"use strict";L.d(Te,{BH:()=>Y,LL:()=>be,ZR:()=>Le,zI:()=>pe,US:()=>ae,tV:()=>se,$s:()=>hi,r3:()=>on,Sg:()=>de,ne:()=>Et,vZ:()=>qn,ZB:()=>U,pd:()=>vr,m9:()=>Hs,z$:()=>De,jU:()=>j,ru:()=>ce,d:()=>Se,xb:()=>Ft,w1:()=>ze,hl:()=>Me,uI:()=>we,UG:()=>Q,b$:()=>ye,G6:()=>mt,Mn:()=>Ne,xO:()=>xn,zd:()=>Vr,eu:()=>le});const ue=function(Z){const W=[];let G=0;for(let Re=0;Re<Z.length;Re++){let fe=Z.charCodeAt(Re);fe<128?W[G++]=fe:fe<2048?(W[G++]=fe>>6|192,W[G++]=63&fe|128):55296==(64512&fe)&&Re+1<Z.length&&56320==(64512&Z.charCodeAt(Re+1))?(fe=65536+((1023&fe)<<10)+(1023&Z.charCodeAt(++Re)),W[G++]=fe>>18|240,W[G++]=fe>>12&63|128,W[G++]=fe>>6&63|128,W[G++]=63&fe|128):(W[G++]=fe>>12|224,W[G++]=fe>>6&63|128,W[G++]=63&fe|128)}return W},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,W){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Re=[];for(let fe=0;fe<Z.length;fe+=3){const Ke=Z[fe],He=fe+1<Z.length,qt=He?Z[fe+1]:0,fn=fe+2<Z.length,un=fn?Z[fe+2]:0;let pn=(15&qt)<<2|un>>6,cr=63&un;fn||(cr=64,He||(pn=64)),Re.push(G[Ke>>2],G[(3&Ke)<<4|qt>>4],G[pn],G[cr])}return Re.join("")},encodeString(Z,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(Z):this.encodeByteArray(ue(Z),W)},decodeString(Z,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(Z):function(Z){const W=[];let G=0,Re=0;for(;G<Z.length;){const fe=Z[G++];if(fe<128)W[Re++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const Ke=Z[G++];W[Re++]=String.fromCharCode((31&fe)<<6|63&Ke)}else if(fe>239&&fe<365){const fn=((7&fe)<<18|(63&Z[G++])<<12|(63&Z[G++])<<6|63&Z[G++])-65536;W[Re++]=String.fromCharCode(55296+(fn>>10)),W[Re++]=String.fromCharCode(56320+(1023&fn))}else{const Ke=Z[G++],He=Z[G++];W[Re++]=String.fromCharCode((15&fe)<<12|(63&Ke)<<6|63&He)}}return W.join("")}(this.decodeStringToByteArray(Z,W))},decodeStringToByteArray(Z,W){this.init_();const G=W?this.charToByteMapWebSafe_:this.charToByteMap_,Re=[];for(let fe=0;fe<Z.length;){const Ke=G[Z.charAt(fe++)],qt=fe<Z.length?G[Z.charAt(fe)]:0;++fe;const un=fe<Z.length?G[Z.charAt(fe)]:64;++fe;const Lt=fe<Z.length?G[Z.charAt(fe)]:64;if(++fe,null==Ke||null==qt||null==un||null==Lt)throw Error();Re.push(Ke<<2|qt>>4),64!==un&&(Re.push(qt<<4&240|un>>2),64!==Lt&&Re.push(un<<6&192|Lt))}return Re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},ve=function(Z){return function(Z){const W=ue(Z);return ae.encodeByteArray(W,!0)}(Z).replace(/\./g,"")},se=function(Z){try{return ae.decodeString(Z,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function U(Z,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return W}for(const G in W)!W.hasOwnProperty(G)||!X(G)||(Z[G]=U(Z[G],W[G]));return Z}function X(Z){return"__proto__"!==Z}class Y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,G)=>{this.resolve=W,this.reject=G})}wrapCallback(W){return(G,Re)=>{G?this.reject(G):this.resolve(Re),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(G):W(G,Re))}}}function de(Z,W){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Re=W||"demo-project",fe=Z.iat||0,Ke=Z.sub||Z.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const He=Object.assign({iss:`https://securetoken.google.com/${Re}`,aud:Re,iat:fe,exp:fe+3600,auth_time:fe,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(He)),""].join(".")}function De(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function Q(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function j(){return"object"==typeof self&&self.self===self}function ce(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){return De().indexOf("Electron/")>=0}function ze(){const Z=De();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Ne(){return De().indexOf("MSAppHost/")>=0}function mt(){return!Q()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){return"object"==typeof indexedDB}function le(){return new Promise((Z,W)=>{try{let G=!0;const Re="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(Re);fe.onsuccess=()=>{fe.result.close(),G||self.indexedDB.deleteDatabase(Re),Z(!0)},fe.onupgradeneeded=()=>{G=!1},fe.onerror=()=>{var Ke;W((null===(Ke=fe.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(G){W(G)}})}function pe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Le extends Error{constructor(W,G,Re){super(G),this.code=W,this.customData=Re,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(W,G,Re){this.service=W,this.serviceName=G,this.errors=Re}create(W,...G){const Re=G[0]||{},fe=`${this.service}/${W}`,Ke=this.errors[W],He=Ke?function(Z,W){return Z.replace(Ut,(G,Re)=>{const fe=W[Re];return null!=fe?String(fe):`<${Re}?>`})}(Ke,Re):"Error";return new Le(fe,`${this.serviceName}: ${He} (${fe}).`,Re)}}const Ut=/\{\$([^}]+)}/g;function on(Z,W){return Object.prototype.hasOwnProperty.call(Z,W)}function Ft(Z){for(const W in Z)if(Object.prototype.hasOwnProperty.call(Z,W))return!1;return!0}function qn(Z,W){if(Z===W)return!0;const G=Object.keys(Z),Re=Object.keys(W);for(const fe of G){if(!Re.includes(fe))return!1;const Ke=Z[fe],He=W[fe];if(yn(Ke)&&yn(He)){if(!qn(Ke,He))return!1}else if(Ke!==He)return!1}for(const fe of Re)if(!G.includes(fe))return!1;return!0}function yn(Z){return null!==Z&&"object"==typeof Z}function xn(Z){const W=[];for(const[G,Re]of Object.entries(Z))Array.isArray(Re)?Re.forEach(fe=>{W.push(encodeURIComponent(G)+"="+encodeURIComponent(fe))}):W.push(encodeURIComponent(G)+"="+encodeURIComponent(Re));return W.length?"&"+W.join("&"):""}function Vr(Z){const W={};return Z.replace(/^\?/,"").split("&").forEach(Re=>{if(Re){const[fe,Ke]=Re.split("=");W[decodeURIComponent(fe)]=decodeURIComponent(Ke)}}),W}function vr(Z){const W=Z.indexOf("?");if(!W)return"";const G=Z.indexOf("#",W);return Z.substring(W,G>0?G:void 0)}function Et(Z,W){const G=new Wn(Z,W);return G.subscribe.bind(G)}class Wn{constructor(W,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{W(this)}).catch(Re=>{this.error(Re)})}next(W){this.forEachObserver(G=>{G.next(W)})}error(W){this.forEachObserver(G=>{G.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,G,Re){let fe;if(void 0===W&&void 0===G&&void 0===Re)throw new Error("Missing Observer.");fe=function(Z,W){if("object"!=typeof Z||null===Z)return!1;for(const G of["next","error","complete"])if(G in Z&&"function"==typeof Z[G])return!0;return!1}(W)?W:{next:W,error:G,complete:Re},void 0===fe.next&&(fe.next=$t),void 0===fe.error&&(fe.error=$t),void 0===fe.complete&&(fe.complete=$t);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch(He){}}),this.observers.push(fe),Ke}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,W)}sendOne(W,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{G(this.observers[W])}catch(Re){"undefined"!=typeof console&&console.error&&console.error(Re)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $t(){}function hi(Z,W=1e3,G=2){const Re=W*Math.pow(G,Z),fe=Math.round(.5*Re*(Math.random()-.5)*2);return Math.min(144e5,Re+fe)}function Hs(Z){return Z&&Z._delegate?Z._delegate:Z}},2329:(nt,Te,L)=>{"use strict";L.d(Te,{Mq:()=>h.getApp,C6:()=>h.getApps});var h=L(5452);(0,h.registerVersion)("firebase","9.2.0","app")},7841:(nt,Te,L)=>{"use strict";L.d(Te,{Z:()=>h.Z});var h=L(4486);h.Z.registerVersion("firebase","9.2.0","app-compat")},6096:(nt,Te,L)=>{"use strict";L.r(Te);var h=L(8239),ne=L(4486),V=L(3854),ue=L(5452),ie=L(4762),ae=L(5601),_e=L(6034);const De=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},we=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Q=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ce=new ae.Yd("@firebase/auth");function ye(_,...f){ce.logLevel<=ae.in.ERROR&&ce.error(`Auth (${ue.SDK_VERSION}): ${_}`,...f)}function Se(_,...f){throw mt(_,...f)}function ze(_,...f){return mt(_,...f)}function Ne(_,f,g){const w=Object.assign(Object.assign({},we()),{[f]:g});return new V.LL("auth","Firebase",w).create(f,{appName:_.name})}function wt(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Se(_,"argument-error"),Ne(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(_,...f){if("string"!=typeof _){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(g,...w)}return Q.create(_,...f)}function Me(_,f,...g){if(!_)throw mt(f,...g)}function le(_){const f="INTERNAL ASSERTION FAILED: "+_;throw ye(f),new Error(f)}function pe(_,f){_||le(f)}const ge=new Map;function he(_){pe(_ instanceof Function,"Expected a class definition");let f=ge.get(_);return f?(pe(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ge.set(_,f),f)}function rt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ut(){return"http:"===An()||"https:"===An()}function An(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class kn{constructor(f,g){this.shortDelay=f,this.longDelay=g,pe(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ut()||(0,V.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function sn(_,f){pe(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Hn{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _r={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},on=new kn(3e4,6e4);function ft(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ft(_,f,g,w){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,h.Z)(function*(_,f,g,w,x={}){return qn(_,x,()=>{let k={},J={};w&&("GET"===f?J=w:k={body:JSON.stringify(w)});const Ee=(0,V.xO)(Object.assign({key:_.config.apiKey},J)).slice(1),qe=new(Hn.headers());return qe.set("Content-Type","application/json"),qe.set("X-Client-Version",_._getSdkClientVersion()),_.languageCode&&qe.set("X-Firebase-Locale",_.languageCode),Hn.fetch()(vr(_,_.config.apiHost,g,Ee),Object.assign({method:f,headers:qe,referrerPolicy:"no-referrer"},k))})})).apply(this,arguments)}function qn(_,f,g){return yn.apply(this,arguments)}function yn(){return(yn=(0,h.Z)(function*(_,f,g){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},_r),f);try{const x=new Ur(_),k=yield Promise.race([g(),x.promise]);x.clearNetworkTimeout();const J=yield k.json();if("needConfirmation"in J)throw Et(_,"account-exists-with-different-credential",J);if(k.ok&&!("errorMessage"in J))return J;{const Ee=k.ok?J.errorMessage:J.error.message,[qe,st]=Ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw Et(_,"credential-already-in-use",J);if("EMAIL_EXISTS"===qe)throw Et(_,"email-already-in-use",J);const pt=w[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Ne(_,pt,st);Se(_,pt)}}catch(x){if(x instanceof V.ZR)throw x;Se(_,"network-request-failed")}})).apply(this,arguments)}function xn(_,f,g,w){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(_,f,g,w,x={}){const k=yield Ft(_,f,g,w,x);return"mfaPendingCredential"in k&&Se(_,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function vr(_,f,g,w){const x=`${f}${g}?${w}`;return _.config.emulator?sn(_.config,x):`${_.config.apiScheme}://${x}`}class Ur{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(ze(this.auth,"timeout")),on.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Et(_,f,g){const w={appName:_.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const x=ze(_,f,w);return x.customData._tokenResponse=g,x}function Fn(){return(Fn=(0,h.Z)(function*(_,f){return Ft(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function dn(_,f){return $t.apply(this,arguments)}function $t(){return($t=(0,h.Z)(function*(_,f){return Ft(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Mn(_,f){return lt.apply(this,arguments)}function lt(){return(lt=(0,h.Z)(function*(_,f){return Ft(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Pe(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function _n(){return(_n=(0,h.Z)(function*(_,f=!1){const g=(0,V.m9)(_),w=yield g.getIdToken(f),x=Je(w);Me(x&&x.exp&&x.auth_time&&x.iat,g.auth,"internal-error");const k="object"==typeof x.firebase?x.firebase:void 0,J=null==k?void 0:k.sign_in_provider;return{claims:x,token:w,authTime:Pe(Ht(x.auth_time)),issuedAtTime:Pe(Ht(x.iat)),expirationTime:Pe(Ht(x.exp)),signInProvider:J||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Ht(_){return 1e3*Number(_)}function Je(_){const[f,g,w]=_.split(".");if(void 0===f||void 0===g||void 0===w)return ye("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,V.tV)(g);return x?JSON.parse(x):(ye("Failed to decode base64 JWT payload"),null)}catch(x){return ye("Caught error parsing JWT payload as JSON",x),null}}function Cn(_,f){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,h.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof V.ZR&&hi(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function hi({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Jt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class Tr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pe(this.lastLoginAt),this.creationTime=Pe(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hs(_){return Z.apply(this,arguments)}function Z(){return(Z=(0,h.Z)(function*(_){var f;const g=_.auth,w=yield _.getIdToken(),x=yield Cn(_,Mn(g,{idToken:w}));Me(null==x?void 0:x.users.length,g,"internal-error");const k=x.users[0];_._notifyReloadListener(k);const J=(null===(f=k.providerUserInfo)||void 0===f?void 0:f.length)?fe(k.providerUserInfo):[],Ee=Re(_.providerData,J),pt=!!_.isAnonymous&&!(_.email&&k.passwordHash||(null==Ee?void 0:Ee.length)),dt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Ee,metadata:new Tr(k.createdAt,k.lastLoginAt),isAnonymous:pt};Object.assign(_,dt)})).apply(this,arguments)}function G(){return(G=(0,h.Z)(function*(_){const f=(0,V.m9)(_);yield Hs(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Re(_,f){return[..._.filter(w=>!f.some(x=>x.providerId===w.providerId)),...f]}function fe(_){return _.map(f=>{var{providerId:g}=f,w=(0,ie._T)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function He(){return(He=(0,h.Z)(function*(_,f){const g=yield qn(_,{},()=>{const w=(0,V.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:k}=_.config,J=vr(_,x,"/v1/token",`key=${k}`);return Hn.fetch()(J,{method:"POST",headers:{"X-Client-Version":_._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:w})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Me(f.idToken,"internal-error"),Me(void 0!==f.idToken,"internal-error"),Me(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(_){const f=Je(_);return Me(f,"internal-error"),Me(void 0!==f.exp,"internal-error"),Me(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,h.Z)(function*(){return Me(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,h.Z)(function*(){const{accessToken:x,refreshToken:k,expiresIn:J}=yield function(_,f){return He.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(x,k,Number(J))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:x,expirationTime:k}=g,J=new qt;return w&&(Me("string"==typeof w,"internal-error",{appName:f}),J.refreshToken=w),x&&(Me("string"==typeof x,"internal-error",{appName:f}),J.accessToken=x),k&&(Me("number"==typeof k,"internal-error",{appName:f}),J.expirationTime=k),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return le("not implemented")}}function fn(_,f){Me("string"==typeof _||void 0===_,"internal-error",{appName:f})}class un{constructor(f){var{uid:g,auth:w,stsTokenManager:x}=f,k=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.metadata=new Tr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,h.Z)(function*(){const w=yield Cn(g,g.stsTokenManager.getToken(g.auth,f));return Me(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function(_){return _n.apply(this,arguments)}(this,f)}reload(){return function(_){return G.apply(this,arguments)}(this)}_assign(f){this!==f&&(Me(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new un(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,h.Z)(function*(){let x=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),x=!0),g&&(yield Hs(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,h.Z)(function*(){const g=yield f.getIdToken();return yield Cn(f,function(_,f){return Fn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,x,k,J,Ee,qe,st,pt;const dt=null!==(w=g.displayName)&&void 0!==w?w:void 0,Gn=null!==(x=g.email)&&void 0!==x?x:void 0,Fi=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,Ei=null!==(J=g.photoURL)&&void 0!==J?J:void 0,lc=null!==(Ee=g.tenantId)&&void 0!==Ee?Ee:void 0,Pp=null!==(qe=g._redirectEventId)&&void 0!==qe?qe:void 0,jm=null!==(st=g.createdAt)&&void 0!==st?st:void 0,kp=null!==(pt=g.lastLoginAt)&&void 0!==pt?pt:void 0,{uid:$m,emailVerified:Fp,isAnonymous:Hm,providerData:Lp,stsTokenManager:qm}=g;Me($m&&qm,f,"internal-error");const hl=qt.fromJSON(this.name,qm);Me("string"==typeof $m,f,"internal-error"),fn(dt,f.name),fn(Gn,f.name),Me("boolean"==typeof Fp,f,"internal-error"),Me("boolean"==typeof Hm,f,"internal-error"),fn(Fi,f.name),fn(Ei,f.name),fn(lc,f.name),fn(Pp,f.name),fn(jm,f.name),fn(kp,f.name);const us=new un({uid:$m,auth:f,email:Gn,emailVerified:Fp,displayName:dt,isAnonymous:Hm,photoURL:Ei,phoneNumber:Fi,tenantId:lc,stsTokenManager:hl,createdAt:jm,lastLoginAt:kp});return Lp&&Array.isArray(Lp)&&(us.providerData=Lp.map(Gb=>Object.assign({},Gb))),Pp&&(us._redirectEventId=Pp),us}static _fromIdTokenResponse(f,g,w=!1){return(0,h.Z)(function*(){const x=new qt;x.updateFromServerResponse(g);const k=new un({uid:g.localId,auth:f,stsTokenManager:x,isAnonymous:w});return yield Hs(k),k})()}}const Lt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(g,w){var x=this;return(0,h.Z)(function*(){x.storage[g]=w})()}_get(g){var w=this;return(0,h.Z)(function*(){const x=w.storage[g];return void 0===x?null:x})()}_remove(g){var w=this;return(0,h.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return _.type="NONE",_})();function pn(_,f,g){return`firebase:${_}:${f}:${g}`}class cr{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:x,name:k}=this.auth;this.fullUserKey=pn(this.userKey,x.apiKey,k),this.fullPersistenceKey=pn("persistence",x.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?un._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,h.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,h.Z)(function*(){if(!g.length)return new cr(he(Lt),f,w);const x=(yield Promise.all(g.map(function(){var st=(0,h.Z)(function*(pt){if(yield pt._isAvailable())return pt});return function(pt){return st.apply(this,arguments)}}()))).filter(st=>st);let k=x[0]||he(Lt);const J=pn(w,f.config.apiKey,f.name);let Ee=null;for(const st of g)try{const pt=yield st._get(J);if(pt){const dt=un._fromJSON(f,pt);st!==k&&(Ee=dt),k=st;break}}catch(pt){}const qe=x.filter(st=>st._shouldAllowMigration);return k._shouldAllowMigration&&qe.length?(k=qe[0],Ee&&(yield k._set(J,Ee.toJSON())),yield Promise.all(g.map(function(){var st=(0,h.Z)(function*(pt){if(pt!==k)try{yield pt._remove(J)}catch(dt){}});return function(pt){return st.apply(this,arguments)}}())),new cr(k,f,w)):new cr(k,f,w)})()}}function ja(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if($a(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(_t(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ia(f))return"Blackberry";if(ys(f))return"Webos";if(Pu(f))return"Safari";if((f.includes("chrome/")||ra(f))&&!f.includes("edge/"))return"Chrome";if(ms(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function _t(_=(0,V.z$)()){return/firefox\//i.test(_)}function Pu(_=(0,V.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ra(_=(0,V.z$)()){return/crios\//i.test(_)}function $a(_=(0,V.z$)()){return/iemobile/i.test(_)}function ms(_=(0,V.z$)()){return/android/i.test(_)}function ia(_=(0,V.z$)()){return/blackberry/i.test(_)}function ys(_=(0,V.z$)()){return/webos/i.test(_)}function Br(_=(0,V.z$)()){return/iphone|ipad|ipod/i.test(_)}function Ki(_=(0,V.z$)()){return Br(_)||ms(_)||ys(_)||ia(_)||/windows phone/i.test(_)||$a(_)}function er(_,f=[]){let g;switch(_){case"Browser":g=ja((0,V.z$)());break;case"Worker":g=`${ja((0,V.z$)())}-${_}`;break;default:g=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${w}`}class Fc{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ge(this),this.idTokenSubscription=new Ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=he(g)),this._initializationPromise=this.queue((0,h.Z)(function*(){var x;w._deleted||(w.persistenceManager=yield cr.create(w,f),!w._deleted&&((null===(x=w._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)&&(yield w._popupRedirectResolver._initialize(w)),yield w.initializeCurrentUser(g),!w._deleted&&(w._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,h.Z)(function*(){var w;let x=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const k=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,J=null==x?void 0:x._redirectEventId,Ee=yield g.tryRedirectSignIn(f);(!k||k===J)&&(null==Ee?void 0:Ee.user)&&(x=Ee.user)}return x?x._redirectEventId?(Me(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)):g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,h.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(x){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,h.Z)(function*(){try{yield Hs(f)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){const w=f?(0,V.m9)(f):null;return w&&Me(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,h.Z)(function*(){if(!g._deleted)return f&&Me(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,h.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,h.Z)(function*(){yield g.assertedPersistence.setPersistence(he(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new V.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,h.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(g);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,h.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&he(f)||g._popupRedirectResolver;Me(w,g,"argument-error"),g.redirectPersistenceManager=yield cr.create(g,[he(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,h.Z)(function*(){var w,x;return g._isInitialized&&(yield g.queue((0,h.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(x=g.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,h.Z)(function*(){if(f===g.currentUser)return g.queue((0,h.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,x){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),J=this._isInitialized?Promise.resolve():this._initializationPromise;return Me(J,this,"internal-error"),J.then(()=>k(this.currentUser)),"function"==typeof g?f.addObserver(g,w,x):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,h.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=er(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Gt(_){return(0,V.m9)(_)}class Ge{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,V.ne)(g=>this.observer=g)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gn(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Yi(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class dr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return le("not implemented")}_getIdTokenResponse(f){return le("not implemented")}_linkToIdToken(f,g){return le("not implemented")}_getReauthenticationResolver(f){return le("not implemented")}}function In(_,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(_,f){return Ft(_,"POST","/v1/accounts:resetPassword",ft(_,f))})).apply(this,arguments)}function vo(_,f){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,h.Z)(function*(_,f){return Ft(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function aa(_,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(_,f){return Ft(_,"POST","/v1/accounts:update",ft(_,f))})).apply(this,arguments)}function jr(){return(jr=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithPassword",ft(_,f))})).apply(this,arguments)}function tr(_,f){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,h.Z)(function*(_,f){return Ft(_,"POST","/v1/accounts:sendOobCode",ft(_,f))})).apply(this,arguments)}function fi(_,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,h.Z)(function*(_,f){return tr(_,f)})).apply(this,arguments)}function an(_,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,h.Z)(function*(_,f){return tr(_,f)})).apply(this,arguments)}function vt(_,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(_,f){return tr(_,f)})).apply(this,arguments)}function Lc(_,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,h.Z)(function*(_,f){return tr(_,f)})).apply(this,arguments)}function Xi(){return(Xi=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithEmailLink",ft(_,f))})).apply(this,arguments)}function ku(){return(ku=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithEmailLink",ft(_,f))})).apply(this,arguments)}class $r extends dr{constructor(f,g,w,x=null){super("password",w),this._email=f,this._password=g,this._tenantId=x}static _fromEmailAndPassword(f,g){return new $r(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new $r(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,h.Z)(function*(){switch(g.signInMethod){case"password":return function(_,f){return jr.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(_,f){return Xi.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Se(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return vo(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(_,f){return ku.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:Se(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function zt(_,f){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithIdp",ft(_,f))})).apply(this,arguments)}class Hr extends dr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Hr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:x}=g,k=(0,ie._T)(g,["providerId","signInMethod"]);if(!w||!x)return null;const J=new Hr(w,x);return J.idToken=k.idToken||void 0,J.accessToken=k.accessToken||void 0,J.secret=k.secret,J.nonce=k.nonce,J.pendingToken=k.pendingToken||null,J}_getIdTokenResponse(f){return zt(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,zt(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,zt(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,V.xO)(g)}return f}}function fr(_,f){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,h.Z)(function*(_,f){return Ft(_,"POST","/v1/accounts:sendVerificationCode",ft(_,f))})).apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithPhoneNumber",ft(_,f))})).apply(this,arguments)}function Vc(){return(Vc=(0,h.Z)(function*(_,f){const g=yield xn(_,"POST","/v1/accounts:signInWithPhoneNumber",ft(_,f));if(g.temporaryProof)throw Et(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Uc={USER_NOT_FOUND:"user-not-found"};function Bc(){return(Bc=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithPhoneNumber",ft(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Uc)})).apply(this,arguments)}class bo extends dr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new bo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new bo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function(_,f){return wo.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function(_,f){return Vc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(_,f){return Bc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:x}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:x,temporaryProof:k}=f;return w||g||x||k?new bo({verificationId:g,verificationCode:w,phoneNumber:x,temporaryProof:k}):null}}class Ws{constructor(f){var g,w,x,k,J,Ee;const qe=(0,V.zd)((0,V.pd)(f)),st=null!==(g=qe.apiKey)&&void 0!==g?g:null,pt=null!==(w=qe.oobCode)&&void 0!==w?w:null,dt=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=qe.mode)&&void 0!==x?x:null);Me(st&&pt&&dt,"argument-error"),this.apiKey=st,this.operation=dt,this.code=pt,this.continueUrl=null!==(k=qe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(J=qe.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(Ee=qe.tenantId)&&void 0!==Ee?Ee:null}static parseLink(f){const g=function(_){const f=(0,V.zd)((0,V.pd)(_)).link,g=f?(0,V.zd)((0,V.pd)(f)).deep_link_id:null,w=(0,V.zd)((0,V.pd)(_)).deep_link_id;return(w?(0,V.zd)((0,V.pd)(w)).link:null)||w||g||f||_}(f);try{return new Ws(g)}catch(w){return null}}}let Ga=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,w){return $r._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const x=Ws.parseLink(w);return Me(x,"argument-error"),$r._fromEmailAndCode(g,x.code,x.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ks{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class la extends Ks{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class vs extends la{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return Me("providerId"in g&&"signInMethod"in g,"argument-error"),Hr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Me(f.idToken||f.accessToken,"argument-error"),Hr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return vs.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return vs.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:k,nonce:J,providerId:Ee}=f;if(!w&&!x&&!g&&!k||!Ee)return null;try{return new vs(Ee)._credential({idToken:g,accessToken:w,nonce:J,pendingToken:k})}catch(qe){return null}}}let Lu=(()=>{class _ extends la{constructor(){super("facebook.com")}static credential(g){return Hr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),za=(()=>{class _ extends la{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Hr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:x}=g;if(!w&&!x)return null;try{return _.credential(w,x)}catch(k){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Vu=(()=>{class _ extends la{constructor(){super("github.com")}static credential(g){return Hr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Eo extends dr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return zt(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,zt(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,zt(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:x,pendingToken:k}=g;return w&&x&&k&&w===x?new Eo(w,k):null}static _create(f,g){return new Eo(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let oi=(()=>{class _ extends la{constructor(){super("twitter.com")}static credential(g,w){return Hr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=g;if(!w||!x)return null;try{return _.credential(w,x)}catch(k){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ys(_,f){return ws.apply(this,arguments)}function ws(){return(ws=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signUp",ft(_,f))})).apply(this,arguments)}class pi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,x=!1){return(0,h.Z)(function*(){const k=yield un._fromIdTokenResponse(f,w,x),J=da(w);return new pi({user:k,providerId:J,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const x=da(w);return new pi({user:f,providerId:x,_tokenResponse:w,operationType:g})})()}}function da(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Qs(){return(Qs=(0,h.Z)(function*(_){var f;const g=Gt(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new pi({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Ys(g,{returnSecureToken:!0}),x=yield pi._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class Za extends V.ZR{constructor(f,g,w,x){var k;super(g.code,g.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,Za.prototype),this.customData={appName:f.name,tenantId:null!==(k=f.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,x){return new Za(f,g,w,x)}}function Co(_,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Za._fromErrorAndOperation(_,k,f,w):k})}function jc(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Io(){return(Io=(0,h.Z)(function*(_,f){const g=(0,V.m9)(_);yield gi(!0,g,f);const{providerUserInfo:w}=yield dn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),x=jc(w||[]);return g.providerData=g.providerData.filter(k=>x.has(k.providerId)),x.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Js(_,f){return es.apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(_,f,g=!1){const w=yield Cn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return pi._forOperation(_,"link",w)})).apply(this,arguments)}function gi(_,f,g){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,h.Z)(function*(_,f,g){yield Hs(f);const x=!1===_?"provider-already-linked":"no-such-provider";Me(jc(f.providerData).has(g)===_,f.auth,x)})).apply(this,arguments)}function Do(_,f){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(_,f,g=!1){const{auth:w}=_,x="reauthenticate";try{const k=yield Cn(_,Co(w,x,f,_),g);Me(k.idToken,w,"internal-error");const J=Je(k.idToken);Me(J,w,"internal-error");const{sub:Ee}=J;return Me(_.uid===Ee,w,"user-mismatch"),pi._forOperation(_,x,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Se(w,"user-mismatch"),k}})).apply(this,arguments)}function Wa(_,f){return To.apply(this,arguments)}function To(){return(To=(0,h.Z)(function*(_,f,g=!1){const w="signIn",x=yield Co(_,w,f),k=yield pi._fromIdTokenResponse(_,w,x);return g||(yield _._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Ka(_,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,h.Z)(function*(_,f){return Wa(Gt(_),f)})).apply(this,arguments)}function $c(_,f){return ha.apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(_,f){const g=(0,V.m9)(_);return yield gi(!1,g,f.providerId),Js(g,f)})).apply(this,arguments)}function fa(_,f){return br.apply(this,arguments)}function br(){return(br=(0,h.Z)(function*(_,f){return Do((0,V.m9)(_),f)})).apply(this,arguments)}function Ql(_,f){return mi.apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(_,f){return xn(_,"POST","/v1/accounts:signInWithCustomToken",ft(_,f))})).apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(_,f){const g=Gt(_),w=yield Ql(g,{token:f,returnSecureToken:!0}),x=yield pi._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(x.user),x})).apply(this,arguments)}class to{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Ao._fromServerResponse(f,g):Se(f,"internal-error")}}class Ao extends to{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Ao(g)}}function pa(_,f,g){var w;Me((null===(w=g.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),Me(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Me(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(Me(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function So(){return(So=(0,h.Z)(function*(_,f,g){const w=(0,V.m9)(_),x={requestType:"PASSWORD_RESET",email:f};g&&pa(w,x,g),yield an(w,x)})).apply(this,arguments)}function at(){return(at=(0,h.Z)(function*(_,f,g){yield In((0,V.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(_,f){yield aa((0,V.m9)(_),{oobCode:f})})).apply(this,arguments)}function no(_,f){return ro.apply(this,arguments)}function ro(){return(ro=(0,h.Z)(function*(_,f){const g=(0,V.m9)(_),w=yield In(g,{oobCode:f}),x=w.requestType;switch(Me(x,g,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Me(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Me(w.mfaInfo,g,"internal-error");default:Me(w.email,g,"internal-error")}let k=null;return w.mfaInfo&&(k=to._fromServerResponse(Gt(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:x}})).apply(this,arguments)}function ns(){return(ns=(0,h.Z)(function*(_,f){const{data:g}=yield no((0,V.m9)(_),f);return g.email})).apply(this,arguments)}function Oe(){return(Oe=(0,h.Z)(function*(_,f,g){const w=Gt(_),x=yield Ys(w,{returnSecureToken:!0,email:f,password:g}),k=yield pi._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(k.user),k})).apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(_,f,g){const w=(0,V.m9)(_),x={requestType:"EMAIL_SIGNIN",email:f};Me(g.handleCodeInApp,w,"argument-error"),g&&pa(w,x,g),yield vt(w,x)})).apply(this,arguments)}function ai(){return(ai=(0,h.Z)(function*(_,f,g){const w=(0,V.m9)(_),x=Ga.credentialWithLink(f,g||rt());return Me(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ka(w,x)})).apply(this,arguments)}function io(_,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(_,f){return Ft(_,"POST","/v1/accounts:createAuthUri",ft(_,f))})).apply(this,arguments)}function Qa(){return(Qa=(0,h.Z)(function*(_,f){const w={identifier:f,continueUri:Ut()?rt():"http://localhost"},{signinMethods:x}=yield io((0,V.m9)(_),w);return x||[]})).apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(_,f){const g=(0,V.m9)(_),x={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&pa(g.auth,x,f);const{email:k}=yield fi(g.auth,x);k!==_.email&&(yield _.reload())})).apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(_,f,g){const w=(0,V.m9)(_),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&pa(w.auth,k,g);const{email:J}=yield Lc(w.auth,k);J!==_.email&&(yield _.reload())})).apply(this,arguments)}function ga(_,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(_,f){return Ft(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,V.m9)(_),k={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},J=yield Cn(w,ga(w.auth,k));w.displayName=J.displayName||null,w.photoURL=J.photoUrl||null;const Ee=w.providerData.find(({providerId:qe})=>"password"===qe);Ee&&(Ee.displayName=w.displayName,Ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(J)})).apply(this,arguments)}function ya(_,f,g){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(_,f,g){const{auth:w}=_,k={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(k.email=f),g&&(k.password=g);const J=yield Cn(_,vo(w,k));yield _._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class so{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class ju extends so{constructor(f,g,w,x){super(f,g,w),this.username=x}}class Xl extends so{constructor(f,g){super(f,"facebook.com",g)}}class zc extends ju{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class oo extends so{constructor(f,g){super(f,"google.com",g)}}class _a extends ju{constructor(f,g,w){super(f,"twitter.com",g,w)}}function tu(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(_){var f,g;if(!_)return null;const{providerId:w}=_,x=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},k=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const J=null===(g=null===(f=Je(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(J)return new so(k,"anonymous"!==J&&"custom"!==J?J:null)}if(!w)return null;switch(w){case"facebook.com":return new Xl(k,x);case"github.com":return new zc(k,x);case"google.com":return new oo(k,x);case"twitter.com":return new _a(k,x,_.screenName||null);case"custom":case"anonymous":return new so(k,null);default:return new so(k,w,x)}}(g)}class Mi{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new Mi("enroll",f)}static _fromMfaPendingCredential(f){return new Mi("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Mi._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return Mi._fromIdtoken(f.multiFactorSession.idToken)}return null}}class $u{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=Gt(f),x=g.customData._serverResponse,k=(x.mfaInfo||[]).map(Ee=>to._fromServerResponse(w,Ee));Me(x.mfaPendingCredential,w,"internal-error");const J=Mi._fromMfaPendingCredential(x.mfaPendingCredential);return new $u(J,k,function(){var Ee=(0,h.Z)(function*(qe){const st=yield qe._process(w,J);delete x.mfaInfo,delete x.mfaPendingCredential;const pt=Object.assign(Object.assign({},x),{idToken:st.idToken,refreshToken:st.refreshToken});switch(g.operationType){case"signIn":const dt=yield pi._fromIdTokenResponse(w,g.operationType,pt);return yield w._updateCurrentUser(dt.user),dt;case"reauthenticate":return Me(g.user,w,"internal-error"),pi._forOperation(g.user,g.operationType,pt);default:Se(w,"internal-error")}});return function(qe){return Ee.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,h.Z)(function*(){return g.signInResolver(f)})()}}function Wc(_,f){return Ft(_,"POST","/v2/accounts/mfaEnrollment:start",ft(_,f))}class Es{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>to._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Es(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Mi._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var w=this;return(0,h.Z)(function*(){const x=f,k=yield w.getSession(),J=yield Cn(w.user,x._process(w.user.auth,k,g));return yield w.user._updateTokensIfNecessary(J),w.user.reload()})()}unenroll(f){var g=this;return(0,h.Z)(function*(){const w="string"==typeof f?f:f.uid,x=yield g.user.getIdToken(),k=yield Cn(g.user,function(_,f){return Ft(_,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(_,f))}(g.user.auth,{idToken:x,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:J})=>J!==w),yield g.user._updateTokensIfNecessary(k);try{yield g.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const ao=new WeakMap,ui="__sak";class is{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ui,"1"),this.storage.removeItem(ui),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ke=(()=>{class _ extends is{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,V.z$)();return Pu(_)||Br(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Ki(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),k=this.localCache[w];x!==k&&g(w,k,x)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((Ee,qe,st)=>{this.notifyListeners(Ee,st)});const x=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ee=this.storage.getItem(x);if(g.newValue!==Ee)null!==g.newValue?this.storage.setItem(x,g.newValue):this.storage.removeItem(x);else if(this.localCache[x]===g.newValue&&!w)return}const k=()=>{const Ee=this.storage.getItem(x);!w&&this.localCache[x]===Ee||this.notifyListeners(x,Ee)},J=this.storage.getItem(x);(0,V.w1)()&&10===document.documentMode&&J!==g.newValue&&g.newValue!==g.oldValue?setTimeout(k,10):k()}notifyListeners(g,w){this.localCache[g]=w;const x=this.listeners[g];if(x)for(const k of Array.from(x))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var x=()=>super._set,k=this;return(0,h.Z)(function*(){yield x().call(k,g,w),k.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,x=this;return(0,h.Z)(function*(){const k=yield w().call(x,g);return x.localCache[g]=JSON.stringify(k),k})()}_remove(g){var w=()=>super._remove,x=this;return(0,h.Z)(function*(){yield w().call(x,g),delete x.localCache[g]})()}}return _.type="LOCAL",_})(),Zt=(()=>{class _ extends is{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return _.type="SESSION",_})();let Nn=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(k=>k.isListeningto(g));if(w)return w;const x=new _(g);return this.receivers.push(x),x}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,h.Z)(function*(){const x=g,{eventId:k,eventType:J,data:Ee}=x.data,qe=w.handlersMap[J];if(!(null==qe?void 0:qe.size))return;x.ports[0].postMessage({status:"ack",eventId:k,eventType:J});const st=Array.from(qe).map(function(){var dt=(0,h.Z)(function*(Gn){return Gn(x.origin,Ee)});return function(Gn){return dt.apply(this,arguments)}}()),pt=yield function(_){return Promise.all(_.map(function(){var f=(0,h.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(st);x.ports[0].postMessage({status:"done",eventId:k,eventType:J,response:pt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ri(_="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return _+g}class Kc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var x=this;return(0,h.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let J,Ee;return new Promise((qe,st)=>{const pt=Ri("",20);k.port1.start();const dt=setTimeout(()=>{st(new Error("unsupported_event"))},w);Ee={messageChannel:k,onMessage(Gn){const Fi=Gn;if(Fi.data.eventId===pt)switch(Fi.data.status){case"ack":clearTimeout(dt),J=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),qe(Fi.data.response);break;default:clearTimeout(dt),clearTimeout(J),st(new Error("invalid_response"))}}},x.handlers.add(Ee),k.port1.addEventListener("message",Ee.onMessage),x.target.postMessage({eventType:f,eventId:pt,data:g},[k.port2])}).finally(()=>{Ee&&x.removeMessageHandler(Ee)})})()}}function On(){return window}function Yc(){return void 0!==On().WorkerGlobalScope&&"function"==typeof On().importScripts}function Qc(){return(Qc=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Ih="firebaseLocalStorageDb",Wu="firebaseLocalStorage",ru="fbase_key";class Xc{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function iu(_,f){return _.transaction([Wu],f?"readwrite":"readonly").objectStore(Wu)}function ot(){const _=indexedDB.open(Ih,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Wu,{keyPath:ru})}catch(x){g(x)}}),_.addEventListener("success",(0,h.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Wu)?f(w):(w.close(),yield function(){const _=indexedDB.deleteDatabase(Ih);return new Xc(_).toPromise()}(),f(yield ot()))}))})}function Cs(_,f,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(_,f,g){const w=iu(_,!0).put({[ru]:f,value:g});return new Xc(w).toPromise()})).apply(this,arguments)}function wa(){return(wa=(0,h.Z)(function*(_,f){const g=iu(_,!1).get(f),w=yield new Xc(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function No(_,f){const g=iu(_,!0).delete(f);return new Xc(g).toPromise()}const ba=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,h.Z)(function*(){return g.db||(g.db=yield ot()),g.db})()}_withRetries(g){var w=this;return(0,h.Z)(function*(){let x=0;for(;;)try{const k=yield w._openDb();return yield g(k)}catch(k){if(x++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,h.Z)(function*(){return Yc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,h.Z)(function*(){g.receiver=Nn._getInstance(Yc()?self:null),g.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(x,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(x,k){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(x,k){return["keyChanged"]});return function(x,k){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,h.Z)(function*(){var w,x;if(g.activeServiceWorker=yield function(){return Qc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Kc(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);!k||(null===(w=k[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=k[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ot();return yield Cs(g,ui,"1"),yield No(g,ui),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var x=this;return(0,h.Z)(function*(){return x._withPendingWrite((0,h.Z)(function*(){return yield x._withRetries(k=>Cs(k,g,w)),x.localCache[g]=w,x.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,h.Z)(function*(){const x=yield w._withRetries(k=>function(_,f){return wa.apply(this,arguments)}(k,g));return w.localCache[g]=x,x})()}_remove(g){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(x=>No(x,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,h.Z)(function*(){const w=yield g._withRetries(J=>{const Ee=iu(J,!1).getAll();return new Xc(Ee).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const x=[],k=new Set;for(const{fbase_key:J,value:Ee}of w)k.add(J),JSON.stringify(g.localCache[J])!==JSON.stringify(Ee)&&(g.notifyListeners(J,Ee),x.push(J));for(const J of Object.keys(g.localCache))g.localCache[J]&&!k.has(J)&&(g.notifyListeners(J,null),x.push(J));return x})()}notifyListeners(g,w){this.localCache[g]=w;const x=this.listeners[g];if(x)for(const k of Array.from(x))k(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Dh(_,f){return Ft(_,"POST","/v2/accounts/mfaSignIn:start",ft(_,f))}function Ni(){return(Ni=(0,h.Z)(function*(_){return(yield Ft(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function co(_){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=x=>{const k=ze("internal-error");k.customData=x,g(k)},w.type="text/javascript",w.charset="UTF-8",function(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)})}function Ea(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Mr=1e12;class Qu{constructor(f){this.auth=f,this.counter=Mr,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new Sh(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||Mr;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Mr))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,h.Z)(function*(){var w;return null===(w=g._widgets.get(f||Mr))||void 0===w||w.execute(),""})()}}class Sh{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;Me(x,"argument-error",{appName:g}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}();const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lo=Ea("rcb"),Vn=new kn(3e4,6e4);class el{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!On().grecaptcha}load(f,g=""){return Me((_=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(On().grecaptcha):new Promise((w,x)=>{const k=On().setTimeout(()=>{x(ze(f,"network-request-failed"))},Vn.get());On()[lo]=()=>{On().clearTimeout(k),delete On()[lo];const Ee=On().grecaptcha;if(!Ee)return void x(ze(f,"internal-error"));const qe=Ee.render;Ee.render=(st,pt)=>{const dt=qe(st,pt);return this.counter++,dt},this.hostLanguage=g,w(Ee)},co(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:lo,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),x(ze(f,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!On().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xu{load(f){return(0,h.Z)(function*(){return new Qu(f)})()}clearedOneInstance(){}}const xh="recaptcha",rd={theme:"light",type:"image"};class Mh{constructor(f,g=Object.assign({},rd),w){this.parameters=g,this.type=xh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gt(w),this.isInvisible="invisible"===this.parameters.size,Me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;Me(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xu:new el,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(k=>{const J=Ee=>{!Ee||(f.tokenChangeListeners.delete(J),k(Ee))};f.tokenChangeListeners.add(J),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Me(!this.parameters.sitekey,this.auth,"argument-error"),Me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=On()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){Me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){Me(Ut()&&!Yc(),f.auth,"internal-error"),yield function(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function(_){return Ni.apply(this,arguments)}(f.auth);Me(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return Me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ou{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=bo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function id(){return(id=(0,h.Z)(function*(_,f,g){const w=Gt(_),x=yield ss(w,f,(0,V.m9)(g));return new ou(x,k=>Ka(w,k))})).apply(this,arguments)}function Ts(){return(Ts=(0,h.Z)(function*(_,f,g){const w=(0,V.m9)(_);yield gi(!1,w,"phone");const x=yield ss(w.auth,f,(0,V.m9)(g));return new ou(x,k=>$c(w,k))})).apply(this,arguments)}function sd(){return(sd=(0,h.Z)(function*(_,f,g){const w=(0,V.m9)(_),x=yield ss(w.auth,f,(0,V.m9)(g));return new ou(x,k=>fa(w,k))})).apply(this,arguments)}function ss(_,f,g){return od.apply(this,arguments)}function od(){return(od=(0,h.Z)(function*(_,f,g){var w;const x=yield g.verify();try{let k;if(Me("string"==typeof x,_,"argument-error"),Me(g.type===xh,_,"argument-error"),k="string"==typeof f?{phoneNumber:f}:f,"session"in k){const J=k.session;if("phoneNumber"in k)return Me("enroll"===J.type,_,"internal-error"),(yield Wc(_,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{Me("signin"===J.type,_,"internal-error");const Ee=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return Me(Ee,_,"missing-multi-factor-info"),(yield Dh(_,{mfaPendingCredential:J.credential,mfaEnrollmentId:Ee,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield fr(_,{phoneNumber:k.phoneNumber,recaptchaToken:x});return J}}finally{g._reset()}})).apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(_,f){yield Js((0,V.m9)(_),f)})).apply(this,arguments)}let As=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Gt(g)}verifyPhoneNumber(g,w){return ss(this.auth,g,(0,V.m9)(w))}static credential(g,w){return bo._fromVerification(g,w)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:x}=g;return w&&x?bo._fromTokenResponse(w,x):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ss(_,f){return f?he(f):(Me(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class au extends dr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return zt(f,this._buildIdpRequest())}_linkToIdToken(f,g){return zt(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return zt(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function H_(_){return Wa(_.auth,new au(_),_.bypassAuthState)}function sr(_){const{auth:f,user:g}=_;return Me(g,f,"internal-error"),Do(g,new au(_),_.bypassAuthState)}function tl(_){return uu.apply(this,arguments)}function uu(){return(uu=(0,h.Z)(function*(_){const{auth:f,user:g}=_;return Me(g,f,"internal-error"),Js(g,new au(_),_.bypassAuthState)})).apply(this,arguments)}class cu{constructor(f,g,w,x,k=!1){this.auth=f,this.resolver=w,this.user=x,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,h.Z)(function*(w,x){f.pendingPromise={resolve:w,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(k){f.reject(k)}});return function(w,x){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:k,tenantId:J,error:Ee,type:qe}=f;if(Ee)return void g.reject(Ee);const st={auth:g.auth,requestUri:w,sessionId:x,tenantId:J||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(qe)(st))}catch(pt){g.reject(pt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return H_;case"linkViaPopup":case"linkViaRedirect":return tl;case"reauthViaPopup":case"reauthViaRedirect":return sr;default:Se(this.auth,"internal-error")}}resolve(f){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ad=new kn(2e3,1e4);function Pi(){return(Pi=(0,h.Z)(function*(_,f,g){const w=Gt(_);wt(_,f,Ks);const x=Ss(w,g);return new Oh(w,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function ho(){return(ho=(0,h.Z)(function*(_,f,g){const w=(0,V.m9)(_);wt(w.auth,f,Ks);const x=Ss(w.auth,g);return new Oh(w.auth,"reauthViaPopup",f,x,w).executeNotNull()})).apply(this,arguments)}function zr(){return(zr=(0,h.Z)(function*(_,f,g){const w=(0,V.m9)(_);wt(w.auth,f,Ks);const x=Ss(w.auth,g);return new Oh(w.auth,"linkViaPopup",f,x,w).executeNotNull()})).apply(this,arguments)}let Oh=(()=>{class _ extends cu{constructor(g,w,x,k,J){super(g,w,k,J),this.provider=x,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,h.Z)(function*(){const w=yield g.execute();return Me(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,h.Z)(function*(){pe(1===g.filter.length,"Popup operations only handle one event");const w=Ri();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(x=>{g.reject(x)}),g.resolver._isIframeWebStorageSupported(g.auth,x=>{x||g.reject(ze(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,x;this.pollId=(null===(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ad.get())};g()}}return _.currentPopupAction=null,_})();const cd=new Map;class bm extends cu{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,h.Z)(function*(){let w=cd.get(g.auth._key());if(!w){try{const k=(yield function(_,f){return I.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(k)}catch(x){w=()=>Promise.reject(x)}cd.set(g.auth._key(),w)}return g.bypassAuthState||cd.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const x=yield w.auth._redirectUserForId(f.eventId);if(x)return w.user=x,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function I(){return(I=(0,h.Z)(function*(_,f){const g=Ce(f),w=te(_);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(g));return yield w._remove(g),x})).apply(this,arguments)}function A(_,f){return N.apply(this,arguments)}function N(){return(N=(0,h.Z)(function*(_,f){return te(_)._set(Ce(f),"true")})).apply(this,arguments)}function te(_){return he(_._redirectPersistence)}function Ce(_){return pn("pendingRedirect",_.config.apiKey,_.name)}function Qe(){return(Qe=(0,h.Z)(function*(_,f,g){const w=Gt(_);wt(_,f,Ks);const x=Ss(w,g);return yield A(x,w),x._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function gr(){return(gr=(0,h.Z)(function*(_,f,g){const w=(0,V.m9)(_);wt(w.auth,f,Ks);const x=Ss(w.auth,g);yield A(x,w.auth);const k=yield Po(w);return x._openRedirect(w.auth,f,"reauthViaRedirect",k)})).apply(this,arguments)}function xs(){return(xs=(0,h.Z)(function*(_,f,g){const w=(0,V.m9)(_);wt(w.auth,f,Ks);const x=Ss(w.auth,g);yield gi(!1,w,f.providerId),yield A(x,w.auth);const k=yield Po(w);return x._openRedirect(w.auth,f,"linkViaRedirect",k)})).apply(this,arguments)}function wi(){return(wi=(0,h.Z)(function*(_,f){return yield Gt(_)._initializationPromise,yt(_,f,!1)})).apply(this,arguments)}function yt(_,f){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,h.Z)(function*(_,f,g=!1){const w=Gt(_),x=Ss(w,f),J=yield new bm(w,x,g).execute();return J&&!g&&(delete J.user._redirectEventId,yield w._persistUserIfCurrent(J.user),yield w._setRedirectUser(null,f)),J})).apply(this,arguments)}function Po(_){return nl.apply(this,arguments)}function nl(){return(nl=(0,h.Z)(function*(_){const f=Ri(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Ph{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tc(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!tc(f)){const x=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(ze(this.auth,x))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rl(f))}saveEventToCache(f){this.cachedEventUids.add(rl(f)),this.lastProcessedEventTime=Date.now()}}function rl(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function tc({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Qn(_){return ld.apply(this,arguments)}function ld(){return(ld=(0,h.Z)(function*(_,f={}){return Ft(_,"GET","/v1/projects",f)})).apply(this,arguments)}const q_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,il=/^https?/;function Ms(){return(Ms=(0,h.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Qn(_);for(const g of f)try{if(Cm(g))return}catch(w){}Se(_,"unauthorized-domain")})).apply(this,arguments)}function Cm(_){const f=rt(),{protocol:g,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const J=new URL(_);return""===J.hostname&&""===w?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&J.hostname===w}if(!il.test(g))return!1;if(q_.test(_))return w===_;const x=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const Im=new kn(3e4,6e4);function Dm(){const _=On().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Rs=null;function dd(_){return Rs=Rs||function(_){return new Promise((f,g)=>{var w,x,k;function J(){Dm(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Dm(),g(ze(_,"network-request-failed"))},timeout:Im.get()})}if(null===(x=null===(w=On().gapi)||void 0===w?void 0:w.iframes)||void 0===x?void 0:x.Iframe)f(gapi.iframes.getContext());else{if(!(null===(k=On().gapi)||void 0===k?void 0:k.load)){const Ee=Ea("iframefcb");return On()[Ee]=()=>{gapi.load?J():g(ze(_,"network-request-failed"))},co(`https://apis.google.com/js/api.js?onload=${Ee}`)}J()}}).catch(f=>{throw Rs=null,f})}(_),Rs}const lu=new kn(5e3,15e3),sl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true"},Fo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bt(_){const f=_.config;Me(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?sn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:_.name,v:ue.SDK_VERSION},x=Fo.get(_.config.apiHost);x&&(w.eid=x);const k=_._getFrameworks();return k.length&&(w.fw=k.join(",")),`${g}?${(0,V.xO)(w).slice(1)}`}function mp(){return(mp=(0,h.Z)(function*(_){const f=yield dd(_),g=On().gapi;return Me(g,_,"internal-error"),f.open({where:document.body,url:Bt(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sl,dontclear:!0},w=>new Promise(function(){var x=(0,h.Z)(function*(k,J){yield w.restyle({setHideOnLeave:!1});const Ee=ze(_,"network-request-failed"),qe=On().setTimeout(()=>{J(Ee)},lu.get());function st(){On().clearTimeout(qe),k(w)}w.ping(st).then(st,()=>{J(Ee)})});return function(k,J){return x.apply(this,arguments)}}()))})).apply(this,arguments)}const Ns={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function du(_,f,g,w,x,k){Me(_.config.authDomain,_,"auth-domain-config-required"),Me(_.config.apiKey,_,"invalid-api-key");const J={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:w,v:ue.SDK_VERSION,eventId:x};if(f instanceof Ks){f.setDefaultLanguage(_.languageCode),J.providerId=f.providerId||"",(0,V.xb)(f.getCustomParameters())||(J.customParameters=JSON.stringify(f.getCustomParameters()));for(const[qe,st]of Object.entries(k||{}))J[qe]=st}if(f instanceof la){const qe=f.getScopes().filter(st=>""!==st);qe.length>0&&(J.scopes=qe.join(","))}_.tenantId&&(J.tid=_.tenantId);const Ee=J;for(const qe of Object.keys(Ee))void 0===Ee[qe]&&delete Ee[qe];return`${function({config:_}){return _.emulator?sn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,V.xO)(Ee).slice(1)}`}const Ca="webStorageSupport";class al extends class{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return le("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new al(f)}_finalizeEnroll(f,g,w){return function(_,f){return Ft(_,"POST","/v2/accounts/mfaEnrollment:finalize",ft(_,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function(_,f){return Ft(_,"POST","/v2/accounts/mfaSignIn:finalize",ft(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ul=(()=>{class _{constructor(){}static assertion(g){return al._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _,_p="@firebase/auth";class Rm{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,h.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{var x;f((null===(x=w)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ia(){return window}function bi(){return(bi=(0,h.Z)(function*(_,f,g){var w;const{BuildInfo:x}=Ia();pe(f.sessionId,"AuthEvent did not contain a session ID");const k=yield Vh(f.sessionId),J={};return Br()?J.ibi=x.packageName:ms()?J.apn=x.packageName:Se(_,"operation-not-supported-in-this-environment"),x.displayName&&(J.appDisplayName=x.displayName),J.sessionId=k,du(_,g,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,J)})).apply(this,arguments)}function gd(){return(gd=(0,h.Z)(function*(_){const{BuildInfo:f}=Ia(),g={};Br()?g.iosBundleId=f.packageName:ms()?g.androidPackageName=f.packageName:Se(_,"operation-not-supported-in-this-environment"),yield Qn(_,g)})).apply(this,arguments)}function Lh(){return(Lh=(0,h.Z)(function*(_,f,g){const{cordova:w}=Ia();let x=()=>{};try{yield new Promise((k,J)=>{let Ee=null;function qe(){var dt;k();const Gn=null===(dt=w.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof Gn&&Gn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function st(){Ee||(Ee=window.setTimeout(()=>{J(ze(_,"redirect-cancelled-by-user"))},2e3))}function pt(){"visible"===(null==document?void 0:document.visibilityState)&&st()}f.addPassiveListener(qe),document.addEventListener("resume",st,!1),ms()&&document.addEventListener("visibilitychange",pt,!1),x=()=>{f.removePassiveListener(qe),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",pt,!1),Ee&&window.clearTimeout(Ee)}})}finally{x()}})).apply(this,arguments)}function Vh(_){return md.apply(this,arguments)}function md(){return(md=(0,h.Z)(function*(_){const f=bp(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function bp(_){if(pe(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let w=0;w<_.length;w++)g[w]=_.charCodeAt(w);return g}_="Browser",(0,ue._registerComponent)(new _e.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),{apiKey:x,authDomain:k}=w.options;return(J=>{Me(x&&!x.includes(":"),"invalid-api-key",{appName:J.name}),Me(!(null==k?void 0:k.includes(":")),"argument-error",{appName:J.name});const Ee={apiKey:x,authDomain:k,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:er(_)},qe=new Fc(J,Ee);return function(_,f){const g=(null==f?void 0:f.persistence)||[],w=(Array.isArray(g)?g:[g]).map(he);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(qe,g),qe})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new _e.wA("auth-internal",f=>{const g=Gt(f.getProvider("auth").getImmediate());return new Rm(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(_p,"0.19.0",void 0),(0,ue.registerVersion)(_p,"0.19.0","esm2017");class Ep extends Ph{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function yd(_){return hu.apply(this,arguments)}function hu(){return(hu=(0,h.Z)(function*(_){const f=yield sc()._get(oc(_));return f&&(yield sc()._remove(oc(_))),f})).apply(this,arguments)}function Lo(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*f.length);_.push(f.charAt(w))}return _.join("")}function sc(){return he(ke)}function oc(_){return pn("authEvent",_.config.apiKey,_.name)}function Bh(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,V.zd)(g.join("?"))}function jh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ze("no-auth-event")}}function $h(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Pm(_=(0,V.z$)()){return!("file:"!==$h()&&"ionic:"!==$h()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function wd(){try{const _=self.localStorage,f=Ri();if(_)return _.setItem(f,"1"),_.removeItem(f),!function(_=(0,V.z$)()){return(0,V.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,V.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,V.hl)()}catch(_){return Ap()&&(0,V.hl)()}return!1}function Ap(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pn(){return("http:"===$h()||"https:"===$h()||(0,V.ru)()||Pm())&&!((0,V.b$)()||(0,V.UG)())&&wd()&&!Ap()}function Ta(){return Pm()&&"undefined"!=typeof document}function fo(){return(fo=(0,h.Z)(function*(){return!!Ta()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const ki={LOCAL:"local",NONE:"none",SESSION:"session"},bd=Me,Lm="persistence";function ac(_){return uc.apply(this,arguments)}function uc(){return(uc=(0,h.Z)(function*(_){yield _._initializationPromise;const f=Vm(),g=pn(Lm,_.config.apiKey,_.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(g,_._getPersistence())})).apply(this,arguments)}function Vm(){return"undefined"!=typeof window?window:null}const Ed=Me;class Jn{constructor(){this.browserResolver=he(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zt,this._completeRedirectFn=yt}_openPopup(f,g,w,x){var k=this;return(0,h.Z)(function*(){var J;pe(null===(J=k.eventManagers[f._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const Ee=du(f,g,w,rt(),x);return function(_,f,g,w=500,x=600){const k=Math.max((window.screen.availHeight-x)/2,0).toString(),J=Math.max((window.screen.availWidth-w)/2,0).toString();let Ee="";const qe=Object.assign(Object.assign({},Ns),{width:w.toString(),height:x.toString(),top:k,left:J}),st=(0,V.z$)().toLowerCase();g&&(Ee=ra(st)?"_blank":g),_t(st)&&(f=f||"http://localhost",qe.scrollbars="yes");const pt=Object.entries(qe).reduce((Gn,[Fi,Ei])=>`${Gn}${Fi}=${Ei},`,"");if(function(_=(0,V.z$)()){var f;return Br(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(st)&&"_self"!==Ee)return function(_,f){const g=document.createElement("a");g.href=_,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",Ee),new pd(null);const dt=window.open(f||"",Ee,pt);Me(dt,_,"popup-blocked");try{dt.focus()}catch(Gn){}return new pd(dt)}(f,Ee,Ri())})()}_openRedirect(f,g,w,x){var k=this;return(0,h.Z)(function*(){return yield k._originValidation(f),_=du(f,g,w,rt(),x),On().location.href=_,new Promise(()=>{});var _})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:x,promise:k}=this.eventManagers[g];return x?Promise.resolve(x):(pe(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w}initAndGetManager(f){var g=this;return(0,h.Z)(function*(){const w=yield function(_){return mp.apply(this,arguments)}(f),x=new Ph(f);return w.register("authEvent",k=>(Me(null==k?void 0:k.authEvent,f,"invalid-auth-event"),{status:x.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:x},g.iframes[f._key()]=w,x})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Ca,{type:Ca},x=>{var k;const J=null===(k=null==x?void 0:x[0])||void 0===k?void 0:k[Ca];void 0!==J&&g(!!J),Se(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return Ms.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ki()||Pu()||Br()}}),this.cordovaResolver=he(class{constructor(){this._redirectPersistence=Zt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yt}_initialize(f){var g=this;return(0,h.Z)(function*(){const w=f._key();let x=g.eventManagers.get(w);return x||(x=new Ep(f),g.eventManagers.set(w,x),g.attachCallbackListeners(f,x)),x})()}_openPopup(f){Se(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,w,x){var k=this;return(0,h.Z)(function*(){!function(_){var f,g,w,x,k,J,Ee,qe,st,pt;const dt=Ia();Me("function"==typeof(null===(f=null==dt?void 0:dt.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Me(void 0!==(null===(g=null==dt?void 0:dt.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Me("function"==typeof(null===(k=null===(x=null===(w=null==dt?void 0:dt.cordova)||void 0===w?void 0:w.plugins)||void 0===x?void 0:x.browsertab)||void 0===k?void 0:k.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(qe=null===(Ee=null===(J=null==dt?void 0:dt.cordova)||void 0===J?void 0:J.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===qe?void 0:qe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(pt=null===(st=null==dt?void 0:dt.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===pt?void 0:pt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const J=yield k._initialize(f);yield J.initialized(),J.resetRedirect(),cd.clear(),yield k._originValidation(f);const Ee=function(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Lo(),postBody:null,tenantId:_.tenantId,error:ze(_,"no-auth-event")}}(f,w,x);yield function(_,f){return sc()._set(oc(_),f)}(f,Ee);const qe=yield function(_,f,g){return bi.apply(this,arguments)}(f,Ee,g),st=yield function(_){const{cordova:f}=Ia();return new Promise(g=>{f.plugins.browsertab.isAvailable(w=>{let x=null;w?f.plugins.browsertab.openUrl(_):x=f.InAppBrowser.open(_,function(_=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(x)})})}(qe);return function(_,f,g){return Lh.apply(this,arguments)}(f,J,st)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return gd.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:w,handleOpenURL:x,BuildInfo:k}=Ia(),J=setTimeout((0,h.Z)(function*(){yield yd(f),g.onEvent(jh())}),500),Ee=function(){var pt=(0,h.Z)(function*(dt){clearTimeout(J);const Gn=yield yd(f);let Fi=null;Gn&&(null==dt?void 0:dt.url)&&(Fi=function(_,f){var g,w;const x=function(_){const f=Bh(_),g=f.link?decodeURIComponent(f.link):void 0,w=Bh(g).link,x=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Bh(x).link||x||w||g||_}(f);if(x.includes("/__/auth/callback")){const k=Bh(x),J=k.firebaseError?function(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(k.firebaseError)):null,Ee=null===(w=null===(g=null==J?void 0:J.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],qe=Ee?ze(Ee):null;return qe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:qe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:x,postBody:null}}return null}(Gn,dt.url)),g.onEvent(Fi||jh())});return function(Gn){return pt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,Ee);const qe=x,st=`${k.packageName.toLowerCase()}://`;Ia().handleOpenURL=function(){var pt=(0,h.Z)(function*(dt){if(dt.toLowerCase().startsWith(st)&&Ee({url:dt}),"function"==typeof qe)try{qe(dt)}catch(Gn){console.error(Gn)}});return function(dt){return pt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Zt,this._completeRedirectFn=yt}_initialize(f){var g=this;return(0,h.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,w,x){var k=this;return(0,h.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(f,g,w,x)})()}_openRedirect(f,g,w,x){var k=this;return(0,h.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(f,g,w,x)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Ta()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ed(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const g=yield function(){return fo.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function dl(_){return _.unwrap()}function Sp(_){return Aa(_)}function Aa(_){const{_tokenResponse:f}=_ instanceof V.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof V.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return As.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=za;break;case"facebook.com":w=Lu;break;case"github.com":w=Vu;break;case"twitter.com":w=oi;break;default:const{oauthIdToken:x,oauthAccessToken:k,oauthTokenSecret:J,pendingToken:Ee,nonce:qe}=f;return k||J||x||Ee?Ee?g.startsWith("saml.")?Eo._create(g,Ee):Hr._fromParams({providerId:g,signInMethod:g,pendingToken:Ee,idToken:x,accessToken:k}):new vs(g).credential({idToken:x,accessToken:k,rawNonce:qe}):null}return _ instanceof V.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function Cr(_,f){return f.catch(g=>{throw g instanceof V.ZR&&function(_,f){var g;const w=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Um(_,function(_,f){var g;const w=(0,V.m9)(_),x=f;return Me(f.customData.operationType,w,"argument-error"),Me(null===(g=x.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),$u._fromError(w,x)}(_,f));else if(w){const x=Aa(f),k=f;x&&(k.credential=x,k.tenantId=w.tenantId||void 0,k.email=w.email||void 0,k.phoneNumber=w.phoneNumber||void 0)}}(_,g),g}).then(g=>{const x=g.user;return{operationType:g.operationType,credential:Sp(g),additionalUserInfo:tu(g),user:Sa.getOrCreate(x)}})}function xp(_,f){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,h.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:w=>Cr(_,g.confirm(w))}})).apply(this,arguments)}class Um{constructor(f,g){this.resolver=g,this.auth=function(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Cr(dl(this.auth),this.resolver.resolveSignIn(f))}}class Sa{constructor(f){this._delegate=f,this.multiFactor=function(_){const f=(0,V.m9)(_);return ao.has(f)||ao.set(f,Es._fromUser(f)),ao.get(f)}(f)}static getOrCreate(f){return Sa.USER_MAP.has(f)||Sa.USER_MAP.set(f,new Sa(f)),Sa.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,h.Z)(function*(){return Cr(g.auth,$c(g._delegate,f))})()}linkWithPhoneNumber(f,g){var w=this;return(0,h.Z)(function*(){return xp(w.auth,function(_,f,g){return Ts.apply(this,arguments)}(w._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,h.Z)(function*(){return Cr(g.auth,function(_,f,g){return zr.apply(this,arguments)}(g._delegate,f,Jn))})()}linkWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield ac(Gt(g.auth)),function(_,f,g){return function(_,f,g){return xs.apply(this,arguments)}(_,f,g)}(g._delegate,f,Jn)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,h.Z)(function*(){return Cr(g.auth,fa(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return xp(this.auth,function(_,f,g){return sd.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Cr(this.auth,function(_,f,g){return ho.apply(this,arguments)}(this._delegate,f,Jn))}reauthenticateWithRedirect(f){var g=this;return(0,h.Z)(function*(){return yield ac(Gt(g.auth)),function(_,f,g){return function(_,f,g){return gr.apply(this,arguments)}(_,f,g)}(g._delegate,f,Jn)})()}sendEmailVerification(f){return function(_,f){return yi.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,h.Z)(function*(){return yield function(_,f){return Io.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function(_,f){return ya((0,V.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function(_,f){return ya((0,V.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(_,f){return Er.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(_,f){return ma.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function(_,f,g){return pr.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Sa.USER_MAP=new WeakMap;const xa=Me;let Rp=(()=>{class _{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=g.options;xa(x,"invalid-api-key",{appName:g.name});let k=[Lt];if("undefined"!=typeof window){k=function(_,f){const g=Vm();if(!(null==g?void 0:g.sessionStorage))return[];const w=pn(Lm,_,f);switch(g.sessionStorage.getItem(w)){case ki.NONE:return[Lt];case ki.LOCAL:return[ba,Zt];case ki.SESSION:return[Zt];default:return[]}}(x,g.name);for(const Ee of[ba,ke,Zt])k.includes(Ee)||k.push(Ee)}xa(x,"invalid-api-key",{appName:g.name});const J="undefined"!=typeof window?Jn:void 0;this._delegate=w.initialize({options:{persistence:k,popupRedirectResolver:J}}),this._delegate._updateErrorMap(De),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Sa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function(_,f,g){const w=Gt(_);Me(w._canInitEmulator,w,"emulator-config-failed"),Me(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const x=!!(null==g?void 0:g.disableWarnings),k=gn(f),{host:J,port:Ee}=function(_){const f=gn(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const k=x[1];return{host:k,port:Yi(w.substr(k.length+1))}}{const[k,J]=w.split(":");return{host:k,port:Yi(J)}}}(f);w.config.emulator={url:`${k}//${J}${null===Ee?"":`:${Ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:J,port:Ee,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,w)}applyActionCode(g){return function(_,f){return ts.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return no(this._delegate,g)}confirmPasswordReset(g,w){return function(_,f,g){return at.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var x=this;return(0,h.Z)(function*(){return Cr(x._delegate,function(_,f,g){return Oe.apply(this,arguments)}(x._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(_,f){return Qa.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(_,f){const g=Ws.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,h.Z)(function*(){xa(Pn(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function(_,f){return wi.apply(this,arguments)}(g._delegate,Jn);return w?Cr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(_,f){Gt(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,w,x){const{next:k,error:J,complete:Ee}=qh(g,w,x);return this._delegate.onAuthStateChanged(k,J,Ee)}onIdTokenChanged(g,w,x){const{next:k,error:J,complete:Ee}=qh(g,w,x);return this._delegate.onIdTokenChanged(k,J,Ee)}sendSignInLinkToEmail(g,w){return function(_,f,g){return Rn.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function(_,f,g){return So.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,h.Z)(function*(){let x;switch(function(_,f){bd(Object.values(ki).includes(f),_,"invalid-persistence-type"),(0,V.b$)()?bd(f!==ki.SESSION,_,"unsupported-persistence-type"):(0,V.UG)()?bd(f===ki.NONE,_,"unsupported-persistence-type"):Ap()?bd(f===ki.NONE||f===ki.LOCAL&&(0,V.hl)(),_,"unsupported-persistence-type"):bd(f===ki.NONE||wd(),_,"unsupported-persistence-type")}(w._delegate,g),g){case ki.SESSION:x=Zt;break;case ki.LOCAL:x=(yield he(ba)._isAvailable())?ba:ke;break;case ki.NONE:x=Lt;break;default:return Se("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Cr(this._delegate,function(_){return Qs.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Cr(this._delegate,Ka(this._delegate,g))}signInWithCustomToken(g){return Cr(this._delegate,function(_,f){return rr.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Cr(this._delegate,function(_,f,g){return Ka((0,V.m9)(_),Ga.credential(f,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Cr(this._delegate,function(_,f,g){return ai.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return xp(this._delegate,function(_,f,g){return id.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,h.Z)(function*(){return xa(Pn(),w._delegate,"operation-not-supported-in-this-environment"),Cr(w._delegate,function(_,f,g){return Pi.apply(this,arguments)}(w._delegate,g,Jn))})()}signInWithRedirect(g){var w=this;return(0,h.Z)(function*(){return xa(Pn(),w._delegate,"operation-not-supported-in-this-environment"),yield ac(w._delegate),function(_,f,g){return function(_,f,g){return Qe.apply(this,arguments)}(_,f,g)}(w._delegate,g,Jn)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(_,f){return ns.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ki,_})();function qh(_,f,g){let w=_;"function"!=typeof _&&({next:w,error:f,complete:g}=_);const x=w;return{next:J=>x(J&&Sa.getOrCreate(J)),error:f,complete:g}}class cc{constructor(){this.providerId="phone",this._delegate=new As(dl(ne.Z.auth()))}static credential(f,g){return As.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}cc.PHONE_SIGN_IN_METHOD=As.PHONE_SIGN_IN_METHOD,cc.PROVIDER_ID=As.PROVIDER_ID;const Bm=Me;class Gh{constructor(f,g,w=ne.Z.app()){var x;Bm(null===(x=w.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Mh(f,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new _e.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new Rp(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ga,FacebookAuthProvider:Lu,GithubAuthProvider:Vu,GoogleAuthProvider:za,OAuthProvider:vs,PhoneAuthProvider:cc,PhoneMultiFactorGenerator:ul,RecaptchaVerifier:Gh,TwitterAuthProvider:oi,Auth:Rp,AuthCredential:dr,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.0")}(ne.Z)},6676:function(nt,Te){!function(L){"use strict";function h(Q){return Array.prototype.slice.call(Q)}function ne(Q){return new Promise(function(j,ce){Q.onsuccess=function(){j(Q.result)},Q.onerror=function(){ce(Q.error)}})}function V(Q,j,ce){var ye,Se=new Promise(function(ze,Ne){ne(ye=Q[j].apply(Q,ce)).then(ze,Ne)});return Se.request=ye,Se}function ue(Q,j,ce){var ye=V(Q,j,ce);return ye.then(function(Se){if(Se)return new $(Se,ye.request)})}function ie(Q,j,ce){ce.forEach(function(ye){Object.defineProperty(Q.prototype,ye,{get:function(){return this[j][ye]},set:function(Se){this[j][ye]=Se}})})}function ae(Q,j,ce,ye){ye.forEach(function(Se){Se in ce.prototype&&(Q.prototype[Se]=function(){return V(this[j],Se,arguments)})})}function _e(Q,j,ce,ye){ye.forEach(function(Se){Se in ce.prototype&&(Q.prototype[Se]=function(){return this[j][Se].apply(this[j],arguments)})})}function ve(Q,j,ce,ye){ye.forEach(function(Se){Se in ce.prototype&&(Q.prototype[Se]=function(){return ue(this[j],Se,arguments)})})}function se(Q){this._index=Q}function $(Q,j){this._cursor=Q,this._request=j}function U(Q){this._store=Q}function X(Q){this._tx=Q,this.complete=new Promise(function(j,ce){Q.oncomplete=function(){j()},Q.onerror=function(){ce(Q.error)},Q.onabort=function(){ce(Q.error)}})}function Y(Q,j,ce){this._db=Q,this.oldVersion=j,this.transaction=new X(ce)}function de(Q){this._db=Q}ie(se,"_index",["name","keyPath","multiEntry","unique"]),ae(se,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ve(se,"_index",IDBIndex,["openCursor","openKeyCursor"]),ie($,"_cursor",["direction","key","primaryKey","value"]),ae($,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Q){Q in IDBCursor.prototype&&($.prototype[Q]=function(){var j=this,ce=arguments;return Promise.resolve().then(function(){return j._cursor[Q].apply(j._cursor,ce),ne(j._request).then(function(ye){if(ye)return new $(ye,j._request)})})})}),U.prototype.createIndex=function(){return new se(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new se(this._store.index.apply(this._store,arguments))},ie(U,"_store",["name","keyPath","indexNames","autoIncrement"]),ae(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ve(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),_e(U,"_store",IDBObjectStore,["deleteIndex"]),X.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},ie(X,"_tx",["objectStoreNames","mode"]),_e(X,"_tx",IDBTransaction,["abort"]),Y.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},ie(Y,"_db",["name","version","objectStoreNames"]),_e(Y,"_db",IDBDatabase,["deleteObjectStore","close"]),de.prototype.transaction=function(){return new X(this._db.transaction.apply(this._db,arguments))},ie(de,"_db",["name","version","objectStoreNames"]),_e(de,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Q){[U,se].forEach(function(j){Q in j.prototype&&(j.prototype[Q.replace("open","iterate")]=function(){var ce=h(arguments),ye=ce[ce.length-1],Se=this._store||this._index,ze=Se[Q].apply(Se,ce.slice(0,-1));ze.onsuccess=function(){ye(ze.result)}})})}),[se,U].forEach(function(Q){Q.prototype.getAll||(Q.prototype.getAll=function(j,ce){var ye=this,Se=[];return new Promise(function(ze){ye.iterateCursor(j,function(Ne){Ne?(Se.push(Ne.value),void 0===ce||Se.length!=ce?Ne.continue():ze(Se)):ze(Se)})})})}),L.openDb=function(Q,j,ce){var ye=V(indexedDB,"open",[Q,j]),Se=ye.request;return Se&&(Se.onupgradeneeded=function(ze){ce&&ce(new Y(Se.result,ze.oldVersion,Se.transaction))}),ye.then(function(ze){return new de(ze)})},L.deleteDb=function(Q){return V(indexedDB,"deleteDatabase",[Q])},Object.defineProperty(L,"__esModule",{value:!0})}(Te)},268:(nt,Te,L)=>{"use strict";L.d(Te,{d:()=>ne});var h=L(7393);class ne extends h.L{constructor(ue,ie,ae){super(),this.parent=ue,this.outerValue=ie,this.outerIndex=ae,this.index=0}_next(ue){this.parent.notifyNext(this.outerValue,ue,this.outerIndex,this.index++,this)}_error(ue){this.parent.notifyError(ue,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},7574:(nt,Te,L)=>{"use strict";L.d(Te,{y:()=>U});var h=L(7393),V=L(9181),ue=L(6490),ae=L(6554),_e=L(4487);var $=L(2494);let U=(()=>{class Y{constructor(De){this._isScalar=!1,De&&(this._subscribe=De)}lift(De){const we=new Y;return we.source=this,we.operator=De,we}subscribe(De,we,Q){const{operator:j}=this,ce=function(Y,de,De){if(Y){if(Y instanceof h.L)return Y;if(Y[V.b])return Y[V.b]()}return Y||de||De?new h.L(Y,de,De):new h.L(ue.c)}(De,we,Q);if(ce.add(j?j.call(ce,this.source):this.source||$.v.useDeprecatedSynchronousErrorHandling&&!ce.syncErrorThrowable?this._subscribe(ce):this._trySubscribe(ce)),$.v.useDeprecatedSynchronousErrorHandling&&ce.syncErrorThrowable&&(ce.syncErrorThrowable=!1,ce.syncErrorThrown))throw ce.syncErrorValue;return ce}_trySubscribe(De){try{return this._subscribe(De)}catch(we){$.v.useDeprecatedSynchronousErrorHandling&&(De.syncErrorThrown=!0,De.syncErrorValue=we),function(Y){for(;Y;){const{closed:de,destination:De,isStopped:we}=Y;if(de||we)return!1;Y=De&&De instanceof h.L?De:null}return!0}(De)?De.error(we):console.warn(we)}}forEach(De,we){return new(we=X(we))((Q,j)=>{let ce;ce=this.subscribe(ye=>{try{De(ye)}catch(Se){j(Se),ce&&ce.unsubscribe()}},j,Q)})}_subscribe(De){const{source:we}=this;return we&&we.subscribe(De)}[ae.L](){return this}pipe(...De){return 0===De.length?this:function(Y){return 0===Y.length?_e.y:1===Y.length?Y[0]:function(De){return Y.reduce((we,Q)=>Q(we),De)}}(De)(this)}toPromise(De){return new(De=X(De))((we,Q)=>{let j;this.subscribe(ce=>j=ce,ce=>Q(ce),()=>we(j))})}}return Y.create=de=>new Y(de),Y})();function X(Y){if(Y||(Y=$.v.Promise||Promise),!Y)throw new Error("no Promise impl found");return Y}},6490:(nt,Te,L)=>{"use strict";L.d(Te,{c:()=>V});var h=L(2494),ne=L(4449);const V={closed:!0,next(ue){},error(ue){if(h.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,ne.z)(ue)},complete(){}}},5197:(nt,Te,L)=>{"use strict";L.d(Te,{L:()=>ne});var h=L(7393);class ne extends h.L{notifyNext(ue,ie,ae,_e,ve){this.destination.next(ie)}notifyError(ue,ie){this.destination.error(ue)}notifyComplete(ue){this.destination.complete()}}},9765:(nt,Te,L)=>{"use strict";L.d(Te,{Yc:()=>_e,xQ:()=>ve});var h=L(7574),ne=L(7393),V=L(5319),ue=L(7971),ie=L(8858),ae=L(9181);class _e extends ne.L{constructor(U){super(U),this.destination=U}}let ve=(()=>{class $ extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ae.b](){return new _e(this)}lift(X){const Y=new se(this,this);return Y.operator=X,Y}next(X){if(this.closed)throw new ue.N;if(!this.isStopped){const{observers:Y}=this,de=Y.length,De=Y.slice();for(let we=0;we<de;we++)De[we].next(X)}}error(X){if(this.closed)throw new ue.N;this.hasError=!0,this.thrownError=X,this.isStopped=!0;const{observers:Y}=this,de=Y.length,De=Y.slice();for(let we=0;we<de;we++)De[we].error(X);this.observers.length=0}complete(){if(this.closed)throw new ue.N;this.isStopped=!0;const{observers:X}=this,Y=X.length,de=X.slice();for(let De=0;De<Y;De++)de[De].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(X){if(this.closed)throw new ue.N;return super._trySubscribe(X)}_subscribe(X){if(this.closed)throw new ue.N;return this.hasError?(X.error(this.thrownError),V.w.EMPTY):this.isStopped?(X.complete(),V.w.EMPTY):(this.observers.push(X),new ie.W(this,X))}asObservable(){const X=new h.y;return X.source=this,X}}return $.create=(U,X)=>new se(U,X),$})();class se extends ve{constructor(U,X){super(),this.destination=U,this.source=X}next(U){const{destination:X}=this;X&&X.next&&X.next(U)}error(U){const{destination:X}=this;X&&X.error&&this.destination.error(U)}complete(){const{destination:U}=this;U&&U.complete&&this.destination.complete()}_subscribe(U){const{source:X}=this;return X?this.source.subscribe(U):V.w.EMPTY}}},8858:(nt,Te,L)=>{"use strict";L.d(Te,{W:()=>ne});var h=L(5319);class ne extends h.w{constructor(ue,ie){super(),this.subject=ue,this.subscriber=ie,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ue=this.subject,ie=ue.observers;if(this.subject=null,!ie||0===ie.length||ue.isStopped||ue.closed)return;const ae=ie.indexOf(this.subscriber);-1!==ae&&ie.splice(ae,1)}}},7393:(nt,Te,L)=>{"use strict";L.d(Te,{L:()=>_e});var h=L(9105),ne=L(6490),V=L(5319),ue=L(9181),ie=L(2494),ae=L(4449);class _e extends V.w{constructor($,U,X){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ne.c;break;case 1:if(!$){this.destination=ne.c;break}if("object"==typeof $){$ instanceof _e?(this.syncErrorThrowable=$.syncErrorThrowable,this.destination=$,$.add(this)):(this.syncErrorThrowable=!0,this.destination=new ve(this,$));break}default:this.syncErrorThrowable=!0,this.destination=new ve(this,$,U,X)}}[ue.b](){return this}static create($,U,X){const Y=new _e($,U,X);return Y.syncErrorThrowable=!1,Y}next($){this.isStopped||this._next($)}error($){this.isStopped||(this.isStopped=!0,this._error($))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next($){this.destination.next($)}_error($){this.destination.error($),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:$}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=$,this}}class ve extends _e{constructor($,U,X,Y){super(),this._parentSubscriber=$;let de,De=this;(0,h.m)(U)?de=U:U&&(de=U.next,X=U.error,Y=U.complete,U!==ne.c&&(De=Object.create(U),(0,h.m)(De.unsubscribe)&&this.add(De.unsubscribe.bind(De)),De.unsubscribe=this.unsubscribe.bind(this))),this._context=De,this._next=de,this._error=X,this._complete=Y}next($){if(!this.isStopped&&this._next){const{_parentSubscriber:U}=this;ie.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?this.__tryOrSetError(U,this._next,$)&&this.unsubscribe():this.__tryOrUnsub(this._next,$)}}error($){if(!this.isStopped){const{_parentSubscriber:U}=this,{useDeprecatedSynchronousErrorHandling:X}=ie.v;if(this._error)X&&U.syncErrorThrowable?(this.__tryOrSetError(U,this._error,$),this.unsubscribe()):(this.__tryOrUnsub(this._error,$),this.unsubscribe());else if(U.syncErrorThrowable)X?(U.syncErrorValue=$,U.syncErrorThrown=!0):(0,ae.z)($),this.unsubscribe();else{if(this.unsubscribe(),X)throw $;(0,ae.z)($)}}}complete(){if(!this.isStopped){const{_parentSubscriber:$}=this;if(this._complete){const U=()=>this._complete.call(this._context);ie.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?(this.__tryOrSetError($,U),this.unsubscribe()):(this.__tryOrUnsub(U),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub($,U){try{$.call(this._context,U)}catch(X){if(this.unsubscribe(),ie.v.useDeprecatedSynchronousErrorHandling)throw X;(0,ae.z)(X)}}__tryOrSetError($,U,X){if(!ie.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{U.call(this._context,X)}catch(Y){return ie.v.useDeprecatedSynchronousErrorHandling?($.syncErrorValue=Y,$.syncErrorThrown=!0,!0):((0,ae.z)(Y),!0)}return!1}_unsubscribe(){const{_parentSubscriber:$}=this;this._context=null,this._parentSubscriber=null,$.unsubscribe()}}},5319:(nt,Te,L)=>{"use strict";L.d(Te,{w:()=>ae});var h=L(9796),ne=L(1555),V=L(9105);const ie=(()=>{function ve(se){return Error.call(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map(($,U)=>`${U+1}) ${$.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se,this}return ve.prototype=Object.create(Error.prototype),ve})();class ae{constructor(se){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,se&&(this._unsubscribe=se)}unsubscribe(){let se;if(this.closed)return;let{_parentOrParents:$,_unsubscribe:U,_subscriptions:X}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,$ instanceof ae)$.remove(this);else if(null!==$)for(let Y=0;Y<$.length;++Y)$[Y].remove(this);if((0,V.m)(U))try{U.call(this)}catch(Y){se=Y instanceof ie?_e(Y.errors):[Y]}if((0,h.k)(X)){let Y=-1,de=X.length;for(;++Y<de;){const De=X[Y];if((0,ne.K)(De))try{De.unsubscribe()}catch(we){se=se||[],we instanceof ie?se=se.concat(_e(we.errors)):se.push(we)}}}if(se)throw new ie(se)}add(se){let $=se;if(!se)return ae.EMPTY;switch(typeof se){case"function":$=new ae(se);case"object":if($===this||$.closed||"function"!=typeof $.unsubscribe)return $;if(this.closed)return $.unsubscribe(),$;if(!($ instanceof ae)){const Y=$;$=new ae,$._subscriptions=[Y]}break;default:throw new Error("unrecognized teardown "+se+" added to Subscription.")}let{_parentOrParents:U}=$;if(null===U)$._parentOrParents=this;else if(U instanceof ae){if(U===this)return $;$._parentOrParents=[U,this]}else{if(-1!==U.indexOf(this))return $;U.push(this)}const X=this._subscriptions;return null===X?this._subscriptions=[$]:X.push($),$}remove(se){const $=this._subscriptions;if($){const U=$.indexOf(se);-1!==U&&$.splice(U,1)}}}var ve;function _e(ve){return ve.reduce((se,$)=>se.concat($ instanceof ie?$.errors:$),[])}ae.EMPTY=((ve=new ae).closed=!0,ve)},2494:(nt,Te,L)=>{"use strict";L.d(Te,{v:()=>ne});let h=!1;const ne={Promise:void 0,set useDeprecatedSynchronousErrorHandling(V){if(V){const ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ue.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=V},get useDeprecatedSynchronousErrorHandling(){return h}}},2441:(nt,Te,L)=>{"use strict";L.d(Te,{c:()=>ie,N:()=>ae});var h=L(9765),ne=L(7574),V=L(5319),ue=L(1307);class ie extends ne.y{constructor(U,X){super(),this.source=U,this.subjectFactory=X,this._refCount=0,this._isComplete=!1}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let U=this._connection;return U||(this._isComplete=!1,U=this._connection=new V.w,U.add(this.source.subscribe(new _e(this.getSubject(),this))),U.closed&&(this._connection=null,U=V.w.EMPTY)),U}refCount(){return(0,ue.x)()(this)}}const ae=(()=>{const $=ie.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:$._subscribe},_isComplete:{value:$._isComplete,writable:!0},getSubject:{value:$.getSubject},connect:{value:$.connect},refCount:{value:$.refCount}}})();class _e extends h.Yc{constructor(U,X){super(U),this.connectable=X}_error(U){this._unsubscribe(),super._error(U)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const U=this.connectable;if(U){this.connectable=null;const X=U._connection;U._refCount=0,U._subject=null,U._connection=null,X&&X.unsubscribe()}}}},9193:(nt,Te,L)=>{"use strict";L.d(Te,{E:()=>ne,c:()=>V});var h=L(7574);const ne=new h.y(ie=>ie.complete());function V(ie){return ie?function(ie){return new h.y(ae=>ie.schedule(()=>ae.complete()))}(ie):ne}},4402:(nt,Te,L)=>{"use strict";L.d(Te,{D:()=>De});var h=L(7574),ne=L(7444),V=L(5319),ue=L(6554),_e=L(4087),ve=L(377),U=L(4072),X=L(9489);function De(we,Q){return Q?function(we,Q){if(null!=we){if(function(we){return we&&"function"==typeof we[ue.L]}(we))return function(we,Q){return new h.y(j=>{const ce=new V.w;return ce.add(Q.schedule(()=>{const ye=we[ue.L]();ce.add(ye.subscribe({next(Se){ce.add(Q.schedule(()=>j.next(Se)))},error(Se){ce.add(Q.schedule(()=>j.error(Se)))},complete(){ce.add(Q.schedule(()=>j.complete()))}}))})),ce})}(we,Q);if((0,U.t)(we))return function(we,Q){return new h.y(j=>{const ce=new V.w;return ce.add(Q.schedule(()=>we.then(ye=>{ce.add(Q.schedule(()=>{j.next(ye),ce.add(Q.schedule(()=>j.complete()))}))},ye=>{ce.add(Q.schedule(()=>j.error(ye)))}))),ce})}(we,Q);if((0,X.z)(we))return(0,_e.r)(we,Q);if(function(we){return we&&"function"==typeof we[ve.hZ]}(we)||"string"==typeof we)return function(we,Q){if(!we)throw new Error("Iterable cannot be null");return new h.y(j=>{const ce=new V.w;let ye;return ce.add(()=>{ye&&"function"==typeof ye.return&&ye.return()}),ce.add(Q.schedule(()=>{ye=we[ve.hZ](),ce.add(Q.schedule(function(){if(j.closed)return;let Se,ze;try{const Ne=ye.next();Se=Ne.value,ze=Ne.done}catch(Ne){return void j.error(Ne)}ze?j.complete():(j.next(Se),this.schedule())}))})),ce})}(we,Q)}throw new TypeError((null!==we&&typeof we||we)+" is not observable")}(we,Q):we instanceof h.y?we:new h.y((0,ne.s)(we))}},6693:(nt,Te,L)=>{"use strict";L.d(Te,{n:()=>ue});var h=L(7574),ne=L(5015),V=L(4087);function ue(ie,ae){return ae?(0,V.r)(ie,ae):new h.y((0,ne.V)(ie))}},6682:(nt,Te,L)=>{"use strict";L.d(Te,{T:()=>ie});var h=L(7574),ne=L(4869),V=L(3282),ue=L(6693);function ie(...ae){let _e=Number.POSITIVE_INFINITY,ve=null,se=ae[ae.length-1];return(0,ne.K)(se)?(ve=ae.pop(),ae.length>1&&"number"==typeof ae[ae.length-1]&&(_e=ae.pop())):"number"==typeof se&&(_e=ae.pop()),null===ve&&1===ae.length&&ae[0]instanceof h.y?ae[0]:(0,V.J)(_e)((0,ue.n)(ae,ve))}},5917:(nt,Te,L)=>{"use strict";L.d(Te,{of:()=>ue});var h=L(4869),ne=L(6693),V=L(4087);function ue(...ie){let ae=ie[ie.length-1];return(0,h.K)(ae)?(ie.pop(),(0,V.r)(ie,ae)):(0,ne.n)(ie)}},8002:(nt,Te,L)=>{"use strict";L.d(Te,{U:()=>ne});var h=L(7393);function ne(ie,ae){return function(ve){if("function"!=typeof ie)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ve.lift(new V(ie,ae))}}class V{constructor(ae,_e){this.project=ae,this.thisArg=_e}call(ae,_e){return _e.subscribe(new ue(ae,this.project,this.thisArg))}}class ue extends h.L{constructor(ae,_e,ve){super(ae),this.project=_e,this.count=0,this.thisArg=ve||this}_next(ae){let _e;try{_e=this.project.call(this.thisArg,ae,this.count++)}catch(ve){return void this.destination.error(ve)}this.destination.next(_e)}}},3282:(nt,Te,L)=>{"use strict";L.d(Te,{J:()=>V});var h=L(9773),ne=L(4487);function V(ue=Number.POSITIVE_INFINITY){return(0,h.zg)(ne.y,ue)}},9773:(nt,Te,L)=>{"use strict";L.d(Te,{zg:()=>ae});var h=L(5604),ne=L(5197),V=L(268),ue=L(8002),ie=L(4402);function ae(se,$,U=Number.POSITIVE_INFINITY){return"function"==typeof $?X=>X.pipe(ae((Y,de)=>(0,ie.D)(se(Y,de)).pipe((0,ue.U)((De,we)=>$(Y,De,de,we))),U)):("number"==typeof $&&(U=$),X=>X.lift(new _e(se,U)))}class _e{constructor($,U=Number.POSITIVE_INFINITY){this.project=$,this.concurrent=U}call($,U){return U.subscribe(new ve($,this.project,this.concurrent))}}class ve extends ne.L{constructor($,U,X=Number.POSITIVE_INFINITY){super($),this.project=U,this.concurrent=X,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next($){this.active<this.concurrent?this._tryNext($):this.buffer.push($)}_tryNext($){let U;const X=this.index++;try{U=this.project($,X)}catch(Y){return void this.destination.error(Y)}this.active++,this._innerSub(U,$,X)}_innerSub($,U,X){const Y=new V.d(this,U,X),de=this.destination;de.add(Y);const De=(0,h.D)(this,$,void 0,void 0,Y);De!==Y&&de.add(De)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext($,U,X,Y,de){this.destination.next(U)}notifyComplete($){const U=this.buffer;this.remove($),this.active--,U.length>0?this._next(U.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(nt,Te,L)=>{"use strict";L.d(Te,{ht:()=>U,QV:()=>se});var h=L(7393),ne=L(9193),V=L(5917),ue=L(7574);class ve{constructor(de,De,we){this.kind=de,this.value=De,this.error=we,this.hasValue="N"===de}observe(de){switch(this.kind){case"N":return de.next&&de.next(this.value);case"E":return de.error&&de.error(this.error);case"C":return de.complete&&de.complete()}}do(de,De,we){switch(this.kind){case"N":return de&&de(this.value);case"E":return De&&De(this.error);case"C":return we&&we()}}accept(de,De,we){return de&&"function"==typeof de.next?this.observe(de):this.do(de,De,we)}toObservable(){switch(this.kind){case"N":return(0,V.of)(this.value);case"E":return Y=this.error,new ue.y(De=>De.error(Y));case"C":return(0,ne.c)()}var Y;throw new Error("unexpected notification kind value")}static createNext(de){return void 0!==de?new ve("N",de):ve.undefinedValueNotification}static createError(de){return new ve("E",void 0,de)}static createComplete(){return ve.completeNotification}}function se(Y,de=0){return function(we){return we.lift(new $(Y,de))}}ve.completeNotification=new ve("C"),ve.undefinedValueNotification=new ve("N",void 0);class ${constructor(de,De=0){this.scheduler=de,this.delay=De}call(de,De){return De.subscribe(new U(de,this.scheduler,this.delay))}}class U extends h.L{constructor(de,De,we=0){super(de),this.scheduler=De,this.delay=we}static dispatch(de){const{notification:De,destination:we}=de;De.observe(we),this.unsubscribe()}scheduleMessage(de){this.destination.add(this.scheduler.schedule(U.dispatch,this.delay,new X(de,this.destination)))}_next(de){this.scheduleMessage(ve.createNext(de))}_error(de){this.scheduleMessage(ve.createError(de)),this.unsubscribe()}_complete(){this.scheduleMessage(ve.createComplete()),this.unsubscribe()}}class X{constructor(de,De){this.notification=de,this.destination=De}}},1307:(nt,Te,L)=>{"use strict";L.d(Te,{x:()=>ne});var h=L(7393);function ne(){return function(ae){return ae.lift(new V(ae))}}class V{constructor(ae){this.connectable=ae}call(ae,_e){const{connectable:ve}=this;ve._refCount++;const se=new ue(ae,ve),$=_e.subscribe(se);return se.closed||(se.connection=ve.connect()),$}}class ue extends h.L{constructor(ae,_e){super(ae),this.connectable=_e}_unsubscribe(){const{connectable:ae}=this;if(!ae)return void(this.connection=null);this.connectable=null;const _e=ae._refCount;if(_e<=0)return void(this.connection=null);if(ae._refCount=_e-1,_e>1)return void(this.connection=null);const{connection:ve}=this,se=ae._connection;this.connection=null,se&&(!ve||se===ve)&&se.unsubscribe()}}},3101:(nt,Te,L)=>{"use strict";L.d(Te,{R:()=>we});var h=L(7574);let ne=1;const V=Promise.resolve(),ue={};function ie(j){return j in ue&&(delete ue[j],!0)}const ae={setImmediate(j){const ce=ne++;return ue[ce]=!0,V.then(()=>ie(ce)&&j()),ce},clearImmediate(j){ie(j)}};var ve=L(6465),$=L(6102);const X=new class extends $.v{flush(ce){this.active=!0,this.scheduled=void 0;const{actions:ye}=this;let Se,ze=-1,Ne=ye.length;ce=ce||ye.shift();do{if(Se=ce.execute(ce.state,ce.delay))break}while(++ze<Ne&&(ce=ye.shift()));if(this.active=!1,Se){for(;++ze<Ne&&(ce=ye.shift());)ce.unsubscribe();throw Se}}}(class extends ve.o{constructor(ce,ye){super(ce,ye),this.scheduler=ce,this.work=ye}requestAsyncId(ce,ye,Se=0){return null!==Se&&Se>0?super.requestAsyncId(ce,ye,Se):(ce.actions.push(this),ce.scheduled||(ce.scheduled=ae.setImmediate(ce.flush.bind(ce,null))))}recycleAsyncId(ce,ye,Se=0){if(null!==Se&&Se>0||null===Se&&this.delay>0)return super.recycleAsyncId(ce,ye,Se);0===ce.actions.length&&(ae.clearImmediate(ye),ce.scheduled=void 0)}});var Y=L(9796);class De extends h.y{constructor(ce,ye=0,Se=X){var j;super(),this.source=ce,this.delayTime=ye,this.scheduler=Se,(!(!(0,Y.k)(j=ye)&&j-parseFloat(j)+1>=0)||ye<0)&&(this.delayTime=0),(!Se||"function"!=typeof Se.schedule)&&(this.scheduler=X)}static create(ce,ye=0,Se=X){return new De(ce,ye,Se)}static dispatch(ce){const{source:ye,subscriber:Se}=ce;return this.add(ye.subscribe(Se))}_subscribe(ce){return this.scheduler.schedule(De.dispatch,this.delayTime,{source:this.source,subscriber:ce})}}function we(j,ce=0){return function(Se){return Se.lift(new Q(j,ce))}}class Q{constructor(ce,ye){this.scheduler=ce,this.delay=ye}call(ce,ye){return new De(ye,this.delay,this.scheduler).subscribe(ce)}}},3342:(nt,Te,L)=>{"use strict";L.d(Te,{b:()=>ue});var h=L(7393);function ne(){}var V=L(9105);function ue(_e,ve,se){return function(U){return U.lift(new ie(_e,ve,se))}}class ie{constructor(ve,se,$){this.nextOrObserver=ve,this.error=se,this.complete=$}call(ve,se){return se.subscribe(new ae(ve,this.nextOrObserver,this.error,this.complete))}}class ae extends h.L{constructor(ve,se,$,U){super(ve),this._tapNext=ne,this._tapError=ne,this._tapComplete=ne,this._tapError=$||ne,this._tapComplete=U||ne,(0,V.m)(se)?(this._context=this,this._tapNext=se):se&&(this._context=se,this._tapNext=se.next||ne,this._tapError=se.error||ne,this._tapComplete=se.complete||ne)}_next(ve){try{this._tapNext.call(this._context,ve)}catch(se){return void this.destination.error(se)}this.destination.next(ve)}_error(ve){try{this._tapError.call(this._context,ve)}catch(se){return void this.destination.error(se)}this.destination.error(ve)}_complete(){try{this._tapComplete.call(this._context)}catch(ve){return void this.destination.error(ve)}return this.destination.complete()}}},4087:(nt,Te,L)=>{"use strict";L.d(Te,{r:()=>V});var h=L(7574),ne=L(5319);function V(ue,ie){return new h.y(ae=>{const _e=new ne.w;let ve=0;return _e.add(ie.schedule(function(){ve!==ue.length?(ae.next(ue[ve++]),ae.closed||_e.add(this.schedule())):ae.complete()})),_e})}},6465:(nt,Te,L)=>{"use strict";L.d(Te,{o:()=>V});var h=L(5319);class ne extends h.w{constructor(ie,ae){super()}schedule(ie,ae=0){return this}}class V extends ne{constructor(ie,ae){super(ie,ae),this.scheduler=ie,this.work=ae,this.pending=!1}schedule(ie,ae=0){if(this.closed)return this;this.state=ie;const _e=this.id,ve=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(ve,_e,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(ve,this.id,ae),this}requestAsyncId(ie,ae,_e=0){return setInterval(ie.flush.bind(ie,this),_e)}recycleAsyncId(ie,ae,_e=0){if(null!==_e&&this.delay===_e&&!1===this.pending)return ae;clearInterval(ae)}execute(ie,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ie,ae);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,ae){let ve,_e=!1;try{this.work(ie)}catch(se){_e=!0,ve=!!se&&se||new Error(se)}if(_e)return this.unsubscribe(),ve}_unsubscribe(){const ie=this.id,ae=this.scheduler,_e=ae.actions,ve=_e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ve&&_e.splice(ve,1),null!=ie&&(this.id=this.recycleAsyncId(ae,ie,null)),this.delay=null}}},6102:(nt,Te,L)=>{"use strict";L.d(Te,{v:()=>ne});let h=(()=>{class V{constructor(ie,ae=V.now){this.SchedulerAction=ie,this.now=ae}schedule(ie,ae=0,_e){return new this.SchedulerAction(this,ie).schedule(_e,ae)}}return V.now=()=>Date.now(),V})();class ne extends h{constructor(ue,ie=h.now){super(ue,()=>ne.delegate&&ne.delegate!==this?ne.delegate.now():ie()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ue,ie=0,ae){return ne.delegate&&ne.delegate!==this?ne.delegate.schedule(ue,ie,ae):super.schedule(ue,ie,ae)}flush(ue){const{actions:ie}=this;if(this.active)return void ie.push(ue);let ae;this.active=!0;do{if(ae=ue.execute(ue.state,ue.delay))break}while(ue=ie.shift());if(this.active=!1,ae){for(;ue=ie.shift();)ue.unsubscribe();throw ae}}}},3637:(nt,Te,L)=>{"use strict";L.d(Te,{P:()=>V});var h=L(6465);const V=new(L(6102).v)(h.o)},7771:(nt,Te,L)=>{"use strict";L.d(Te,{c:()=>ie});var h=L(6465),V=L(6102);const ie=new class extends V.v{}(class extends h.o{constructor(_e,ve){super(_e,ve),this.scheduler=_e,this.work=ve}schedule(_e,ve=0){return ve>0?super.schedule(_e,ve):(this.delay=ve,this.state=_e,this.scheduler.flush(this),this)}execute(_e,ve){return ve>0||this.closed?super.execute(_e,ve):this._execute(_e,ve)}requestAsyncId(_e,ve,se=0){return null!==se&&se>0||null===se&&this.delay>0?super.requestAsyncId(_e,ve,se):_e.flush(this)}})},377:(nt,Te,L)=>{"use strict";L.d(Te,{hZ:()=>ne});const ne="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(nt,Te,L)=>{"use strict";L.d(Te,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(nt,Te,L)=>{"use strict";L.d(Te,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(nt,Te,L)=>{"use strict";L.d(Te,{N:()=>ne});const ne=(()=>{function V(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return V.prototype=Object.create(Error.prototype),V})()},4449:(nt,Te,L)=>{"use strict";function h(ne){setTimeout(()=>{throw ne},0)}L.d(Te,{z:()=>h})},4487:(nt,Te,L)=>{"use strict";function h(ne){return ne}L.d(Te,{y:()=>h})},9796:(nt,Te,L)=>{"use strict";L.d(Te,{k:()=>h});const h=Array.isArray||(ne=>ne&&"number"==typeof ne.length)},9489:(nt,Te,L)=>{"use strict";L.d(Te,{z:()=>h});const h=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},9105:(nt,Te,L)=>{"use strict";function h(ne){return"function"==typeof ne}L.d(Te,{m:()=>h})},1555:(nt,Te,L)=>{"use strict";function h(ne){return null!==ne&&"object"==typeof ne}L.d(Te,{K:()=>h})},4072:(nt,Te,L)=>{"use strict";function h(ne){return!!ne&&"function"!=typeof ne.subscribe&&"function"==typeof ne.then}L.d(Te,{t:()=>h})},4869:(nt,Te,L)=>{"use strict";function h(ne){return ne&&"function"==typeof ne.schedule}L.d(Te,{K:()=>h})},7444:(nt,Te,L)=>{"use strict";L.d(Te,{s:()=>U});var h=L(5015),ne=L(4449),ue=L(377),ae=L(6554),ve=L(9489),se=L(4072),$=L(1555);const U=X=>{if(X&&"function"==typeof X[ae.L])return(X=>Y=>{const de=X[ae.L]();if("function"!=typeof de.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return de.subscribe(Y)})(X);if((0,ve.z)(X))return(0,h.V)(X);if((0,se.t)(X))return(X=>Y=>(X.then(de=>{Y.closed||(Y.next(de),Y.complete())},de=>Y.error(de)).then(null,ne.z),Y))(X);if(X&&"function"==typeof X[ue.hZ])return(X=>Y=>{const de=X[ue.hZ]();for(;;){const De=de.next();if(De.done){Y.complete();break}if(Y.next(De.value),Y.closed)break}return"function"==typeof de.return&&Y.add(()=>{de.return&&de.return()}),Y})(X);{const de=`You provided ${(0,$.K)(X)?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(de)}}},5015:(nt,Te,L)=>{"use strict";L.d(Te,{V:()=>h});const h=ne=>V=>{for(let ue=0,ie=ne.length;ue<ie&&!V.closed;ue++)V.next(ne[ue]);V.complete()}},5604:(nt,Te,L)=>{"use strict";L.d(Te,{D:()=>ue});var h=L(268),ne=L(7444),V=L(7574);function ue(ie,ae,_e,ve,se=new h.d(ie,_e,ve)){if(!se.closed)return ae instanceof V.y?ae.subscribe(se):(0,ne.s)(ae)(se)}},8259:function(nt){nt.exports=function(){"use strict";const Te=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),L="SweetAlert2:",ne=E=>E.charAt(0).toUpperCase()+E.slice(1),V=E=>Array.prototype.slice.call(E),ue=E=>{console.warn("".concat(L," ").concat("object"==typeof E?E.join(" "):E))},ie=E=>{console.error("".concat(L," ").concat(E))},ae=[],ve=(E,C)=>{(E=>{ae.includes(E)||(ae.push(E),ue(E))})('"'.concat(E,'" is deprecated and will be removed in the next major release. Please use "').concat(C,'" instead.'))},se=E=>"function"==typeof E?E():E,$=E=>E&&"function"==typeof E.toPromise,U=E=>$(E)?E.toPromise():Promise.resolve(E),X=E=>E&&Promise.resolve(E)===E,de=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E),Q=E=>{const C={};for(const R in E)C[E[R]]="swal2-"+E[R];return C},j=Q(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),ce=Q(["success","warning","info","question","error"]),ye=()=>document.body.querySelector(".".concat(j.container)),Se=E=>{const C=ye();return C?C.querySelector(E):null},ze=E=>Se(".".concat(E)),Ne=()=>ze(j.popup),wt=()=>ze(j.icon),mt=()=>ze(j.title),Me=()=>ze(j["html-container"]),le=()=>ze(j.image),pe=()=>ze(j["progress-steps"]),ge=()=>ze(j["validation-message"]),he=()=>Se(".".concat(j.actions," .").concat(j.confirm)),Le=()=>Se(".".concat(j.actions," .").concat(j.deny)),rt=()=>Se(".".concat(j.loader)),Ut=()=>Se(".".concat(j.actions," .").concat(j.cancel)),An=()=>ze(j.actions),bt=()=>ze(j.footer),jt=()=>ze(j["timer-progress-bar"]),kn=()=>ze(j.close),Hn=()=>{const E=V(Ne().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((R,z)=>(R=parseInt(R.getAttribute("tabindex")))>(z=parseInt(z.getAttribute("tabindex")))?1:R<z?-1:0),C=V(Ne().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(R=>"-1"!==R.getAttribute("tabindex"));return(E=>{const C=[];for(let R=0;R<E.length;R++)-1===C.indexOf(E[R])&&C.push(E[R]);return C})(E.concat(C)).filter(R=>xt(R))},_r=()=>!on()&&!document.body.classList.contains(j["no-backdrop"]),on=()=>document.body.classList.contains(j["toast-shown"]),Ft={previousBodyPadding:null},Sn=(E,C)=>{if(E.textContent="",C){const z=(new DOMParser).parseFromString(C,"text/html");V(z.querySelector("head").childNodes).forEach(ke=>{E.appendChild(ke)}),V(z.querySelector("body").childNodes).forEach(ke=>{E.appendChild(ke)})}},qn=(E,C)=>{if(!C)return!1;const R=C.split(/\s+/);for(let z=0;z<R.length;z++)if(!E.classList.contains(R[z]))return!1;return!0},xn=(E,C,R)=>{if(((E,C)=>{V(E.classList).forEach(R=>{!Object.values(j).includes(R)&&!Object.values(ce).includes(R)&&!Object.values(C.showClass).includes(R)&&E.classList.remove(R)})})(E,C),C.customClass&&C.customClass[R]){if("string"!=typeof C.customClass[R]&&!C.customClass[R].forEach)return ue("Invalid type of customClass.".concat(R,'! Expected string or iterable object, got "').concat(typeof C.customClass[R],'"'));Et(E,C.customClass[R])}},Vr=(E,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return Fn(E,j[C]);case"checkbox":return E.querySelector(".".concat(j.checkbox," input"));case"radio":return E.querySelector(".".concat(j.radio," input:checked"))||E.querySelector(".".concat(j.radio," input:first-child"));case"range":return E.querySelector(".".concat(j.range," input"));default:return Fn(E,j.input)}},vr=E=>{if(E.focus(),"file"!==E.type){const C=E.value;E.value="",E.value=C}},Ur=(E,C,R)=>{!E||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(z=>{E.forEach?E.forEach(ke=>{R?ke.classList.add(z):ke.classList.remove(z)}):R?E.classList.add(z):E.classList.remove(z)}))},Et=(E,C)=>{Ur(E,C,!0)},Wn=(E,C)=>{Ur(E,C,!1)},Fn=(E,C)=>{for(let R=0;R<E.childNodes.length;R++)if(qn(E.childNodes[R],C))return E.childNodes[R]},dn=(E,C,R)=>{R==="".concat(parseInt(R))&&(R=parseInt(R)),R||0===parseInt(R)?E.style[C]="number"==typeof R?"".concat(R,"px"):R:E.style.removeProperty(C)},$t=(E,C="flex")=>{E.style.display=C},Mn=E=>{E.style.display="none"},lt=(E,C,R,z)=>{const ke=E.querySelector(C);ke&&(ke.style[R]=z)},Pe=(E,C,R)=>{C?$t(E,R):Mn(E)},xt=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),_n=E=>E.scrollHeight>E.clientHeight,Ht=E=>{const C=window.getComputedStyle(E),R=parseFloat(C.getPropertyValue("animation-duration")||"0"),z=parseFloat(C.getPropertyValue("transition-duration")||"0");return R>0||z>0},Je=(E,C=!1)=>{const R=jt();xt(R)&&(C&&(R.style.transition="none",R.style.width="100%"),setTimeout(()=>{R.style.transition="width ".concat(E/1e3,"s linear"),R.style.width="0%"},10))},Cn=()=>"undefined"==typeof window||"undefined"==typeof document,Wi='\n <div aria-labelledby="'.concat(j.title,'" aria-describedby="').concat(j["html-container"],'" class="').concat(j.popup,'" tabindex="-1">\n   <button type="button" class="').concat(j.close,'"></button>\n   <ul class="').concat(j["progress-steps"],'"></ul>\n   <div class="').concat(j.icon,'"></div>\n   <img class="').concat(j.image,'" />\n   <h2 class="').concat(j.title,'" id="').concat(j.title,'"></h2>\n   <div class="').concat(j["html-container"],'" id="').concat(j["html-container"],'"></div>\n   <input class="').concat(j.input,'" />\n   <input type="file" class="').concat(j.file,'" />\n   <div class="').concat(j.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(j.select,'"></select>\n   <div class="').concat(j.radio,'"></div>\n   <label for="').concat(j.checkbox,'" class="').concat(j.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(j.label,'"></span>\n   </label>\n   <textarea class="').concat(j.textarea,'"></textarea>\n   <div class="').concat(j["validation-message"],'" id="').concat(j["validation-message"],'"></div>\n   <div class="').concat(j.actions,'">\n     <div class="').concat(j.loader,'"></div>\n     <button type="button" class="').concat(j.confirm,'"></button>\n     <button type="button" class="').concat(j.deny,'"></button>\n     <button type="button" class="').concat(j.cancel,'"></button>\n   </div>\n   <div class="').concat(j.footer,'"></div>\n   <div class="').concat(j["timer-progress-bar-container"],'">\n     <div class="').concat(j["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Jt=()=>{is.isVisible()&&is.resetValidationMessage()},G=E=>{const C=(()=>{const E=ye();return!!E&&(E.remove(),Wn([document.documentElement,document.body],[j["no-backdrop"],j["toast-shown"],j["has-column"]]),!0)})();if(Cn())return void ie("SweetAlert2 requires document to initialize");const R=document.createElement("div");R.className=j.container,C&&Et(R,j["no-transition"]),Sn(R,Wi);const z=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);z.appendChild(R),(E=>{const C=Ne();C.setAttribute("role",E.toast?"alert":"dialog"),C.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||C.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&Et(ye(),j.rtl)})(z),(()=>{const E=Ne(),C=Fn(E,j.input),R=Fn(E,j.file),z=E.querySelector(".".concat(j.range," input")),ke=E.querySelector(".".concat(j.range," output")),Ye=Fn(E,j.select),Zt=E.querySelector(".".concat(j.checkbox," input")),Gr=Fn(E,j.textarea);C.oninput=Jt,R.onchange=Jt,Ye.onchange=Jt,Zt.onchange=Jt,Gr.oninput=Jt,z.oninput=()=>{Jt(),ke.value=z.value},z.onchange=()=>{Jt(),z.nextSibling.value=z.value}})()},Re=(E,C)=>{E instanceof HTMLElement?C.appendChild(E):"object"==typeof E?fe(E,C):E&&Sn(C,E)},fe=(E,C)=>{E.jquery?Ke(C,E):Sn(C,E.toString())},Ke=(E,C)=>{if(E.textContent="",0 in C)for(let R=0;R in C;R++)E.appendChild(C[R].cloneNode(!0));else E.appendChild(C.cloneNode(!0))},He=(()=>{if(Cn())return!1;const E=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const R in C)if(Object.prototype.hasOwnProperty.call(C,R)&&void 0!==E.style[R])return C[R];return!1})(),fn=(E,C)=>{const R=An(),z=rt(),ke=he(),Ye=Le(),Zt=Ut();C.showConfirmButton||C.showDenyButton||C.showCancelButton?$t(R):Mn(R),xn(R,C,"actions"),wr(ke,"confirm",C),wr(Ye,"deny",C),wr(Zt,"cancel",C),function(E,C,R,z){if(!z.buttonsStyling)return Wn([E,C,R],j.styled);Et([E,C,R],j.styled),z.confirmButtonColor&&(E.style.backgroundColor=z.confirmButtonColor,Et(E,j["default-outline"])),z.denyButtonColor&&(C.style.backgroundColor=z.denyButtonColor,Et(C,j["default-outline"])),z.cancelButtonColor&&(R.style.backgroundColor=z.cancelButtonColor,Et(R,j["default-outline"]))}(ke,Ye,Zt,C),C.reverseButtons&&(R.insertBefore(Zt,z),R.insertBefore(Ye,z),R.insertBefore(ke,z)),Sn(z,C.loaderHtml),xn(z,C,"loader")};function wr(E,C,R){Pe(E,R["show".concat(ne(C),"Button")],"inline-block"),Sn(E,R["".concat(C,"ButtonText")]),E.setAttribute("aria-label",R["".concat(C,"ButtonAriaLabel")]),E.className=j[C],xn(E,R,"".concat(C,"Button")),Et(E,R["".concat(C,"ButtonClass")])}const ja=(E,C)=>{const R=ye();!R||(function(E,C){"string"==typeof C?E.style.background=C:C||Et([document.documentElement,document.body],j["no-backdrop"])}(R,C.backdrop),function(E,C){C in j?Et(E,j[C]):(ue('The "position" parameter is not valid, defaulting to "center"'),Et(E,j.center))}(R,C.position),function(E,C){if(C&&"string"==typeof C){const R="grow-".concat(C);R in j&&Et(E,j[R])}}(R,C.grow),xn(R,C,"container"))};var _t={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Pu=["input","file","range","select","radio","checkbox","textarea"],$a=E=>{if(!Xt[E.input])return ie('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(E.input,'"'));const C=oa(E.input),R=Xt[E.input](C,E);$t(R),setTimeout(()=>{vr(R)})},ia=(E,C)=>{const R=Vr(Ne(),E);if(R){(E=>{for(let C=0;C<E.attributes.length;C++){const R=E.attributes[C].name;["type","value","style"].includes(R)||E.removeAttribute(R)}})(R);for(const z in C)R.setAttribute(z,C[z])}},ys=E=>{const C=oa(E.input);E.customClass&&Et(C,E.customClass.input)},Br=(E,C)=>{(!E.placeholder||C.inputPlaceholder)&&(E.placeholder=C.inputPlaceholder)},sa=(E,C,R)=>{if(R.inputLabel){E.id=j.input;const z=document.createElement("label"),ke=j["input-label"];z.setAttribute("for",E.id),z.className=ke,Et(z,R.customClass.inputLabel),z.innerText=R.inputLabel,C.insertAdjacentElement("beforebegin",z)}},oa=E=>{const C=j[E]?j[E]:j.input;return Fn(Ne(),C)},Xt={};Xt.text=Xt.email=Xt.password=Xt.number=Xt.tel=Xt.url=(E,C)=>("string"==typeof C.inputValue||"number"==typeof C.inputValue?E.value=C.inputValue:X(C.inputValue)||ue('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof C.inputValue,'"')),sa(E,E,C),Br(E,C),E.type=C.input,E),Xt.file=(E,C)=>(sa(E,E,C),Br(E,C),E),Xt.range=(E,C)=>{const R=E.querySelector("input"),z=E.querySelector("output");return R.value=C.inputValue,R.type=C.input,z.value=C.inputValue,sa(R,E,C),E},Xt.select=(E,C)=>{if(E.textContent="",C.inputPlaceholder){const R=document.createElement("option");Sn(R,C.inputPlaceholder),R.value="",R.disabled=!0,R.selected=!0,E.appendChild(R)}return sa(E,E,C),E},Xt.radio=E=>(E.textContent="",E),Xt.checkbox=(E,C)=>{const R=Vr(Ne(),"checkbox");R.value=1,R.id=j.checkbox,R.checked=Boolean(C.inputValue);const z=E.querySelector("span");return Sn(z,C.inputPlaceholder),E},Xt.textarea=(E,C)=>{E.value=C.inputValue,Br(E,C),sa(E,E,C);return setTimeout(()=>{if("MutationObserver"in window){const z=parseInt(window.getComputedStyle(Ne()).width);new MutationObserver(()=>{const Ye=E.offsetWidth+(z=>parseInt(window.getComputedStyle(z).marginLeft)+parseInt(window.getComputedStyle(z).marginRight))(E);Ne().style.width=Ye>z?"".concat(Ye,"px"):null}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const Ki=(E,C)=>{const R=Me();xn(R,C,"htmlContainer"),C.html?(Re(C.html,R),$t(R,"block")):C.text?(R.textContent=C.text,$t(R,"block")):Mn(R),((E,C)=>{const R=Ne(),z=_t.innerParams.get(E),ke=!z||C.input!==z.input;Pu.forEach(Ye=>{const Zt=j[Ye],Gr=Fn(R,Zt);ia(Ye,C.inputAttributes),Gr.className=Zt,ke&&Mn(Gr)}),C.input&&(ke&&$a(C),ys(C))})(E,C)},Gt=(E,C)=>{for(const R in ce)C.icon!==R&&Wn(E,ce[R]);Et(E,ce[C.icon]),gn(E,C),Ge(),xn(E,C,"icon")},Ge=()=>{const E=Ne(),C=window.getComputedStyle(E).getPropertyValue("background-color"),R=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let z=0;z<R.length;z++)R[z].style.backgroundColor=C},At=(E,C)=>{E.textContent="",Sn(E,C.iconHtml?lr(C.iconHtml):"success"===C.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===C.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':lr({question:"?",warning:"!",info:"i"}[C.icon]))},gn=(E,C)=>{if(C.iconColor){E.style.color=C.iconColor,E.style.borderColor=C.iconColor;for(const R of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])lt(E,R,"backgroundColor",C.iconColor);lt(E,".swal2-success-ring","borderColor",C.iconColor)}},lr=E=>'<div class="'.concat(j["icon-content"],'">').concat(E,"</div>"),In=(E,C)=>{const R=pe();if(!C.progressSteps||0===C.progressSteps.length)return Mn(R);$t(R),R.textContent="",C.currentProgressStep>=C.progressSteps.length&&ue("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach((z,ke)=>{const Ye=(E=>{const C=document.createElement("li");return Et(C,j["progress-step"]),Sn(C,E),C})(z);if(R.appendChild(Ye),ke===C.currentProgressStep&&Et(Ye,j["active-progress-step"]),ke!==C.progressSteps.length-1){const Zt=(E=>{const C=document.createElement("li");return Et(C,j["progress-step-line"]),E.progressStepsDistance&&(C.style.width=E.progressStepsDistance),C})(C);R.appendChild(Zt)}})},Ct=(E,C)=>{E.className="".concat(j.popup," ").concat(xt(E)?C.showClass.popup:""),C.toast?(Et([document.documentElement,document.body],j["toast-shown"]),Et(E,j.toast)):Et(E,j.modal),xn(E,C,"popup"),"string"==typeof C.customClass&&Et(E,C.customClass),C.icon&&Et(E,j["icon-".concat(C.icon)])},aa=(E,C)=>{((E,C)=>{const R=ye(),z=Ne();C.toast?(dn(R,"width",C.width),z.style.width="100%",z.insertBefore(rt(),wt())):dn(z,"width",C.width),dn(z,"padding",C.padding),C.background&&(z.style.background=C.background),Mn(ge()),Ct(z,C)})(0,C),ja(0,C),In(0,C),((E,C)=>{const R=_t.innerParams.get(E),z=wt();R&&C.icon===R.icon?(At(z,C),Gt(z,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(ce).indexOf(C.icon)?(ie('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(C.icon,'"')),Mn(z)):($t(z),At(z,C),Gt(z,C),Et(z,C.showClass.icon)):Mn(z)})(E,C),((E,C)=>{const R=le();if(!C.imageUrl)return Mn(R);$t(R,""),R.setAttribute("src",C.imageUrl),R.setAttribute("alt",C.imageAlt),dn(R,"width",C.imageWidth),dn(R,"height",C.imageHeight),R.className=j.image,xn(R,C,"image")})(0,C),((E,C)=>{const R=mt();Pe(R,C.title||C.titleText,"block"),C.title&&Re(C.title,R),C.titleText&&(R.innerText=C.titleText),xn(R,C,"title")})(0,C),((E,C)=>{const R=kn();Sn(R,C.closeButtonHtml),xn(R,C,"closeButton"),Pe(R,C.showCloseButton),R.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),Ki(E,C),fn(0,C),((E,C)=>{const R=bt();Pe(R,C.footer),C.footer&&Re(C.footer,R),xn(R,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(Ne())},Ha=()=>he()&&he().click();const Kn=E=>{let C=Ne();C||is.fire(),C=Ne();const R=rt();on()?Mn(wt()):an(C,E),$t(R),C.setAttribute("data-loading",!0),C.setAttribute("aria-busy",!0),C.focus()},an=(E,C)=>{const R=An(),z=rt();!C&&xt(he())&&(C=he()),$t(R),C&&(Mn(C),z.setAttribute("data-button-to-replace",C.className)),z.parentNode.insertBefore(z,C),Et([E,R],j.loading)},vt={},Lc=E=>new Promise(C=>{if(!E)return C();const R=window.scrollX,z=window.scrollY;vt.restoreFocusTimeout=setTimeout(()=>{vt.previousActiveElement&&vt.previousActiveElement.focus?(vt.previousActiveElement.focus(),vt.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(R,z)}),Ji=()=>{if(vt.timeout)return(()=>{const E=jt(),C=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const R=parseInt(window.getComputedStyle(E).width),z=parseInt(C/R*100);E.style.removeProperty("transition"),E.style.width="".concat(z,"%")})(),vt.timeout.stop()},Xi=()=>{if(vt.timeout){const E=vt.timeout.start();return Je(E),E}};let zt=!1;const Zs={};const Hr=E=>{for(let C=E.target;C&&C!==document;C=C.parentNode)for(const R in Zs){const z=C.getAttribute(R);if(z)return void Zs[R].fire({template:z})}},fr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Fu=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],vh={},wo=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],_s=E=>Object.prototype.hasOwnProperty.call(fr,E),Uc=E=>vh[E],wh=E=>{_s(E)||ue('Unknown parameter "'.concat(E,'"'))},Bc=E=>{wo.includes(E)&&ue('The parameter "'.concat(E,'" is incompatible with toasts'))},bo=E=>{Uc(E)&&ve(E,Uc(E))};var dp=Object.freeze({isValidParameter:_s,isUpdatableParameter:E=>-1!==Fu.indexOf(E),isDeprecatedParameter:Uc,argsToParams:E=>{const C={};return"object"!=typeof E[0]||de(E[0])?["title","html","icon"].forEach((R,z)=>{const ke=E[z];"string"==typeof ke||de(ke)?C[R]=ke:void 0!==ke&&ie("Unexpected type of ".concat(R,'! Expected "string" or "Element", got ').concat(typeof ke))}):Object.assign(C,E[0]),C},isVisible:()=>xt(Ne()),clickConfirm:Ha,clickDeny:()=>Le()&&Le().click(),clickCancel:()=>Ut()&&Ut().click(),getContainer:ye,getPopup:Ne,getTitle:mt,getHtmlContainer:Me,getImage:le,getIcon:wt,getInputLabel:()=>ze(j["input-label"]),getCloseButton:kn,getActions:An,getConfirmButton:he,getDenyButton:Le,getCancelButton:Ut,getLoader:rt,getFooter:bt,getTimerProgressBar:jt,getFocusableElements:Hn,getValidationMessage:ge,isLoading:()=>Ne().hasAttribute("data-loading"),fire:function(...E){return new this(...E)},mixin:function(E){return class extends(this){_main(z,ke){return super._main(z,Object.assign({},E,ke))}}},showLoading:Kn,enableLoading:Kn,getTimerLeft:()=>vt.timeout&&vt.timeout.getTimerLeft(),stopTimer:Ji,resumeTimer:Xi,toggleTimer:()=>{const E=vt.timeout;return E&&(E.running?Ji():Xi())},increaseTimer:E=>{if(vt.timeout){const C=vt.timeout.increase(E);return Je(C,!0),C}},isTimerRunning:()=>vt.timeout&&vt.timeout.isRunning(),bindClickHandler:function(E="data-swal-template"){Zs[E]=this,zt||(document.body.addEventListener("click",Hr),zt=!0)}});function Ws(){const E=_t.innerParams.get(this);if(!E)return;const C=_t.domCache.get(this);Mn(C.loader),on()?E.icon&&$t(wt()):Eh(C),Wn([C.popup,C.actions],j.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const Eh=E=>{const C=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));C.length?$t(C[0],"inline-block"):!xt(he())&&!xt(Le())&&!xt(Ut())&&Mn(E.actions)};const Ks=()=>{null===Ft.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Ft.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Ft.previousBodyPadding+(()=>{const E=document.createElement("div");E.className=j["scrollbar-measure"],document.body.appendChild(E);const C=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),C})(),"px"))},Lu=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const C=44;Ne().scrollHeight>window.innerHeight-C&&(ye().style.paddingBottom="".concat(C,"px"))}},za=()=>{const E=ye();let C;E.ontouchstart=R=>{C=Vu(R)},E.ontouchmove=R=>{C&&(R.preventDefault(),R.stopPropagation())}},Vu=E=>{const C=E.target,R=ye();return!(Ch(E)||Eo(E)||C!==R&&(_n(R)||"INPUT"===C.tagName||"TEXTAREA"===C.tagName||_n(Me())&&Me().contains(C)))},Ch=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,Eo=E=>E.touches&&E.touches.length>1,oi=()=>{V(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})};var Ys={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function ws(E,C,R,z){on()?Js(E,z):(Lc(R).then(()=>Js(E,z)),vt.keydownTarget.removeEventListener("keydown",vt.keydownHandler,{capture:vt.keydownListenerCapture}),vt.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),_r()&&(null!==Ft.previousBodyPadding&&(document.body.style.paddingRight="".concat(Ft.previousBodyPadding,"px"),Ft.previousBodyPadding=null),(()=>{if(qn(document.body,j.iosfix)){const E=parseInt(document.body.style.top,10);Wn(document.body,j.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}})(),oi()),Wn([document.documentElement,document.body],[j.shown,j["height-auto"],j["no-backdrop"],j["toast-shown"]])}function da(E){E=jc(E);const C=Ys.swalPromiseResolve.get(this),R=Qs(this);this.isAwaitingPromise()?E.isDismissed||(Co(this),C(E)):R&&C(E)}const Qs=E=>{const C=Ne();if(!C)return!1;const R=_t.innerParams.get(E);if(!R||qn(C,R.hideClass.popup))return!1;Wn(C,R.showClass.popup),Et(C,R.hideClass.popup);const z=ye();return Wn(z,R.showClass.backdrop),Et(z,R.hideClass.backdrop),nr(E,C,R),!0};const Co=E=>{E.isAwaitingPromise()&&(_t.awaitingPromise.delete(E),_t.innerParams.get(E)||E._destroy())},jc=E=>void 0===E?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),nr=(E,C,R)=>{const z=ye(),ke=He&&Ht(C);"function"==typeof R.willClose&&R.willClose(C),ke?Io(E,C,z,R.returnFocus,R.didClose):ws(E,z,R.returnFocus,R.didClose)},Io=(E,C,R,z,ke)=>{vt.swalCloseEventFinishedCallback=ws.bind(null,E,R,z,ke),C.addEventListener(He,function(Ye){Ye.target===C&&(vt.swalCloseEventFinishedCallback(),delete vt.swalCloseEventFinishedCallback)})},Js=(E,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(E.params)(),E._destroy()})};function es(E,C,R){const z=_t.domCache.get(E);C.forEach(ke=>{z[ke].disabled=R})}function gi(E,C){if(!E)return!1;if("radio"===E.type){const z=E.parentNode.parentNode.querySelectorAll("input");for(let ke=0;ke<z.length;ke++)z[ke].disabled=C}else E.disabled=C}class $c{constructor(C,R){this.callback=C,this.remaining=R,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(C){const R=this.running;return R&&this.stop(),this.remaining+=C,R&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var ha={email:(E,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(E,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function Ql(E){(function(E){E.inputValidator||Object.keys(ha).forEach(C=>{E.input===C&&(E.inputValidator=ha[C])})})(E),E.showLoaderOnConfirm&&!E.preConfirm&&ue("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(ue('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),G(E)}const mi=["swal-title","swal-html","swal-footer"],rr=E=>{const C={};return V(E.querySelectorAll("swal-param")).forEach(R=>{at(R,["name","value"]);const z=R.getAttribute("name");let ke=R.getAttribute("value");"boolean"==typeof fr[z]&&"false"===ke&&(ke=!1),"object"==typeof fr[z]&&(ke=JSON.parse(ke)),C[z]=ke}),C},to=E=>{const C={};return V(E.querySelectorAll("swal-button")).forEach(R=>{at(R,["type","color","aria-label"]);const z=R.getAttribute("type");C["".concat(z,"ButtonText")]=R.innerHTML,C["show".concat(ne(z),"Button")]=!0,R.hasAttribute("color")&&(C["".concat(z,"ButtonColor")]=R.getAttribute("color")),R.hasAttribute("aria-label")&&(C["".concat(z,"ButtonAriaLabel")]=R.getAttribute("aria-label"))}),C},Ao=E=>{const C={},R=E.querySelector("swal-image");return R&&(at(R,["src","width","height","alt"]),R.hasAttribute("src")&&(C.imageUrl=R.getAttribute("src")),R.hasAttribute("width")&&(C.imageWidth=R.getAttribute("width")),R.hasAttribute("height")&&(C.imageHeight=R.getAttribute("height")),R.hasAttribute("alt")&&(C.imageAlt=R.getAttribute("alt"))),C},pa=E=>{const C={},R=E.querySelector("swal-icon");return R&&(at(R,["type","color"]),R.hasAttribute("type")&&(C.icon=R.getAttribute("type")),R.hasAttribute("color")&&(C.iconColor=R.getAttribute("color")),C.iconHtml=R.innerHTML),C},bs=E=>{const C={},R=E.querySelector("swal-input");R&&(at(R,["type","label","placeholder","value"]),C.input=R.getAttribute("type")||"text",R.hasAttribute("label")&&(C.inputLabel=R.getAttribute("label")),R.hasAttribute("placeholder")&&(C.inputPlaceholder=R.getAttribute("placeholder")),R.hasAttribute("value")&&(C.inputValue=R.getAttribute("value")));const z=E.querySelectorAll("swal-input-option");return z.length&&(C.inputOptions={},V(z).forEach(ke=>{at(ke,["value"]);const Ye=ke.getAttribute("value");C.inputOptions[Ye]=ke.innerHTML})),C},So=(E,C)=>{const R={};for(const z in C){const ke=C[z],Ye=E.querySelector(ke);Ye&&(at(Ye,[]),R[ke.replace(/^swal-/,"")]=Ye.innerHTML.trim())}return R},Ya=E=>{const C=mi.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);V(E.children).forEach(R=>{const z=R.tagName.toLowerCase();-1===C.indexOf(z)&&ue("Unrecognized element <".concat(z,">"))})},at=(E,C)=>{V(E.attributes).forEach(R=>{-1===C.indexOf(R.name)&&ue(['Unrecognized attribute "'.concat(R.name,'" on <').concat(E.tagName.toLowerCase(),">."),"".concat(C.length?"Allowed attributes are: ".concat(C.join(", ")):"To set the value, use HTML within the element.")])})},ts=E=>{const C=ye(),R=Ne();"function"==typeof E.willOpen&&E.willOpen(R);const ke=window.getComputedStyle(document.body).overflowY;ns(C,R,E),setTimeout(()=>{ro(C,R)},10),_r()&&(Uu(C,E.scrollbarPadding,ke),V(document.body.children).forEach(C=>{C===ye()||C.contains(ye())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!on()&&!vt.previousActiveElement&&(vt.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(R)),Wn(C,j["no-transition"])},no=E=>{const C=Ne();if(E.target!==C)return;const R=ye();C.removeEventListener(He,no),R.style.overflowY="auto"},ro=(E,C)=>{He&&Ht(C)?(E.style.overflowY="hidden",C.addEventListener(He,no)):E.style.overflowY="auto"},Uu=(E,C,R)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!qn(document.body,j.iosfix)){const C=document.body.scrollTop;document.body.style.top="".concat(-1*C,"px"),Et(document.body,j.iosfix),za(),Lu()}})(),C&&"hidden"!==R&&Ks(),setTimeout(()=>{E.scrollTop=0})},ns=(E,C,R)=>{Et(E,R.showClass.backdrop),C.style.setProperty("opacity","0","important"),$t(C,"grid"),setTimeout(()=>{Et(C,R.showClass.popup),C.style.removeProperty("opacity")},10),Et([document.documentElement,document.body],j.shown),R.heightAuto&&R.backdrop&&!R.toast&&Et([document.documentElement,document.body],j["height-auto"])},Vt=E=>E.checked?1:0,Bu=E=>E.checked?E.value:null,Rn=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,qc=(E,C)=>{const R=Ne(),z=ke=>ai[C.input](R,io(ke),C);$(C.inputOptions)||X(C.inputOptions)?(Kn(he()),U(C.inputOptions).then(ke=>{E.hideLoading(),z(ke)})):"object"==typeof C.inputOptions?z(C.inputOptions):ie("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof C.inputOptions))},xo=(E,C)=>{const R=E.getInput();Mn(R),U(C.inputValue).then(z=>{R.value="number"===C.input?parseFloat(z)||0:"".concat(z),$t(R),R.focus(),E.hideLoading()}).catch(z=>{ie("Error in inputValue promise: ".concat(z)),R.value="",$t(R),R.focus(),E.hideLoading()})},ai={select:(E,C,R)=>{const z=Fn(E,j.select),ke=(Ye,Zt,Gr)=>{const Nn=document.createElement("option");Nn.value=Gr,Sn(Nn,Zt),Nn.selected=rs(Gr,R.inputValue),Ye.appendChild(Nn)};C.forEach(Ye=>{const Zt=Ye[0],Gr=Ye[1];if(Array.isArray(Gr)){const Nn=document.createElement("optgroup");Nn.label=Zt,Nn.disabled=!1,z.appendChild(Nn),Gr.forEach(Ri=>ke(Nn,Ri[1],Ri[0]))}else ke(z,Gr,Zt)}),z.focus()},radio:(E,C,R)=>{const z=Fn(E,j.radio);C.forEach(Ye=>{const Zt=Ye[0],Gr=Ye[1],Nn=document.createElement("input"),Ri=document.createElement("label");Nn.type="radio",Nn.name=j.radio,Nn.value=Zt,rs(Zt,R.inputValue)&&(Nn.checked=!0);const Kc=document.createElement("span");Sn(Kc,Gr),Kc.className=j.label,Ri.appendChild(Nn),Ri.appendChild(Kc),z.appendChild(Ri)});const ke=z.querySelectorAll("input");ke.length&&ke[0].focus()}},io=E=>{const C=[];return"undefined"!=typeof Map&&E instanceof Map?E.forEach((R,z)=>{let ke=R;"object"==typeof ke&&(ke=io(ke)),C.push([z,ke])}):Object.keys(E).forEach(R=>{let z=E[R];"object"==typeof z&&(z=io(z)),C.push([R,z])}),C},rs=(E,C)=>C&&C.toString()===E.toString(),yi=(E,C)=>{const R=_t.innerParams.get(E),z=((E,C)=>{const R=E.getInput();if(!R)return null;switch(C.input){case"checkbox":return Vt(R);case"radio":return Bu(R);case"file":return Rn(R);default:return C.inputAutoTrim?R.value.trim():R.value}})(E,R);R.inputValidator?Sr(E,z,C):E.getInput().checkValidity()?"deny"===C?pr(E,z):vi(E,z):(E.enableButtons(),E.showValidationMessage(R.validationMessage))},Sr=(E,C,R)=>{const z=_t.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>U(z.inputValidator(C,z.validationMessage))).then(Ye=>{E.enableButtons(),E.enableInput(),Ye?E.showValidationMessage(Ye):"deny"===R?pr(E,C):vi(E,C)})},pr=(E,C)=>{const R=_t.innerParams.get(E||void 0);R.showLoaderOnDeny&&Kn(Le()),R.preDeny?(_t.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>U(R.preDeny(C,R.validationMessage))).then(ke=>{!1===ke?E.hideLoading():E.closePopup({isDenied:!0,value:void 0===ke?C:ke})}).catch(ke=>_i(E||void 0,ke))):E.closePopup({isDenied:!0,value:C})},ga=(E,C)=>{E.closePopup({isConfirmed:!0,value:C})},_i=(E,C)=>{E.rejectPromise(C)},vi=(E,C)=>{const R=_t.innerParams.get(E||void 0);R.showLoaderOnConfirm&&Kn(),R.preConfirm?(E.resetValidationMessage(),_t.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>U(R.preConfirm(C,R.validationMessage))).then(ke=>{xt(ge())||!1===ke?E.hideLoading():ga(E,void 0===ke?C:ke)}).catch(ke=>_i(E||void 0,ke))):ga(E,C)},Ja=(E,C,R)=>{const z=Hn();if(z.length)return(C+=R)===z.length?C=0:-1===C&&(C=z.length-1),z[C].focus();Ne().focus()},Xa=["ArrowRight","ArrowDown"],ya=["ArrowLeft","ArrowUp"],Ro=(E,C,R)=>{const z=_t.innerParams.get(E);!z||(z.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?eu(E,C,z):"Tab"===C.key?so(C,z):[...Xa,...ya].includes(C.key)?ju(C.key):"Escape"===C.key&&Xl(C,z,R))},eu=(E,C,R)=>{if(!C.isComposing&&C.target&&E.getInput()&&C.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(R.input))return;Ha(),C.preventDefault()}},so=(E,C)=>{const R=E.target,z=Hn();let ke=-1;for(let Ye=0;Ye<z.length;Ye++)if(R===z[Ye]){ke=Ye;break}Ja(0,ke,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},ju=E=>{if(![he(),Le(),Ut()].includes(document.activeElement))return;const ke=Xa.includes(E)?"nextElementSibling":"previousElementSibling",Ye=document.activeElement[ke];Ye&&Ye.focus()},Xl=(E,C,R)=>{se(C.allowEscapeKey)&&(E.preventDefault(),R(Te.esc))},oo=(E,C,R)=>{C.popup.onclick=()=>{const z=_t.innerParams.get(E);z.showConfirmButton||z.showDenyButton||z.showCancelButton||z.showCloseButton||z.timer||z.input||R(Te.close)}};let _a=!1;const tu=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(C){E.container.onmouseup=void 0,C.target===E.container&&(_a=!0)}}},Zc=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(C){E.popup.onmouseup=void 0,(C.target===E.popup||E.popup.contains(C.target))&&(_a=!0)}}},fp=(E,C,R)=>{C.container.onclick=z=>{const ke=_t.innerParams.get(E);_a?_a=!1:z.target===C.container&&se(ke.allowOutsideClick)&&R(Te.backdrop)}};const td=(E,C)=>{const R=(E=>{const C="string"==typeof E.template?document.querySelector(E.template):E.template;if(!C)return{};const R=C.content;return Ya(R),Object.assign(rr(R),to(R),Ao(R),pa(R),bs(R),So(R,mi))})(E),z=Object.assign({},fr,C,R,E);return z.showClass=Object.assign({},fr.showClass,z.showClass),z.hideClass=Object.assign({},fr.hideClass,z.hideClass),z},ym=(E,C,R)=>new Promise((z,ke)=>{const Ye=Zt=>{E.closePopup({isDismissed:!0,dismiss:Zt})};Ys.swalPromiseResolve.set(E,z),Ys.swalPromiseReject.set(E,ke),C.confirmButton.onclick=()=>(E=>{const C=_t.innerParams.get(E);E.disableButtons(),C.input?yi(E,"confirm"):vi(E,!0)})(E),C.denyButton.onclick=()=>(E=>{const C=_t.innerParams.get(E);E.disableButtons(),C.returnInputValueOnDeny?yi(E,"deny"):pr(E,!1)})(E),C.cancelButton.onclick=()=>((E,C)=>{E.disableButtons(),C(Te.cancel)})(E,Ye),C.closeButton.onclick=()=>Ye(Te.close),((E,C,R)=>{_t.innerParams.get(E).toast?oo(E,C,R):(tu(C),Zc(C),fp(E,C,R))})(E,C,Ye),((E,C,R,z)=>{C.keydownTarget&&C.keydownHandlerAdded&&(C.keydownTarget.removeEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!1),R.toast||(C.keydownHandler=ke=>Ro(E,ke,z),C.keydownTarget=R.keydownListenerCapture?window:Ne(),C.keydownListenerCapture=R.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(E,vt,R,Ye),((E,C)=>{"select"===C.input||"radio"===C.input?qc(E,C):["text","email","number","tel","textarea"].includes(C.input)&&($(C.inputValue)||X(C.inputValue))&&(Kn(he()),xo(E,C))})(E,R),ts(R),xi(vt,R,Ye),wn(C,R),setTimeout(()=>{C.container.scrollTop=0})}),qr=E=>{const C={popup:Ne(),container:ye(),actions:An(),confirmButton:he(),denyButton:Le(),cancelButton:Ut(),loader:rt(),closeButton:kn(),validationMessage:ge(),progressSteps:pe()};return _t.domCache.set(E,C),C},xi=(E,C,R)=>{const z=jt();Mn(z),C.timer&&(E.timeout=new $c(()=>{R("timer"),delete E.timeout},C.timer),C.timerProgressBar&&($t(z),setTimeout(()=>{E.timeout&&E.timeout.running&&Je(C.timer)})))},wn=(E,C)=>{if(!C.toast){if(!se(C.allowEnterKey))return $u();Mi(E,C)||Ja(0,-1,1)}},Mi=(E,C)=>C.focusDeny&&xt(E.denyButton)?(E.denyButton.focus(),!0):C.focusCancel&&xt(E.cancelButton)?(E.cancelButton.focus(),!0):!(!C.focusConfirm||!xt(E.confirmButton)||(E.confirmButton.focus(),0)),$u=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const ir=E=>{Hu(E),delete E.params,delete vt.keydownHandler,delete vt.keydownTarget,delete vt.currentInstance},Hu=E=>{E.isAwaitingPromise()?(Es(_t,E),_t.awaitingPromise.set(E,!0)):(Es(Ys,E),Es(_t,E))},Es=(E,C)=>{for(const R in E)E[R].delete(C)};var ao=Object.freeze({hideLoading:Ws,disableLoading:Ws,getInput:function(E){const C=_t.innerParams.get(E||this),R=_t.domCache.get(E||this);return R?Vr(R.popup,C.input):null},close:da,isAwaitingPromise:function(){return!!_t.awaitingPromise.get(this)},rejectPromise:function(E){const C=Ys.swalPromiseReject.get(this);Co(this),C&&C(E)},closePopup:da,closeModal:da,closeToast:da,enableButtons:function(){es(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){es(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return gi(this.getInput(),!1)},disableInput:function(){return gi(this.getInput(),!0)},showValidationMessage:function(E){const C=_t.domCache.get(this),R=_t.innerParams.get(this);Sn(C.validationMessage,E),C.validationMessage.className=j["validation-message"],R.customClass&&R.customClass.validationMessage&&Et(C.validationMessage,R.customClass.validationMessage),$t(C.validationMessage);const z=this.getInput();z&&(z.setAttribute("aria-invalid",!0),z.setAttribute("aria-describedby",j["validation-message"]),vr(z),Et(z,j.inputerror))},resetValidationMessage:function(){const E=_t.domCache.get(this);E.validationMessage&&Mn(E.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),Wn(C,j.inputerror))},getProgressSteps:function(){return _t.domCache.get(this).progressSteps},_main:function(E,C={}){(E=>{!E.backdrop&&E.allowOutsideClick&&ue('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in E)wh(C),E.toast&&Bc(C),bo(C)})(Object.assign({},C,E)),vt.currentInstance&&(vt.currentInstance._destroy(),_r()&&oi()),vt.currentInstance=this;const R=td(E,C);Ql(R),Object.freeze(R),vt.timeout&&(vt.timeout.stop(),delete vt.timeout),clearTimeout(vt.restoreFocusTimeout);const z=qr(this);return aa(this,R),_t.innerParams.set(this,R),ym(this,z,R)},update:function(E){const C=Ne(),R=_t.innerParams.get(this);if(!C||qn(C,R.hideClass.popup))return ue("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const z={};Object.keys(E).forEach(Ye=>{is.isUpdatableParameter(Ye)?z[Ye]=E[Ye]:ue('Invalid parameter to update: "'.concat(Ye,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const ke=Object.assign({},R,z);aa(this,ke),_t.innerParams.set(this,ke),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})},_destroy:function(){const E=_t.domCache.get(this),C=_t.innerParams.get(this);C?(E.popup&&vt.swalCloseEventFinishedCallback&&(vt.swalCloseEventFinishedCallback(),delete vt.swalCloseEventFinishedCallback),vt.deferDisposalTimer&&(clearTimeout(vt.deferDisposalTimer),delete vt.deferDisposalTimer),"function"==typeof C.didDestroy&&C.didDestroy(),ir(this)):Hu(this)}});let va;class ui{constructor(...C){if("undefined"==typeof window)return;va=this;const R=Object.freeze(this.constructor.argsToParams(C));Object.defineProperties(this,{params:{value:R,writable:!1,enumerable:!0,configurable:!0}});const z=this._main(this.params);_t.promise.set(this,z)}then(C){return _t.promise.get(this).then(C)}finally(C){return _t.promise.get(this).finally(C)}}Object.assign(ui.prototype,ao),Object.assign(ui,dp),Object.keys(ao).forEach(E=>{ui[E]=function(...C){if(va)return va[E](...C)}}),ui.DismissReason=Te,ui.version="11.1.9";const is=ui;return is.default=is,is}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Te,L){var h=Te.createElement("style");if(Te.getElementsByTagName("head")[0].appendChild(h),h.styleSheet)h.styleSheet.disabled||(h.styleSheet.cssText=L);else try{h.innerHTML=L}catch(ne){h.innerText=L}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8078:(nt,Te,L)=>{"use strict";var h=L(3018);let ne=null;function V(){return ne}const _e=new h.OlP("DocumentToken");let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:se,token:n,providedIn:"platform"}),n})();function se(){return(0,h.LFG)(U)}const $=new h.OlP("Location Initialized");let U=(()=>{class n extends ve{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(t){const s=V().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=V().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,s,a){X()?this._history.pushState(t,s,a):this.location.hash=a}replaceState(t,s,a){X()?this._history.replaceState(t,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_e))},n.\u0275prov=(0,h.Yz7)({factory:Y,token:n,providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Y(){return new U((0,h.LFG)(_e))}function de(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function we(n){return n&&"?"!==n[0]?"?"+n:n}let Q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,h.Yz7)({factory:j,token:n,providedIn:"root"}),n})();function j(n){const e=(0,h.LFG)(_e).location;return new ye((0,h.LFG)(ve),e&&e.origin||"")}const ce=new h.OlP("appBaseHref");let ye=(()=>{class n extends Q{constructor(t,s){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return de(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+we(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${s}${a}`:s}pushState(t,s,a,l){const p=this.prepareExternalUrl(a+we(l));this._platformLocation.pushState(t,s,p)}replaceState(t,s,a,l){const p=this.prepareExternalUrl(a+we(l));this._platformLocation.replaceState(t,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ve),h.LFG(ce,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends Q{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=de(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,a,l){let p=this.prepareExternalUrl(a+we(l));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,s,p)}replaceState(t,s,a,l){let p=this.prepareExternalUrl(a+we(l));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ve),h.LFG(ce,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(t,s){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=De(mt(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+we(s))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,mt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,s="",a=null){this._platformStrategy.pushState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+we(s)),a)}replaceState(t,s="",a=null){this._platformStrategy.replaceState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+we(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(a=>a(t,s))}subscribe(t,s,a){return this._subject.subscribe({next:t,error:s,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Q),h.LFG(ve))},n.normalizeQueryParams=we,n.joinWithSlash=de,n.stripTrailingSlash=De,n.\u0275prov=(0,h.Yz7)({factory:Ne,token:n,providedIn:"root"}),n})();function Ne(){return new ze((0,h.LFG)(Q),(0,h.LFG)(ve))}function mt(n){return n.replace(/\/index.html$/,"")}var pe=(()=>((pe=pe||{})[pe.Zero=0]="Zero",pe[pe.One=1]="One",pe[pe.Two=2]="Two",pe[pe.Few=3]="Few",pe[pe.Many=4]="Many",pe[pe.Other=5]="Other",pe))();const vr=h.kL8;class dr{}let Bn=(()=>{class n extends dr{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(vr(s||this.locale)(t)){case pe.Zero:return"zero";case pe.One:return"one";case pe.Two:return"two";case pe.Few:return"few";case pe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.soG))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ha{constructor(e,t,s,a){this.$implicit=e,this.ngForOf=t,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jr=(()=>{class n{constructor(t,s,a){this._viewContainer=t,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=[];t.forEachOperation((a,l,p)=>{if(null==a.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new Ha(null,this._ngForOf,-1,-1),null===p?void 0:p),D=new tr(a,v);s.push(D)}else if(null==p)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const v=this._viewContainer.get(l);this._viewContainer.move(v,p);const D=new tr(a,v);s.push(D)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const p=this._viewContainer.get(a);p.context.index=a,p.context.count=l,p.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,s){t.context.$implicit=s.item}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class tr{constructor(e,t){this.record=e,this.view=t}}let fi=(()=>{class n{constructor(t,s){this._viewContainer=t,this._context=new Kn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){an("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){an("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Kn{constructor(){this.$implicit=null,this.ngIf=null}}function an(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let Ch=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[{provide:dr,useClass:Bn}]}),n})();function ws(n){return"server"===n}let Qs=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Za((0,h.LFG)(_e),window)}),n})();class Za{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const p=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(p)return p}a=s.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),s=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Co(this.window.history)||Co(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Co(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class es extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new es,ne||(ne=n)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(gi=gi||document.querySelector("base"),gi?gi.getAttribute("href"):null);return null==t?null:function(n){Do=Do||document.createElement("a"),Do.setAttribute("href",n);const e=Do.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){gi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const s=t.indexOf("="),[a,l]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Do,gi=null;const Wa=new h.OlP("TRANSITION_ID"),Ka=[{provide:h.ip1,useFactory:function(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const s=V(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)s.remove(a[l])})}},deps:[Wa,_e,h.zs3],multi:!0}];class Mt{static init(){(0,h.VLi)(new Mt)}addToWindow(e){h.dqk.getAngularTestability=(s,a=!0)=>{const l=e.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(s=>{const a=h.dqk.getAllAngularTestabilities();let l=a.length,p=!1;const v=function(D){p=p||D,l--,0==l&&s(p)};a.forEach(function(D){D.whenStable(v)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?V().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let $c=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ts=new h.OlP("EventManagerPlugins");let no=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const p=a[l];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ts),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ro{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=V().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let Uu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),ns=(()=>{class n extends Uu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(l=>{const p=this._doc.createElement("style");p.textContent=l,a.push(s.appendChild(p))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(Hc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Hc))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_e))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Hc(n){V().remove(n)}const Oe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vt=/%COMP%/g;function rs(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?rs(n,a,t):(a=a.replace(Vt,n),t.push(a))}return t}function Gc(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mo=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new yi(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case h.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new _i(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case h.ifc.ShadowDom:return new vi(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=rs(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(no),h.LFG(ns),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class yi{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Oe[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const l=Oe[a];l?e.setAttributeNS(l,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=Oe[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,s,a&h.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Gc(s)):this.eventManager.addEventListener(e,t,Gc(s))}}class _i extends yi{constructor(e,t,s,a){super(e),this.component=s;const l=rs(a+"-"+s.id,s.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Vt,a+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Vt,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class vi extends yi{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=rs(a.id,a.styles,[]);for(let p=0;p<l.length;p++){const v=document.createElement("style");v.textContent=l[p],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ma=(()=>{class n extends ro{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_e))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const oo=["alt","control","meta","shift"],tu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xi=(()=>{class n extends ro{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const l=n.parseEventName(s),p=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(t,l.domEventName,p))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(s.pop());let p="";if(oo.forEach(D=>{const M=s.indexOf(D);M>-1&&(s.splice(M,1),p+=D+".")}),p+=l,0!=s.length||0===l.length)return null;const v={};return v.domEventName=a,v.fullKey=p,v}static getEventFullKey(t){let s="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Zc.hasOwnProperty(e)&&(e=Zc[e]))}return tu[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),oo.forEach(l=>{l!=a&&qr[l](t)&&(s+=l+".")}),s+=a,s}static eventCallback(t,s,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>s(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(_e))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const E=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function(){es.makeCurrent(),Mt.init()},multi:!0},{provide:_e,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),C=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:ts,useClass:ma,multi:!0,deps:[_e,h.R0b,h.Lbi]},{provide:ts,useClass:xi,multi:!0,deps:[_e]},[],{provide:Mo,useClass:Mo,deps:[no,ns,h.AFp]},{provide:h.FYo,useExisting:Mo},{provide:Uu,useExisting:ns},{provide:ns,useClass:ns,deps:[_e]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:no,useClass:no,deps:[ts,h.R0b]},{provide:class{},useClass:$c,deps:[]},[]];let R=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Wa,useExisting:h.AFp},Ka]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:C,imports:[Ch,h.hGG]}),n})();"undefined"!=typeof window&&window;var Ln=L(4402),ot=L(5917),Cs=L(9765),uo=L(7971);class xr extends Cs.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new uo.N;return this._value}next(e){super.next(this._value=e)}}var wa=L(4869),No=L(9796),Is=L(5197),Ku=L(5604),_m=L(6693);const ba={};class Th{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new nd(e,this.resultSelector))}}class nd extends Is.L{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(ba),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let s=0;s<t;s++){const a=e[s];this.add((0,Ku.D)(this,a,a,s))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,s,a,l){const p=this.values,D=this.toRespond?p[s]===ba?--this.toRespond:this.toRespond:0;p[s]=t,0===D&&(this.resultSelector?this._tryResultSelector(p):this.destination.next(p.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}var Ni=L(7574);const co=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Ea=L(3282);function su(...n){return(0,Ea.J)(1)((0,ot.of)(...n))}var Mr=L(9193);function Qu(n){return new Ni.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,Ln.D)(t):(0,Mr.c)()).subscribe(e)})}var Sh=L(2441),Nt=L(8002),lo=L(268);function Vn(n,e){return"function"==typeof e?t=>t.pipe(Vn((s,a)=>(0,Ln.D)(n(s,a)).pipe((0,Nt.U)((l,p)=>e(s,l,a,p))))):t=>t.lift(new Ju(n))}class Ju{constructor(e){this.project=e}call(e,t){return t.subscribe(new el(e,this.project))}}class el extends Is.L{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(a){return void this.destination.error(a)}this._innerSub(t,e,s)}_innerSub(e,t,s){const a=this.innerSubscription;a&&a.unsubscribe();const l=new lo.d(this,t,s),p=this.destination;p.add(l),this.innerSubscription=(0,Ku.D)(this,e,void 0,void 0,l),this.innerSubscription!==l&&p.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,s,a,l){this.destination.next(t)}}var Ds=L(7393);const xh=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function rd(n){return e=>0===n?(0,Mr.c)():e.lift(new Mh(n))}class Mh{constructor(e){if(this.total=e,this.total<0)throw new xh}call(e,t){return t.subscribe(new vm(e,this.total))}}class vm extends Ds.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,s=++this.count;s<=t&&(this.destination.next(e),s===t&&(this.destination.complete(),this.unsubscribe()))}}function ou(...n){const e=n[n.length-1];return(0,wa.K)(e)?(n.pop(),t=>su(n,t,e)):t=>su(n,t)}function bn(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new id(n,e,t))}}class id{constructor(e,t,s=!1){this.accumulator=e,this.seed=t,this.hasSeed=s}call(e,t){return t.subscribe(new Rh(e,this.accumulator,this.seed,this.hasSeed))}}class Rh extends Ds.L{constructor(e,t,s,a){super(e),this.accumulator=t,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let s;try{s=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function Ts(n,e){return function(s){return s.lift(new wm(n,e))}}class wm{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new sd(e,this.predicate,this.thisArg))}}class sd extends Ds.L{constructor(e,t,s){super(e),this.predicate=t,this.thisArg=s,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(e)}}function ss(n){return function(t){const s=new od(n),a=t.lift(s);return s.caught=a}}class od{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Nh(e,this.selector,this.caught))}}class Nh extends Is.L{constructor(e,t,s){super(e),this.selector=t,this.caught=s}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new lo.d(this,void 0,void 0);this.add(s);const a=(0,Ku.D)(this,t,void 0,void 0,s);a!==s&&this.add(a)}}}var Er=L(9773);function As(n,e){return(0,Er.zg)(n,e,1)}function Ss(n){return function(t){return 0===n?(0,Mr.c)():t.lift(new au(n))}}class au{constructor(e){if(this.total=e,this.total<0)throw new xh}call(e,t){return t.subscribe(new H_(e,this.total))}}class H_ extends Ds.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,s=this.total,a=this.count++;t.length<s?t.push(e):t[a%s]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const p=t++%s;e.next(a[p])}}e.complete()}}function sr(n=cu){return e=>e.lift(new tl(n))}class tl{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new uu(e,this.errorFactory))}}class uu extends Ds.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function cu(){return new co}function ad(n=null){return e=>e.lift(new Oi(n))}class Oi{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Pi(e,this.defaultValue))}}class Pi extends Ds.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var os=L(4487);function Yn(n,e){const t=arguments.length>=2;return s=>s.pipe(n?Ts((a,l)=>n(a,l,s)):os.y,rd(1),t?ad(e):sr(()=>new co))}var zr=L(3342),Oh=L(1307),ud=L(5319);class bm{constructor(e){this.callback=e}call(e,t){return t.subscribe(new pp(e,this.callback))}}class pp extends Ds.L{constructor(e,t){super(e),this.add(new ud.w(t))}}class I{constructor(e,t){this.id=e,this.url=t}}class A extends I{constructor(e,t,s="imperative",a=null){super(e,t),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class N extends I{constructor(e,t,s){super(e,t),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class H extends I{constructor(e,t,s){super(e,t),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class te extends I{constructor(e,t,s){super(e,t),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ce extends I{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Be extends I{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xe extends I{constructor(e,t,s,a,l){super(e,t),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qe extends I{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wt extends I{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class en{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gr{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zr{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rr{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ec{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wi{constructor(e,t,s){this.routerEvent=e,this.position=t,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const yt="primary";class Oo{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Po(n){return new Oo(n)}const nl="ngNavigationCancelingError";function Em(n){const e=Error("NavigationCancelingError: "+n);return e[nl]=!0,e}function rl(n,e,t){const s=t.path.split("/");if(s.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||s.length<n.length))return null;const a={};for(let l=0;l<s.length;l++){const p=s[l],v=n[l];if(p.startsWith(":"))a[p.substring(1)]=v;else if(p!==v.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function ko(n,e){const t=n?Object.keys(n):void 0,s=e?Object.keys(e):void 0;if(!t||!s||t.length!=s.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!Qn(n[a],e[a]))return!1;return!0}function Qn(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),s=[...e].sort();return t.every((a,l)=>s[l]===a)}return n===e}function ld(n){return Array.prototype.concat.apply([],n)}function q_(n){return n.length>0?n[n.length-1]:null}function or(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ms(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Ln.D)(Promise.resolve(n)):(0,ot.of)(n)}const Im={exact:function dd(n,e,t){if(!Ns(n.segments,e.segments)||!sl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!n.children[s]||!dd(n.children[s],e.children[s],t))return!1;return!0},subset:Tm},Dm={exact:function(n,e){return ko(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Qn(n[t],e[t]))},ignored:()=>!0};function nc(n,e,t){return Im[t.paths](n.root,e.root,t.matrixParams)&&Dm[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Tm(n,e,t){return gp(n,e,e.segments,t)}function gp(n,e,t,s){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!Ns(a,t)||e.hasChildren()||!sl(a,t,s))}if(n.segments.length===t.length){if(!Ns(n.segments,t)||!sl(n.segments,t,s))return!1;for(const a in e.children)if(!n.children[a]||!Tm(n.children[a],e.children[a],s))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Ns(n.segments,a)&&sl(n.segments,a,s)&&n.children[yt])&&gp(n.children[yt],e,l,s)}}function sl(n,e,t){return e.every((s,a)=>Dm[t](n[a].parameters,s.parameters))}class Fo{constructor(e,t,s){this.root=e,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Po(this.queryParams)),this._queryParamMap}toString(){return Am.serialize(this)}}class Bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,or(t,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pd(this)}}class hd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Po(this.parameters)),this._parameterMap}toString(){return xm(this)}}function Ns(n,e){return n.length===e.length&&n.every((t,s)=>t.path===e[s].path)}class yp{}class G_{parse(e){const t=new Z_(e);return new Fo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${kh(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const s=n[t];return Array.isArray(s)?s.map(a=>`${Fh(t)}=${Fh(a)}`).join("&"):`${Fh(t)}=${Fh(s)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Am=new G_;function pd(n){return n.segments.map(e=>xm(e)).join("/")}function kh(n,e){if(!n.hasChildren())return pd(n);if(e){const t=n.children[yt]?kh(n.children[yt],!1):"",s=[];return or(n.children,(a,l)=>{l!==yt&&s.push(`${l}:${kh(a,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function(n,e){let t=[];return or(n.children,(s,a)=>{a===yt&&(t=t.concat(e(s,a)))}),or(n.children,(s,a)=>{a!==yt&&(t=t.concat(e(s,a)))}),t}(n,(s,a)=>a===yt?[kh(n.children[yt],!1)]:[`${a}:${kh(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yt]?`${pd(n)}/${t[0]}`:`${pd(n)}/(${t.join("//")})`}}function Sm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fh(n){return Sm(n).replace(/%3B/gi,";")}function du(n){return Sm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ol(n){return decodeURIComponent(n)}function Ca(n){return ol(n.replace(/\+/g,"%20"))}function xm(n){return`${du(n.path)}${function(n){return Object.keys(n).map(e=>`;${du(e)}=${du(n[e])}`).join("")}(n.parameters)}`}const al=/^[^\/()?;=#]+/;function ul(n){const e=n.match(al);return e?e[0]:""}const _p=/^[^=?&#]+/,Rm=/^[^?&#]+/;class Z_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(s[yt]=new Bt(e,t)),s}parseSegment(){const e=ul(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new hd(ol(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ul(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const a=ul(this.remaining);a&&(s=a,this.capture(s))}e[ol(t)]=ol(s)}parseQueryParam(e){const t=function(n){const e=n.match(_p);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const p=function(n){const e=n.match(Rm);return e?e[0]:""}(this.remaining);p&&(s=p,this.capture(s))}const a=Ca(t),l=Ca(s);if(e.hasOwnProperty(a)){let p=e[a];Array.isArray(p)||(p=[p],e[a]=p),p.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=ul(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=yt);const p=this.parseChildren();t[l]=1===Object.keys(p).length?p[yt]:new Bt([],p),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class W_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ia(e,this._root);return t?t.children.map(s=>s.value):[]}firstChild(e){const t=Ia(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=wp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return wp(e,this._root).map(t=>t.value)}}function Ia(n,e){if(n===e.value)return e;for(const t of e.children){const s=Ia(n,t);if(s)return s}return null}function wp(n,e){if(n===e.value)return[e];for(const t of e.children){const s=wp(n,t);if(s.length)return s.unshift(e),s}return[]}class Da{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function bi(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ic extends W_{constructor(e,t){super(e),this.snapshot=t,bp(this,e)}toString(){return this.snapshot.toString()}}function gd(n,e){const t=function(n,e){const p=new Vh([],{},{},"",{},yt,e,null,n.root,-1,{});return new md("",new Da(p,[]))}(n,e),s=new xr([new hd("",{})]),a=new xr({}),l=new xr({}),p=new xr({}),v=new xr(""),D=new cl(s,a,p,v,l,yt,e,t.root);return D.snapshot=t.root,new ic(new Da(D,[]),t)}class cl{constructor(e,t,s,a,l,p,v,D){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=p,this.component=v,this._futureSnapshot=D}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Nt.U)(e=>Po(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Nt.U)(e=>Po(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lh(n,e="emptyOnly"){const t=n.pathFromRoot;let s=0;if("always"!==e)for(s=t.length-1;s>=1;){const a=t[s],l=t[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(s))}class Vh{constructor(e,t,s,a,l,p,v,D,M,P,B){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=p,this.component=v,this.routeConfig=D,this._urlSegment=M,this._lastPathIndex=P,this._resolve=B}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Po(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Po(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class md extends W_{constructor(e,t){super(t),this.url=e,bp(this,t)}toString(){return Nm(this._root)}}function bp(n,e){e.value._routerState=n,e.children.forEach(t=>bp(n,t))}function Nm(n){const e=n.children.length>0?` { ${n.children.map(Nm).join(", ")} } `:"";return`${n.value}${e}`}function Ep(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ko(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ko(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ko(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ko(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Cp(n,e){return ko(n.params,e.params)&&function(n,e){return Ns(n,e)&&n.every((t,s)=>ko(t.parameters,e[s].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Cp(n.parent,e.parent))}function yd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(s=>{for(const a of t.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return yd(n,s,a);return yd(n,s)})}(n,e,t);return new Da(s,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const p=l.route;return hu(e,p),p}}const s=function(n){return new cl(new xr(n.url),new xr(n.params),new xr(n.queryParams),new xr(n.fragment),new xr(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>yd(n,l));return new Da(s,a)}}function hu(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)hu(n.children[t],e.children[t])}function oc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ll(n){return"object"==typeof n&&null!=n&&n.outlets}function Uh(n,e,t,s,a){let l={};return s&&or(s,(p,v)=>{l[v]=Array.isArray(p)?p.map(D=>`${D}`):`${p}`}),new Fo(t.root===n?e:Bh(t.root,n,e),l,a)}function Bh(n,e,t){const s={};return or(n.children,(a,l)=>{s[l]=a===e?t:Bh(a,e,t)}),new Bt(n.segments,s)}class Q_{constructor(e,t,s){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=s,e&&s.length>0&&oc(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(ll);if(a&&a!==q_(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _d{constructor(e,t,s){this.segmentGroup=e,this.processChildren=t,this.index=s}}function J_(n,e,t){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return vd(n,e,t);const s=function(n,e,t){let s=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=t.length)return l;const p=n.segments[a],v=t[s];if(ll(v))break;const D=`${v}`,M=s<t.length-1?t[s+1]:null;if(a>0&&void 0===D)break;if(D&&M&&"object"==typeof M&&void 0===M.outlets){if(!Tp(D,M,p))return l;s+=2}else{if(!Tp(D,{},p))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,e,t),a=t.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const l=new Bt(n.segments.slice(0,s.pathIndex),{});return l.children[yt]=new Bt(n.segments.slice(s.pathIndex),n.children),vd(l,0,a)}return s.match&&0===a.length?new Bt(n.segments,{}):s.match&&!n.hasChildren()?Dp(n,e,t):s.match?vd(n,0,a):Dp(n,e,t)}function vd(n,e,t){if(0===t.length)return new Bt(n.segments,{});{const s=function(n){return ll(n[0])?n[0].outlets:{[yt]:n}}(t),a={};return or(s,(l,p)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[p]=J_(n.children[p],e,l))}),or(n.children,(l,p)=>{void 0===s[p]&&(a[p]=l)}),new Bt(n.segments,a)}}function Dp(n,e,t){const s=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(ll(l)){const D=Pm(l.outlets);return new Bt(s,D)}if(0===a&&oc(t[0])){s.push(new hd(n.segments[e].path,km(t[0]))),a++;continue}const p=ll(l)?l.outlets[yt]:`${l}`,v=a<t.length-1?t[a+1]:null;p&&v&&oc(v)?(s.push(new hd(p,km(v))),a+=2):(s.push(new hd(p,{})),a++)}return new Bt(s,{})}function Pm(n){const e={};return or(n,(t,s)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[s]=Dp(new Bt([],{}),0,t))}),e}function km(n){const e={};return or(n,(t,s)=>e[s]=`${t}`),e}function Tp(n,e,t){return n==t.path&&ko(e,t.parameters)}class Fm{constructor(e,t,s,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=s,this.forwardEvent=a}activate(e){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,e),Ep(this.futureState.root),this.activateChildRoutes(t,s,e)}deactivateChildRoutes(e,t,s){const a=bi(t);e.children.forEach(l=>{const p=l.value.outlet;this.deactivateRoutes(l,a[p],s),delete a[p]}),or(a,(l,p)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const p=s.getContext(a.outlet);p&&this.deactivateChildRoutes(e,t,p.children)}else this.deactivateChildRoutes(e,t,s);else l&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const s=t.getContext(e.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const s=t.getContext(e.value.outlet),a=s&&e.value.component?s.children:t,l=bi(e);for(const p of Object.keys(l))this.deactivateRouteAndItsChildren(l[p],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,t,s){const a=bi(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new ec(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Rr(e.value.snapshot))}activateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(Ep(a),a===l)if(a.component){const p=s.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,p.children)}else this.activateChildRoutes(e,t,s);else if(a.component){const p=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(v.contexts),p.attachRef=v.componentRef,p.route=v.route.value,p.outlet&&p.outlet.attach(v.componentRef,v.route.value),wd(v.route)}else{const v=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),D=v?v.module.componentFactoryResolver:null;p.attachRef=null,p.route=a,p.resolver=D,p.outlet&&p.outlet.activateWith(a,D),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,s)}}function wd(n){Ep(n.value),n.children.forEach(wd)}class Pn{constructor(e,t){this.routes=e,this.module=t}}function Ta(n){return"function"==typeof n}function fo(n){return n instanceof Fo}const ac=Symbol("INITIAL_VALUE");function uc(){return Vn(n=>function(...n){let e=null,t=null;return(0,wa.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,No.k)(n[0])&&(n=n[0]),(0,_m.n)(n,t).lift(new Th(e))}(n.map(e=>e.pipe(rd(1),ou(ac)))).pipe(bn((e,t)=>{let s=!1;return t.reduce((a,l,p)=>a!==ac?a:(l===ac&&(s=!0),s||!1!==l&&p!==t.length-1&&!fo(l)?a:l),e)},ac),Ts(e=>e!==ac),(0,Nt.U)(e=>fo(e)?e:!0===e),rd(1)))}let tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,s){1&t&&h._UZ(0,"router-outlet")},directives:function(){return[Wh]},encapsulation:2}),n})();function Vm(n,e=""){for(let t=0;t<n.length;t++){const s=n[t];Ed(s,Jn(e,s))}}function Ed(n,e){n.children&&Vm(n.children,e)}function Jn(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function dl(n){const e=n.children&&n.children.map(dl),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==yt&&(t.component=tv),t}function as(n){return n.outlet||yt}function Sp(n,e){const t=n.filter(s=>as(s)===e);return t.push(...n.filter(s=>as(s)!==e)),t}const Wr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Aa(n,e,t){var s;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Wr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||rl)(t,n,e);if(!l)return Object.assign({},Wr);const p={};or(l.posParams,(D,M)=>{p[M]=D.path});const v=l.consumed.length>0?Object.assign(Object.assign({},p),l.consumed[l.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:v,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function Cr(n,e,t,s,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(s=>xa(n,e,s)&&as(s)!==yt)}(n,t,s)){const p=new Bt(e,function(n,e,t,s){const a={};a[yt]=s,s._sourceSegment=n,s._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&as(l)!==yt){const p=new Bt([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,a[as(l)]=p}return a}(n,e,s,new Bt(t,n.children)));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(s=>xa(n,e,s))}(n,t,s)){const p=new Bt(n.segments,function(n,e,t,s,a,l){const p={};for(const v of s)if(xa(n,t,v)&&!a[as(v)]){const D=new Bt([],{});D._sourceSegment=n,D._segmentIndexShift="legacy"===l?n.segments.length:e.length,p[as(v)]=D}return Object.assign(Object.assign({},a),p)}(n,e,t,s,n.children,a));return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}const l=new Bt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function xa(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Rp(n,e,t,s){return!!(as(n)===s||s!==yt&&xa(e,t,n))&&("**"===n.path||Aa(e,n,t).matched)}function qh(n,e,t){return 0===e.length&&!n.children[t]}class cc{constructor(e){this.segmentGroup=e||null}}class Bm{constructor(e){this.urlTree=e}}function Gh(n){return new Ni.y(e=>e.error(new cc(n)))}function Np(n){return new Ni.y(e=>e.error(new Bm(n)))}function Op(n){return new Ni.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class g{constructor(e,t,s,a,l){this.configLoader=t,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=Cr(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,yt).pipe((0,Nt.U)(l=>this.createUrlTree(x(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ss(l=>{if(l instanceof Bm)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof cc?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,yt).pipe((0,Nt.U)(a=>this.createUrlTree(x(a),e.queryParams,e.fragment))).pipe(ss(a=>{throw a instanceof cc?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,s){const a=e.segments.length>0?new Bt([],{[yt]:e}):e;return new Fo(a,t,s)}expandSegmentGroup(e,t,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,t,s).pipe((0,Nt.U)(l=>new Bt([],l))):this.expandSegment(e,s,t,s.segments,a,!0)}expandChildren(e,t,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,Ln.D)(a).pipe(As(l=>{const p=s.children[l],v=Sp(t,l);return this.expandSegmentGroup(e,v,p,l).pipe((0,Nt.U)(D=>({segment:D,outlet:l})))}),bn((l,p)=>(l[p.outlet]=p.segment,l),{}),function(n,e){const t=arguments.length>=2;return s=>s.pipe(n?Ts((a,l)=>n(a,l,s)):os.y,Ss(1),t?ad(e):sr(()=>new co))}())}expandSegment(e,t,s,a,l,p){return(0,Ln.D)(s).pipe(As(v=>this.expandSegmentAgainstRoute(e,t,s,v,a,l,p).pipe(ss(M=>{if(M instanceof cc)return(0,ot.of)(null);throw M}))),Yn(v=>!!v),ss((v,D)=>{if(v instanceof co||"EmptyError"===v.name){if(qh(t,a,l))return(0,ot.of)(new Bt([],{}));throw new cc(t)}throw v}))}expandSegmentAgainstRoute(e,t,s,a,l,p,v){return Rp(a,t,l,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,p):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p):Gh(t):Gh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Np(l):this.lineralizeSegments(s,l).pipe((0,Er.zg)(p=>{const v=new Bt(p,{});return this.expandSegment(e,v,t,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,p){const{matched:v,consumedSegments:D,lastChild:M,positionalParamSegments:P}=Aa(t,a,l);if(!v)return Gh(t);const B=this.applyRedirectCommands(D,a.redirectTo,P);return a.redirectTo.startsWith("/")?Np(B):this.lineralizeSegments(a,B).pipe((0,Er.zg)(ee=>this.expandSegment(e,t,s,ee.concat(l.slice(M)),p,!1)))}matchSegmentAgainstRoute(e,t,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,ot.of)(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe((0,Nt.U)(ee=>(s._loadedConfig=ee,new Bt(a,{})))):(0,ot.of)(new Bt(a,{}));const{matched:p,consumedSegments:v,lastChild:D}=Aa(t,s,a);if(!p)return Gh(t);const M=a.slice(D);return this.getChildConfig(e,s,a).pipe((0,Er.zg)(B=>{const ee=B.module,re=B.routes,{segmentGroup:Fe,slicedSegments:Ze}=Cr(t,v,M,re),it=new Bt(Fe.segments,Fe.children);if(0===Ze.length&&it.hasChildren())return this.expandChildren(ee,re,it).pipe((0,Nt.U)(rn=>new Bt(v,rn)));if(0===re.length&&0===Ze.length)return(0,ot.of)(new Bt(v,{}));const Qt=as(s)===l;return this.expandSegment(ee,it,re,Ze,Qt?yt:l,!0).pipe((0,Nt.U)(Xn=>new Bt(v.concat(Xn.segments),Xn.children)))}))}getChildConfig(e,t,s){return t.children?(0,ot.of)(new Pn(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,ot.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,s).pipe((0,Er.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,Nt.U)(l=>(t._loadedConfig=l,l))):(n=t,new Ni.y(e=>e.error(Em(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,ot.of)(new Pn([],e))}runCanLoadGuards(e,t,s){const a=t.canLoad;if(!a||0===a.length)return(0,ot.of)(!0);const l=a.map(p=>{const v=e.get(p);let D;if((n=v)&&Ta(n.canLoad))D=v.canLoad(t,s);else{if(!Ta(v))throw new Error("Invalid CanLoad guard");D=v(t,s)}var n;return Ms(D)});return(0,ot.of)(l).pipe(uc(),(0,zr.b)(p=>{if(!fo(p))return;const v=Em(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw v.url=p,v}),(0,Nt.U)(p=>!0===p))}lineralizeSegments(e,t){let s=[],a=t.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,ot.of)(s);if(a.numberOfChildren>1||!a.children[yt])return Op(e.redirectTo);a=a.children[yt]}}applyRedirectCommands(e,t,s){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,s)}applyRedirectCreatreUrlTree(e,t,s,a){const l=this.createSegmentGroup(e,t.root,s,a);return new Fo(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const s={};return or(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);s[l]=t[v]}else s[l]=a}),s}createSegmentGroup(e,t,s,a){const l=this.createSegments(e,t.segments,s,a);let p={};return or(t.children,(v,D)=>{p[D]=this.createSegmentGroup(e,v,s,a)}),new Bt(l,p)}createSegments(e,t,s,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,s))}findPosParam(e,t,s){const a=s[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let s=0;for(const a of t){if(a.path===e.path)return t.splice(s),a;s++}return e}}function x(n){const e={};for(const s of Object.keys(n.children)){const l=x(n.children[s]);(l.segments.length>0||l.hasChildren())&&(e[s]=l)}return function(n){if(1===n.numberOfChildren&&n.children[yt]){const e=n.children[yt];return new Bt(n.segments.concat(e.segments),e.children)}return n}(new Bt(n.segments,e))}class J{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ee{constructor(e,t){this.component=e,this.route=t}}function qe(n,e,t){const s=n._root;return Gn(s,e?e._root:null,t,[s.value])}function pt(n,e,t){const s=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:t).get(n)}function Gn(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=bi(e);return n.children.forEach(p=>{(function(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,p=e?e.value:null,v=t?t.getContext(n.value.outlet):null;if(p&&l.routeConfig===p.routeConfig){const D=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ns(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ns(n.url,e.url)||!ko(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cp(n,e)||!ko(n.queryParams,e.queryParams);case"paramsChange":default:return!Cp(n,e)}}(p,l,l.routeConfig.runGuardsAndResolvers);D?a.canActivateChecks.push(new J(s)):(l.data=p.data,l._resolvedData=p._resolvedData),Gn(n,e,l.component?v?v.children:null:t,s,a),D&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new Ee(v.outlet.component,p))}else p&&lc(e,v,a),a.canActivateChecks.push(new J(s)),Gn(n,null,l.component?v?v.children:null:t,s,a)})(p,l[p.value.outlet],t,s.concat([p.value]),a),delete l[p.value.outlet]}),or(l,(p,v)=>lc(p,t.getContext(v),a)),a}function lc(n,e,t){const s=bi(n),a=n.value;or(s,(l,p)=>{lc(l,a.component?e?e.children.getContext(p):null:e,t)}),t.canDeactivateChecks.push(new Ee(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class hl{}function us(n){return new Ni.y(e=>e.error(n))}class Jx{constructor(e,t,s,a,l,p){this.rootComponentType=e,this.config=t,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=p}recognize(){const e=Cr(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,yt);if(null===t)return null;const s=new Vh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},yt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Da(s,t),l=new md(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,s=Lh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(s.params),t.data=Object.freeze(s.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,s){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,s)}processChildren(e,t){const s=[];for(const l of Object.keys(t.children)){const p=t.children[l],v=Sp(e,l),D=this.processSegmentGroup(v,p,l);if(null===D)return null;s.push(...D)}const a=Gm(s);return a.sort((e,t)=>e.value.outlet===yt?-1:t.value.outlet===yt?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,s,a){for(const l of e){const p=this.processSegmentAgainstRoute(l,t,s,a);if(null!==p)return p}return qh(t,s,a)?[]:null}processSegmentAgainstRoute(e,t,s,a){if(e.redirectTo||!Rp(e,t,s,a))return null;let l,p=[],v=[];if("**"===e.path){const re=s.length>0?q_(s).parameters:{};l=new Vh(s,re,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zh(e),as(e),e.component,e,Wb(t),nv(t)+s.length,rv(e))}else{const re=Aa(t,e,s);if(!re.matched)return null;p=re.consumedSegments,v=s.slice(re.lastChild),l=new Vh(p,re.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zh(e),as(e),e.component,e,Wb(t),nv(t)+p.length,rv(e))}const D=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:M,slicedSegments:P}=Cr(t,p,v,D.filter(re=>void 0===re.redirectTo),this.relativeLinkResolution);var n;if(0===P.length&&M.hasChildren()){const re=this.processChildren(D,M);return null===re?null:[new Da(l,re)]}if(0===D.length&&0===P.length)return[new Da(l,[])];const B=as(e)===a,ee=this.processSegment(D,M,P,B?yt:a);return null===ee?null:[new Da(l,ee)]}}function fu(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Gm(n){const e=[],t=new Set;for(const s of n){if(!fu(s)){e.push(s);continue}const a=e.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),t.add(a)):e.push(s)}for(const s of t){const a=Gm(s.children);e.push(new Da(s.value,a))}return e.filter(s=>!t.has(s))}function Wb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function nv(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function zh(n){return n.data||{}}function rv(n){return n.resolve||{}}function fl(n){return Vn(e=>{const t=n(e);return t?(0,Ln.D)(t).pipe((0,Nt.U)(()=>e)):(0,ot.of)(e)})}class fT extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Vp=new h.OlP("ROUTES");class Jb{constructor(e,t,s,a){this.loader=e,this.compiler=t,this.onLoadStartListener=s,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,Nt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const p=l.create(e);return new Pn(ld(p.injector.get(Vp,void 0,h.XFs.Self|h.XFs.Optional)).map(dl),p)}),ss(l=>{throw t._loader$=void 0,l}));return t._loader$=new Sh.c(a,()=>new Cs.xQ).pipe((0,Oh.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Ln.D)(this.loader.load(e)):Ms(e()).pipe((0,Er.zg)(t=>t instanceof h.YKP?(0,ot.of)(t):(0,Ln.D)(this.compiler.compileModuleAsync(t))))}}class pT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zh,this.attachRef=null}}class Zh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const s=this.getOrCreateContext(e);s.outlet=t,this.contexts.set(e,s)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new pT,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class mT{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function yT(n){throw n}function Xb(n,e,t){return e.parse("/")}function zm(n,e){return(0,ot.of)(null)}const eE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},av={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Os=(()=>{class n{constructor(t,s,a,l,p,v,D,M){this.rootComponentType=t,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=M,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Cs.xQ,this.errorHandler=yT,this.malformedUriErrorHandler=Xb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zm,afterPreactivation:zm},this.urlHandlingStrategy=new mT,this.routeReuseStrategy=new fT,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(h.h0i),this.console=p.get(h.c2e);const ee=p.get(h.R0b);this.isNgZoneEnabled=ee instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(M),this.currentUrlTree=new Fo(new Bt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Jb(v,D,re=>this.triggerEvent(new en(re)),re=>this.triggerEvent(new gr(re))),this.routerState=gd(this.currentUrlTree,this.rootComponentType),this.transitions=new xr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const s=this.events;return t.pipe(Ts(a=>0!==a.id),(0,Nt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Vn(a=>{let l=!1,p=!1;return(0,ot.of)(a).pipe((0,zr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vn(v=>{const D=this.browserUrlTree.toString(),M=!this.navigated||v.extractedUrl.toString()!==D||D!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||M)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return Up(v.source)&&(this.browserUrlTree=v.extractedUrl),(0,ot.of)(v).pipe(Vn(B=>{const ee=this.transitions.getValue();return s.next(new A(B.id,this.serializeUrl(B.extractedUrl),B.source,B.restoredState)),ee!==this.transitions.getValue()?Mr.E:Promise.resolve(B)}),function(n,e,t,s){return Vn(a=>function(n,e,t,s,a){return new g(n,e,t,s,a).apply()}(n,e,t,a.extractedUrl,s).pipe((0,Nt.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,zr.b)(B=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:B.urlAfterRedirects})}),function(n,e,t,s,a){return(0,Er.zg)(l=>function(n,e,t,s,a="emptyOnly",l="legacy"){try{const p=new Jx(n,e,t,s,a,l).recognize();return null===p?us(new hl):(0,ot.of)(p)}catch(p){return us(p)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),s,a).pipe((0,Nt.U)(p=>Object.assign(Object.assign({},l),{targetSnapshot:p}))))}(this.rootComponentType,this.config,B=>this.serializeUrl(B),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,zr.b)(B=>{"eager"===this.urlUpdateStrategy&&(B.extras.skipLocationChange||this.setBrowserUrl(B.urlAfterRedirects,B),this.browserUrlTree=B.urlAfterRedirects);const ee=new Ce(B.id,this.serializeUrl(B.extractedUrl),this.serializeUrl(B.urlAfterRedirects),B.targetSnapshot);s.next(ee)}));if(M&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ee,extractedUrl:re,source:Fe,restoredState:Ze,extras:it}=v,Qt=new A(ee,this.serializeUrl(re),Fe,Ze);s.next(Qt);const Tn=gd(re,this.rootComponentType).snapshot;return(0,ot.of)(Object.assign(Object.assign({},v),{targetSnapshot:Tn,urlAfterRedirects:re,extras:Object.assign(Object.assign({},it),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),Mr.E}),fl(v=>{const{targetSnapshot:D,id:M,extractedUrl:P,rawUrl:B,extras:{skipLocationChange:ee,replaceUrl:re}}=v;return this.hooks.beforePreactivation(D,{navigationId:M,appliedUrlTree:P,rawUrlTree:B,skipLocationChange:!!ee,replaceUrl:!!re})}),(0,zr.b)(v=>{const D=new Be(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),(0,Nt.U)(v=>Object.assign(Object.assign({},v),{guards:qe(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Er.zg)(t=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:p}}=t;return 0===p.length&&0===l.length?(0,ot.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,s){return(0,Ln.D)(n).pipe((0,Er.zg)(a=>function(n,e,t,s,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,ot.of)(!0);const p=l.map(v=>{const D=pt(v,e,a);let M;if(function(n){return n&&Ta(n.canDeactivate)}(D))M=Ms(D.canDeactivate(n,e,t,s));else{if(!Ta(D))throw new Error("Invalid CanDeactivate guard");M=Ms(D(n,e,t,s))}return M.pipe(Yn())});return(0,ot.of)(p).pipe(uc())}(a.component,a.route,t,e,s)),Yn(a=>!0!==a,!0))}(p,s,a,n).pipe((0,Er.zg)(v=>v&&function(n){return"boolean"==typeof n}(v)?function(n,e,t,s){return(0,Ln.D)(e).pipe(As(a=>su(function(n,e){return null!==n&&e&&e(new Zr(n)),(0,ot.of)(!0)}(a.route.parent,s),function(n,e){return null!==n&&e&&e(new xs(n)),(0,ot.of)(!0)}(a.route,s),function(n,e,t){const s=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(p=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(p)).filter(p=>null!==p).map(p=>Qu(()=>{const v=p.guards.map(D=>{const M=pt(D,p.node,t);let P;if(function(n){return n&&Ta(n.canActivateChild)}(M))P=Ms(M.canActivateChild(s,n));else{if(!Ta(M))throw new Error("Invalid CanActivateChild guard");P=Ms(M(s,n))}return P.pipe(Yn())});return(0,ot.of)(v).pipe(uc())}));return(0,ot.of)(l).pipe(uc())}(n,a.path,t),function(n,e,t){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return(0,ot.of)(!0);const a=s.map(l=>Qu(()=>{const p=pt(l,e,t);let v;if(function(n){return n&&Ta(n.canActivate)}(p))v=Ms(p.canActivate(e,n));else{if(!Ta(p))throw new Error("Invalid CanActivate guard");v=Ms(p(e,n))}return v.pipe(Yn())}));return(0,ot.of)(a).pipe(uc())}(n,a.route,t))),Yn(a=>!0!==a,!0))}(s,l,n,e):(0,ot.of)(v)),(0,Nt.U)(v=>Object.assign(Object.assign({},t),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,zr.b)(v=>{if(fo(v.guardsResult)){const M=Em(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw M.url=v.guardsResult,M}const D=new Xe(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(D)}),Ts(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),fl(v=>{if(v.guards.canActivateChecks.length)return(0,ot.of)(v).pipe((0,zr.b)(D=>{const M=new Qe(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(M)}),Vn(D=>{let M=!1;return(0,ot.of)(D).pipe(function(n,e){return(0,Er.zg)(t=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,ot.of)(t);let l=0;return(0,Ln.D)(a).pipe(As(p=>function(n,e,t,s){return function(n,e,t,s){const a=Object.keys(n);if(0===a.length)return(0,ot.of)({});const l={};return(0,Ln.D)(a).pipe((0,Er.zg)(p=>function(n,e,t,s){const a=pt(n,e,s);return Ms(a.resolve?a.resolve(e,t):a(e,t))}(n[p],e,t,s).pipe((0,zr.b)(v=>{l[p]=v}))),Ss(1),(0,Er.zg)(()=>Object.keys(l).length===a.length?(0,ot.of)(l):Mr.E))}(n._resolve,n,e,s).pipe((0,Nt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Lh(n,t).resolve),null)))}(p.route,s,n,e)),(0,zr.b)(()=>l++),Ss(1),(0,Er.zg)(p=>l===a.length?(0,ot.of)(t):Mr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,zr.b)({next:()=>M=!0,complete:()=>{M||(this.restoreHistory(D),this.cancelNavigationTransition(D,"At least one route resolver didn't emit any value."))}}))}),(0,zr.b)(D=>{const M=new Wt(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(M)}))}),fl(v=>{const{targetSnapshot:D,id:M,extractedUrl:P,rawUrl:B,extras:{skipLocationChange:ee,replaceUrl:re}}=v;return this.hooks.afterPreactivation(D,{navigationId:M,appliedUrlTree:P,rawUrlTree:B,skipLocationChange:!!ee,replaceUrl:!!re})}),(0,Nt.U)(v=>{const D=function(n,e,t){const s=yd(n,e._root,t?t._root:void 0);return new ic(s,e)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:D})}),(0,zr.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,e,t)=>(0,Nt.U)(s=>(new Fm(e,s.targetRouterState,s.currentRouterState,t).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,zr.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new bm(n))}(()=>{var v;if(!l&&!p){const D=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,D)):this.cancelNavigationTransition(a,D)}(null===(v=this.currentNavigation)||void 0===v?void 0:v.id)===a.id&&(this.currentNavigation=null)}),ss(v=>{if(p=!0,function(n){return n&&n[nl]}(v)){const D=fo(v.url);D||(this.navigated=!0,this.restoreHistory(a,!0));const M=new H(a.id,this.serializeUrl(a.extractedUrl),v.message);s.next(M),D?setTimeout(()=>{const P=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),B={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Up(a.source)};this.scheduleNavigation(P,"imperative",null,B,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const D=new te(a.id,this.serializeUrl(a.extractedUrl),v);s.next(D);try{a.resolve(this.errorHandler(v))}catch(M){a.reject(M)}}return Mr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const s=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:p}=s,v={replaceUrl:!0};if(l){const D=Object.assign({},l);delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(v.state=D)}this.scheduleNavigation(p,a,l,v)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(t){var s;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,s){if(!t)return!0;const a=s.urlTree.toString()===t.urlTree.toString();return s.transitionId!==t.transitionId||!a||!("hashchange"===s.source&&"popstate"===t.source||"popstate"===s.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Vm(t),this.config=t.map(dl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,s={}){const{relativeTo:a,queryParams:l,fragment:p,queryParamsHandling:v,preserveFragment:D}=s,M=a||this.routerState.root,P=D?this.currentUrlTree.fragment:p;let B=null;switch(v){case"merge":B=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":B=this.currentUrlTree.queryParams;break;default:B=l||null}return null!==B&&(B=this.removeEmptyProps(B)),function(n,e,t,s,a){if(0===t.length)return Uh(e.root,e.root,e,s,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Q_(!0,0,n);let e=0,t=!1;const s=n.reduce((a,l,p)=>{if("object"==typeof l&&null!=l){if(l.outlets){const v={};return or(l.outlets,(D,M)=>{v[M]="string"==typeof D?D.split("/"):D}),[...a,{outlets:v}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===p?(l.split("/").forEach((v,D)=>{0==D&&"."===v||(0==D&&""===v?t=!0:".."===v?e++:""!=v&&a.push(v))}),a):[...a,l]},[]);return new Q_(t,e,s)}(t);if(l.toRoot())return Uh(e.root,new Bt([],{}),e,s,a);const p=function(n,e,t){if(n.isAbsolute)return new _d(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new _d(l,l===e.root,0)}const s=oc(n.commands[0])?0:1;return function(n,e,t){let s=n,a=e,l=t;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new _d(s,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(l,e,n),v=p.processChildren?vd(p.segmentGroup,p.index,l.commands):J_(p.segmentGroup,p.index,l.commands);return Uh(p.segmentGroup,v,e,s,a)}(M,this.currentUrlTree,t,B,null!=P?P:null)}navigateByUrl(t,s={skipLocationChange:!1}){const a=fo(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(t,s={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let s;try{s=this.urlSerializer.parse(t)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return s}isActive(t,s){let a;if(a=!0===s?Object.assign({},eE):!1===s?Object.assign({},av):s,fo(t))return nc(this.currentUrlTree,t,a);const l=this.parseUrl(t);return nc(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((s,a)=>{const l=t[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new N(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,s,a,l,p){var v,D;if(this.disposed)return Promise.resolve(!1);const M=this.getTransition(),P=Up(s)&&M&&!Up(M.source),re=(this.lastSuccessfulId===M.id||this.currentNavigation?M.rawUrl:M.urlAfterRedirects).toString()===t.toString();if(P&&re)return Promise.resolve(!0);let Fe,Ze,it;p?(Fe=p.resolve,Ze=p.reject,it=p.promise):it=new Promise((Xn,rn)=>{Fe=Xn,Ze=rn});const Qt=++this.navigationId;let Tn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Tn=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):Tn=0,this.setTransition({id:Qt,targetPageId:Tn,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:Fe,reject:Ze,promise:it,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),it.catch(Xn=>Promise.reject(Xn))}setBrowserUrl(t,s){const a=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===p?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===p&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,s){const a=new H(t.id,this.serializeUrl(t.extractedUrl),s);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.DyG),h.LFG(yp),h.LFG(Zh),h.LFG(ze),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Up(n){return"imperative"!==n}let pu=(()=>{class n{constructor(t,s,a){this.router=t,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new Cs.xQ,this.subscription=t.events.subscribe(l=>{l instanceof N&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,s,a,l,p){if(0!==t||s||a||l||p||"string"==typeof this.target&&"_self"!=this.target)return!0;const v={skipLocationChange:Cd(this.skipLocationChange),replaceUrl:Cd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Cd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Os),h.Y36(cl),h.Y36(Q))},n.\u0275dir=h.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,s){1&t&&h.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&(h.Ikx("href",s.href,h.LSH),h.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),n})();function Cd(n){return""===n||!!n}let Wh=(()=>{class n{constructor(t,s,a,l,p){this.parentContexts=t,this.location=s,this.resolver=a,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=l||yt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const p=(s=s||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,D=new wT(t,v,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,D),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zh),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class wT{constructor(e,t,s){this.route=e,this.childContexts=t,this.parent=s}get(e,t){return e===cl?this.route:e===Zh?this.childContexts:this.parent.get(e,t)}}class uv{}class cv{preload(e,t){return(0,ot.of)(null)}}let Wm=(()=>{class n{constructor(t,s,a,l,p){this.router=t,this.injector=l,this.preloadingStrategy=p,this.loader=new Jb(s,a,M=>t.triggerEvent(new en(M)),M=>t.triggerEvent(new gr(M)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ts(t=>t instanceof N),As(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const p=l._loadedConfig;a.push(this.processRoutes(p.module,p.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,Ln.D)(a).pipe((0,Ea.J)(),(0,Nt.U)(l=>{}))}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,ot.of)(s._loadedConfig):this.loader.load(t.injector,s)).pipe((0,Er.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Os),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(uv))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Km=(()=>{class n{constructor(t,s,a={}){this.router=t,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof A?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof N&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof wi&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.router.triggerEvent(new wi(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Os),h.LFG(Qs),h.LFG(void 0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const gu=new h.OlP("ROUTER_CONFIGURATION"),dv=new h.OlP("ROUTER_FORROOT_GUARD"),rE=[ze,{provide:yp,useClass:G_},{provide:Os,useFactory:function(n,e,t,s,a,l,p,v={},D,M){const P=new Os(null,n,e,t,s,a,l,ld(p));return D&&(P.urlHandlingStrategy=D),M&&(P.routeReuseStrategy=M),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(v,P),v.enableTracing&&P.events.subscribe(B=>{var ee,re;null===(ee=console.group)||void 0===ee||ee.call(console,`Router Event: ${B.constructor.name}`),console.log(B.toString()),console.log(B),null===(re=console.groupEnd)||void 0===re||re.call(console)}),P},deps:[yp,Zh,ze,h.zs3,h.v3s,h.Sil,Vp,gu,[class{},new h.FiY],[class{},new h.FiY]]},Zh,{provide:cl,useFactory:function(n){return n.routerState.root},deps:[Os]},{provide:h.v3s,useClass:h.EAV},Wm,cv,class{preload(e,t){return t().pipe(ss(()=>(0,ot.of)(null)))}},{provide:gu,useValue:{enableTracing:!1}}];function fv(){return new h.PXZ("Router",Os)}let Kh=(()=>{class n{constructor(t,s){}static forRoot(t,s){return{ngModule:n,providers:[rE,sE(t),{provide:dv,useFactory:ET,deps:[[Os,new h.FiY,new h.tp0]]},{provide:gu,useValue:s||{}},{provide:Q,useFactory:iE,deps:[ve,[new h.tBr(ce),new h.FiY],gu]},{provide:Km,useFactory:bT,deps:[Os,Qs,gu]},{provide:uv,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:cv},{provide:h.PXZ,multi:!0,useFactory:fv},[uE,{provide:h.ip1,multi:!0,useFactory:cE,deps:[uE]},{provide:gv,useFactory:CT,deps:[uE]},{provide:h.tb,multi:!0,useExisting:gv}]]}}static forChild(t){return{ngModule:n,providers:[sE(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(dv,8),h.LFG(Os,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function bT(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Km(n,e,t)}function iE(n,e,t={}){return t.useHash?new Se(n,e):new ye(n,e)}function ET(n){return"guarded"}function sE(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:Vp,multi:!0,useValue:n}]}let uE=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Cs.xQ}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(v=>s=v),l=this.injector.get(Os),p=this.injector.get(gu);return"disabled"===p.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,ot.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(t){const s=this.injector.get(gu),a=this.injector.get(Wm),l=this.injector.get(Km),p=this.injector.get(Os),v=this.injector.get(h.z2F);t===v.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&p.initialNavigation(),a.setUpPreloading(),l.init(),p.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function cE(n){return n.appInitializer.bind(n)}function CT(n){return n.bootstrapListener.bind(n)}const gv=new h.OlP("Router Initializer");let Ma=(()=>{class n{constructor(){var t=new Date;console.log(t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear())}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-hojaproduccion"]],decls:1,vars:0,consts:[["data-provide","datepicker"]],template:function(t,s){1&t&&h._UZ(0,"input",0)},styles:[""]}),n})();var Ae=L(8239);class mv{}var DT=L(8259),Yh=L.n(DT),TT=L(3637),Li=L(6643);function Ym(){return n=>n.lift(new AT)}class AT{call(e,t){return t.subscribe(new ST(e))}}class ST extends Ds.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class Ot{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new lE(e,this.compare,this.keySelector))}}class lE extends Ds.L{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}var et,Vo=L(8939),Ra=(L(6096),L(4486)),pl=L(5452),Qm=L(6034),mu=L(5601),Pt=L(3854),_v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},yu={},dE=dE||{},Rt=_v||self;function vv(){}function Na(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Bp="closure_uid_"+(1e9*Math.random()>>>0),n1=0;function MT(n,e,t){return n.call.apply(n.bind,arguments)}function hE(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Vi(n,e,t){return(Vi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?MT:hE).apply(null,arguments)}function Xm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function Ui(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,l){for(var p=Array(arguments.length-2),v=2;v<arguments.length;v++)p[v-2]=arguments[v];return e.prototype[a].apply(s,p)}}function dc(){this.s=this.s,this.o=this.o}var RT={};dc.prototype.s=!1,dc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Bp)&&n[Bp]||(n[Bp]=++n1)}(this);delete RT[n]}},dc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ey=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},NT=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<s;l++)l in a&&e.call(t,a[l],l,n)};function OT(n){return Array.prototype.concat.apply([],arguments)}function pE(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function wv(n){return/^[\s\xa0]*$/.test(n)}var ks,PT=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ps(n,e){return-1!=n.indexOf(e)}function gE(n,e){return n<e?-1:n>e?1:0}e:{var kT=Rt.navigator;if(kT){var FT=kT.userAgent;if(FT){ks=FT;break e}}ks=""}function _u(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function ty(n){const e={};for(const t in n)e[t]=n[t];return e}var mE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bv(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let l=0;l<mE.length;l++)t=mE[l],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function jp(n){return jp[" "](n),n}jp[" "]=vv;var iy,n,Ev=Ps(ks,"Opera"),Qh=Ps(ks,"Trident")||Ps(ks,"MSIE"),hc=Ps(ks,"Edge"),ny=hc||Qh,_E=Ps(ks,"Gecko")&&!(Ps(ks.toLowerCase(),"webkit")&&!Ps(ks,"Edge"))&&!(Ps(ks,"Trident")||Ps(ks,"MSIE"))&&!Ps(ks,"Edge"),i1=Ps(ks.toLowerCase(),"webkit")&&!Ps(ks,"Edge");function ry(){var n=Rt.document;return n?n.documentMode:void 0}e:{var sy="",Cv=(n=ks,_E?/rv:([^\);]+)(\)|;)/.exec(n):hc?/Edge\/([\d\.]+)/.exec(n):Qh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):i1?/WebKit\/(\S+)/.exec(n):Ev?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Cv&&(sy=Cv?Cv[1]:""),Qh){var Iv=ry();if(null!=Iv&&Iv>parseFloat(sy)){iy=String(Iv);break e}}iy=sy}var $p={};function Jh(){return e=$p,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=PT(String(iy)).split("."),t=PT("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==n&&p<s;p++){var a=e[p]||"",l=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=gE(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||gE(0==a[2].length,0==l[2].length)||gE(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var e}var qp=Rt.document&&Qh&&(ry()||parseInt(iy,10))||void 0,Xh=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",vv,e),Rt.removeEventListener("test",vv,e)}catch(t){}return n}();function Bi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ef(n,e){if(Bi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_E){e:{try{jp(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ef.Z.h.call(this)}}Bi.prototype.h=function(){this.defaultPrevented=!0},Ui(ef,Bi);var vE={2:"touch",3:"pen",4:"mouse"};ef.prototype.h=function(){ef.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Dd="closure_listenable_"+(1e6*Math.random()|0),Dv=0;function wE(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++Dv,this.ca=this.fa=!1}function Td(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function oy(n){this.src=n,this.g={},this.h=0}function ay(n,e){var t=e.type;if(t in n.g){var l,s=n.g[t],a=ey(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Td(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function bE(n,e,t,s){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==s)return a}return-1}oy.prototype.add=function(n,e,t,s,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var p=bE(n,e,s,a);return-1<p?(e=n[p],t||(e.fa=!1)):((e=new wE(e,this.src,l,!!s,a)).fa=t,n.push(e)),e};var uy="closure_lm_"+(1e6*Math.random()|0),cy={};function EE(n,e,t,s,a){if(s&&s.once)return CE(n,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)EE(n,e[l],t,s,a);return null}return t=TE(t),n&&n[Dd]?n.N(e,t,gl(s)?!!s.capture:!!s,a):Tv(n,e,t,!1,s,a)}function Tv(n,e,t,s,a,l){if(!e)throw Error("Invalid event type");var p=gl(a)?!!a.capture:!!a,v=DE(n);if(v||(n[uy]=v=new oy(n)),(t=v.add(e,t,s,p,l)).proxy)return t;if(s=function(){var e=s1;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)Xh||(a=p),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(IE(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function CE(n,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)CE(n,e[l],t,s,a);return null}return t=TE(t),n&&n[Dd]?n.O(e,t,gl(s)?!!s.capture:!!s,a):Tv(n,e,t,!0,s,a)}function Fs(n,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Fs(n,e[l],t,s,a);else s=gl(s)?!!s.capture:!!s,t=TE(t),n&&n[Dd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=bE(l=n.g[e],t,s,a))&&(Td(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=DE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=bE(e,t,s,a)),(t=-1<n?e[n]:null)&&Av(t))}function Av(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Dd])ay(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(IE(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=DE(e))?(ay(t,n),0==t.h&&(t.src=null,e[uy]=null)):Td(n)}}}function IE(n){return n in cy?cy[n]:cy[n]="on"+n}function s1(n,e){if(n.ca)n=!0;else{e=new ef(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&Av(n),n=t.call(s,e)}return n}function DE(n){return(n=n[uy])instanceof oy?n:null}var ly="__closure_events_fn_"+(1e9*Math.random()>>>0);function TE(n){return"function"==typeof n?n:(n[ly]||(n[ly]=function(e){return n.handleEvent(e)}),n[ly])}function ci(){dc.call(this),this.i=new oy(this),this.P=this,this.I=null}function Kr(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new Bi(e,n);else if(e instanceof Bi)e.target=e.target||n;else{var a=e;bv(e=new Bi(s,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var p=e.g=t[l];a=Gp(p,s,!0,e)&&a}if(a=Gp(p=e.g=n,s,!0,e)&&a,a=Gp(p,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Gp(p=e.g=t[l],s,!1,e)&&a}function Gp(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var p=e[l];if(p&&!p.ca&&p.capture==t){var v=p.listener,D=p.ia||p.src;p.fa&&ay(n.i,p),a=!1!==v.call(D,s)&&a}}return a&&!s.defaultPrevented}Ui(ci,dc),ci.prototype[Dd]=!0,ci.prototype.removeEventListener=function(n,e,t,s){Fs(this,n,e,t,s)},ci.prototype.M=function(){if(ci.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)Td(t[s]);delete n.g[e],n.h--}}this.I=null},ci.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},ci.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var Sv=Rt.JSON.stringify;function VT(){var n=xE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Rv,xv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new BT,n=>n.reset());class BT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function AE(n){Rt.setTimeout(()=>{throw n},0)}function Mv(n,e){Rv||function(){var n=Rt.Promise.resolve(void 0);Rv=function(){n.then(vu)}}(),dy||(Rv(),dy=!0),xE.add(n,e)}var dy=!1,xE=new class{constructor(){this.h=this.g=null}add(e,t){const s=xv.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function vu(){for(var n;n=VT();){try{n.h.call(n.g)}catch(t){AE(t)}var e=xv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}dy=!1}function tf(n,e){ci.call(this),this.h=n||1,this.g=e||Rt,this.j=Vi(this.kb,this),this.l=Date.now()}function Nv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Ov(n,e,t){if("function"==typeof n)t&&(n=Vi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Vi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function jT(n){n.g=Ov(()=>{n.g=null,n.i&&(n.i=!1,jT(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ui(tf,ci),(et=tf.prototype).da=!1,et.S=null,et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kr(this,"tick"),this.da&&(Nv(this),this.start()))}},et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.M=function(){tf.Z.M.call(this),Nv(this),delete this.g};class ME extends dc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jT(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zp(n){dc.call(this),this.h=n,this.g={}}Ui(zp,dc);var RE=[];function NE(n,e,t,s){Array.isArray(t)||(t&&(RE[0]=t.toString()),t=RE);for(var a=0;a<t.length;a++){var l=EE(e,t[a],s||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function hy(n){_u(n.g,function(e,t){this.g.hasOwnProperty(t)&&Av(e)},n),n.g={}}function fy(){this.g=!0}function ml(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var p=1;p<a.length;p++)a[p]=""}}}return Sv(t)}catch(v){return e}}(n,t)+(s?" "+s:"")})}zp.prototype.M=function(){zp.Z.M.call(this),hy(this)},zp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fy.prototype.Aa=function(){this.g=!1},fy.prototype.info=function(){};var fc={},kv=null;function gy(){return kv=kv||new ci}function OE(n){Bi.call(this,fc.Ma,n)}function Ad(n){const e=gy();Kr(e,new OE(e,n))}function qT(n,e){Bi.call(this,fc.STAT_EVENT,n),this.stat=e}function cs(n){const e=gy();Kr(e,new qT(e,n))}function Fv(n,e){Bi.call(this,fc.Na,n),this.size=e}function nf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}fc.Ma="serverreachability",Ui(OE,Bi),fc.STAT_EVENT="statevent",Ui(qT,Bi),fc.Na="timingevent",Ui(Fv,Bi);var Zp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Lv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function my(){}function Wp(){}my.prototype.h=null;var yl,Kp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vv(){Bi.call(this,"d")}function PE(){Bi.call(this,"c")}function Yp(){}function pc(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new zp(this),this.P=GT,this.W=new tf(n=ny?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rf}function rf(){this.i=null,this.g="",this.h=!1}Ui(Vv,Bi),Ui(PE,Bi),Ui(Yp,my),Yp.prototype.g=function(){return new XMLHttpRequest},Yp.prototype.i=function(){return{}},yl=new Yp;var GT=45e3,Qp={},Jp={};function Uv(n,e,t){n.K=1,n.v=zv(cn(e)),n.s=t,n.U=!0,Bv(n,null)}function Bv(n,e){n.F=Date.now(),Xp(n),n.A=cn(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),LE(t.h,"t",s),n.C=0,t=n.l.H,n.h=new rf,n.g=uw(n.l,t?e:null,!n.s),0<n.O&&(n.L=new ME(Vi(n.Ia,n,n.g),n.O)),NE(n.V,n.g,"readystatechange",n.gb),e=n.H?ty(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ad(1),function(n,e,t,s,a,l){n.info(function(){if(n.g)if(l)for(var p="",v=l.split("&"),D=0;D<v.length;D++){var M=v[D].split("=");if(1<M.length){var P=M[0];M=M[1];var B=P.split("_");p=2<=B.length&&"type"==B[1]?p+(P+"=")+M+"&":p+(P+"=redacted&")}}else p=null;else p=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.X,n.s)}function kE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function yy(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=zT(n,t),a==Jp){4==e&&(n.o=4,cs(14),s=!1),ml(n.j,n.m,null,"[Incomplete Response]");break}if(a==Qp){n.o=4,cs(15),ml(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}ml(n.j,n.m,a,null),$v(n,a)}kE(n)&&a!=Jp&&a!=Qp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,cs(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),wl(e),e.L=!0,cs(11))):(ml(n.j,n.m,t,"[Invalid Chunked Response]"),Sd(n),sf(n))}function zT(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?Jp:(t=Number(e.substring(t,s)),isNaN(t)?Qp:(s+=1)+t>e.length?Jp:(e=e.substr(s,t),n.C=s+t,e))}function Xp(n){n.Y=Date.now()+n.P,jv(n,n.P)}function jv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=nf(Vi(n.eb,n),e)}function gc(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function sf(n){0==n.l.G||n.I||kd(n.l,n)}function Sd(n){gc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Nv(n.W),hy(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function $v(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Xv(t.i,n)))if(t.I=n.N,!n.J&&Xv(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(M){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=nf(Vi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;_c(t),gf(t)}vl(t),cs(18)}if(1>=VE(t.i)&&t.ka){try{t.ka()}catch(M){}t.ka=void 0}}else jo(t,11)}else if((n.J||t.g==n)&&_c(t),!wv(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let M=a[e];if(t.U=M[0],M=M[1],2==t.G)if("c"==M[0]){t.J=M[1],t.la=M[2];const P=M[3];null!=P&&(t.ma=P,t.h.info("VER="+t.ma));const B=M[4];null!=B&&(t.za=B,t.h.info("SVER="+t.za));const ee=M[5];null!=ee&&"number"==typeof ee&&0<ee&&(t.K=s=1.5*ee,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const re=n.g;if(re){const Fe=re.g?re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fe){var l=s.i;!l.g&&(Ps(Fe,"spdy")||Ps(Fe,"quic")||Ps(Fe,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(UE(l,l.h),l.h=null))}if(s.D){const Ze=re.g?re.g.getResponseHeader("X-HTTP-Session-Id"):null;Ze&&(s.sa=Ze,jn(s.F,s.D,Ze))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var p=n;if((s=t).oa=aw(s,s.H?s.la:null,s.W),p.J){tA(s.i,p);var v=p,D=s.K;D&&v.setTimeout(D),v.B&&(gc(v),Xp(v)),s.g=p}else Od(s);0<t.l.length&&Qr(t)}else"stop"!=M[0]&&"close"!=M[0]||jo(t,7);else 3==t.G&&("stop"==M[0]||"close"==M[0]?"stop"==M[0]?jo(t,7):ow(t):"noop"!=M[0]&&t.j&&t.j.wa(M),t.A=0)}Ad(4)}catch(M){}}function Hv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Na(n)||"string"==typeof n)NT(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Na(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;a=(s=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Na(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n)).length;for(var l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],n)}}function af(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof af)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function qv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];xd(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)xd(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function xd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(et=pc.prototype).setTimeout=function(n){this.P=n},et.gb=function(n){n=n.target;const e=this.L;e&&3==Bo(n)?e.l():this.Ia(n)},et.Ia=function(n){try{if(n==this.g)e:{const P=Bo(this.g);var e=this.g.Da();const B=this.g.ba();if(!(3>P)&&(3!=P||ny||this.g&&(this.h.h||this.g.ga()||Md(this.g)))){this.I||4!=P||7==e||Ad(8==e||0>=B?3:2),gc(this);var t=this.g.ba();this.N=t;t:if(kE(this)){var s=Md(this.g);n="";var a=s.length,l=4==Bo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Sd(this),sf(this);var p="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.ga();if(this.i=200==t,function(n,e,t,s,a,l,p){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+p})}(this.j,this.u,this.A,this.m,this.X,P,t),this.i){if(this.$&&!this.J){t:{if(this.g){var v,D=this.g;if((v=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wv(v)){var M=v;break t}}M=null}if(!(t=M)){this.i=!1,this.o=3,cs(12),Sd(this),sf(this);break e}ml(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$v(this,t)}this.U?(yy(this,P,p),ny&&this.i&&3==P&&(NE(this.V,this.W,"tick",this.fb),this.W.start())):(ml(this.j,this.m,p,null),$v(this,p)),4==P&&Sd(this),this.i&&!this.I&&(4==P?kd(this.l,this):(this.i=!1,Xp(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,cs(12)):(this.o=0,cs(13)),Sd(this),sf(this)}}}catch(P){}},et.fb=function(){if(this.g){var n=Bo(this.g),e=this.g.ga();this.C<e.length&&(gc(this),yy(this,n,e),this.i&&4!=n&&Xp(this))}},et.cancel=function(){this.I=!0,Sd(this)},et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ad(3),cs(17)),Sd(this),this.o=2,sf(this)):jv(this,this.Y-n)},(et=af.prototype).R=function(){qv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},et.T=function(){return qv(this),this.g.concat()},et.get=function(n,e){return xd(this.h,n)?this.h[n]:e},et.set=function(n,e){xd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},et.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],l=this.get(a);n.call(e,l,a,this)}};var ZT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _l(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof _l){this.g=void 0!==e?e:n.g,uf(this,n.j),this.s=n.s,Gv(this,n.i),Uo(this,n.m),this.l=n.l,e=n.h;var t=new df;t.i=e.i,e.g&&(t.g=new af(e.g),t.h=e.h),_y(this,t),this.o=n.o}else n&&(t=String(n).match(ZT))?(this.g=!!e,uf(this,t[1]||"",!0),this.s=cf(t[2]||""),Gv(this,t[3]||"",!0),Uo(this,t[4]),this.l=cf(t[5]||"",!0),_y(this,t[6]||"",!0),this.o=cf(t[7]||"")):(this.g=!!e,this.h=new df(null,this.g))}function cn(n){return new _l(n)}function uf(n,e,t){n.j=t?cf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Gv(n,e,t){n.i=t?cf(e,!0):e}function Uo(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _y(n,e,t){e instanceof df?(n.h=e,function(n,e){e&&!n.j&&(mc(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Kv(this,s),LE(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=lf(e,eg)),n.h=new df(e,n.g))}function jn(n,e,t){n.h.set(e,t)}function zv(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function lf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,FE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function FE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}_l.prototype.toString=function(){var n=[],e=this.j;e&&n.push(lf(e,Zv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(lf(e,Zv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(lf(t,"/"==t.charAt(0)?JT:QT,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",lf(t,Wv)),n.join("")};var Zv=/[#\/\?@]/g,QT=/[#\?:]/g,JT=/[#\?]/g,eg=/[#\?@]/g,Wv=/#/g;function df(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function mc(n){n.g||(n.g=new af,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var l=n[t].substring(0,s);a=n[t].substring(s+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Kv(n,e){mc(n),e=hf(n,e),xd(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,xd((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&qv(n)))}function Yv(n,e){return mc(n),e=hf(n,e),xd(n.g.h,e)}function LE(n,e,t){Kv(n,e),0<t.length&&(n.i=null,n.g.set(hf(n,e),pE(t)),n.h+=t.length)}function hf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Qv(n){this.l=n||o1,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ea&&Rt.g.Ea()&&Rt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=df.prototype).add=function(n,e){mc(this),this.i=null,n=hf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){mc(this),this.g.forEach(function(t,s){NT(t,function(a){n.call(e,a,s,this)},this)},this)},et.T=function(){mc(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],l=0;l<a.length;l++)t.push(e[s]);return t},et.R=function(n){mc(this);var e=[];if("string"==typeof n)Yv(this,n)&&(e=OT(e,this.g.get(hf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=OT(e,n[t])}return e},et.set=function(n,e){return mc(this),this.i=null,Yv(this,n=hf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var p=a;""!==s[l]&&(p+="="+encodeURIComponent(String(s[l]))),n.push(p)}}return this.i=n.join("&")};var o1=10;function Jv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function VE(n){return n.h?1:n.g?n.g.size:0}function Xv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function UE(n,e){n.g?n.g.add(e):n.h=e}function tA(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function vy(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return pE(n.i)}function ew(){}function BE(){this.g=new ew}function jE(n,e,t){const s=t||"";try{Hv(n,function(a,l){let p=a;gl(a)&&(p=Sv(a)),e.push(s+l+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Ls(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(l){}}function wy(n){this.l=n.$b||null,this.j=n.ib||!1}function tw(n,e){ci.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=$E,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qv.prototype.cancel=function(){if(this.i=vy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ew.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},ew.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},Ui(wy,my),wy.prototype.g=function(){return new tw(this.l,this.j)},wy.prototype.i=function(n){return function(){return n}}({}),Ui(tw,ci);var $E=0;function nw(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ff(n){n.readyState=4,n.l=null,n.j=null,n.A=null,pf(n)}function pf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=tw.prototype).open=function(n,e){if(this.readyState!=$E)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,pf(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ff(this)),this.readyState=$E},et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,pf(this)),this.g&&(this.readyState=3,pf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Rt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nw(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ff(this):pf(this),3==this.readyState&&nw(this)}},et.Ua=function(n){this.g&&(this.response=this.responseText=n,ff(this))},et.Ta=function(n){this.g&&(this.response=n,ff(this))},et.ha=function(){this.g&&ff(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(tw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var nA=Rt.JSON.parse;function Yr(n){ci.call(this),this.headers=new af,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rw,this.K=this.L=!1}Ui(Yr,ci);var rw="",iw=/^https?$/i,rA=["POST","PUT"];function iA(n){return"content-type"==n.toLowerCase()}function HE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,qE(n),by(n)}function qE(n){n.D||(n.D=!0,Kr(n,"complete"),Kr(n,"error"))}function GE(n){if(n.h&&void 0!==dE&&(!n.C[1]||4!=Bo(n)||2!=n.ba()))if(n.v&&4==Bo(n))Ov(n.Fa,0,n);else if(Kr(n,"readystatechange"),4==Bo(n)){n.h=!1;try{const v=n.ba();e:switch(v){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===v){var a=String(n.H).match(ZT)[1]||null;if(!a&&Rt.self&&Rt.self.location){var l=Rt.self.location.protocol;a=l.substr(0,l.length-1)}s=!iw.test(a?a.toLowerCase():"")}t=s}if(t)Kr(n,"complete"),Kr(n,"success");else{n.m=6;try{var p=2<Bo(n)?n.g.statusText:""}catch(D){p=""}n.j=p+" ["+n.ba()+"]",qE(n)}}finally{by(n)}}}function by(n,e){if(n.g){zE(n);const t=n.g,s=n.C[0]?vv:null;n.g=null,n.C=null,e||Kr(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function zE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function Bo(n){return n.g?n.g.readyState:0}function Md(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case rw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function po(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function(n){let e="";return _u(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jn(n,e,t))}function yc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function WE(n){this.za=0,this.l=[],this.h=new fy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yc("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yc("baseRetryDelayMs",5e3,n),this.$a=yc("retryDelaySeedMs",1e4,n),this.Ya=yc("forwardChannelMaxRetries",2,n),this.ra=yc("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Qv(n&&n.concurrentRequestLimit),this.Ca=new BE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ow(n){if(Oa(n),3==n.G){var e=n.V++,t=cn(n.F);jn(t,"SID",n.J),jn(t,"RID",e),jn(t,"TYPE","terminate"),ji(n,t),(e=new pc(n,n.h,e,void 0)).K=2,e.v=zv(cn(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=uw(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Xp(e)}Ld(n)}function gf(n){n.g&&(wl(n),n.g.cancel(),n.g=null)}function Oa(n){gf(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),_c(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function Rd(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Qr(n)}function Qr(n){Jv(n.i)||n.m||(n.m=!0,Mv(n.Ha,n),n.C=0)}function tg(n,e){var t;t=e?e.m:n.V++;const s=cn(n.F);jn(s,"SID",n.J),jn(s,"RID",t),jn(s,"AID",n.U),ji(n,s),n.o&&n.s&&po(s,n.o,n.s),t=new pc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Ey(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),UE(n.i,t),Uv(t,s,e)}function ji(n,e){n.j&&Hv({},function(t,s){jn(e,s,t)})}function Ey(n,e,t){t=Math.min(n.l.length,t);var s=n.j?Vi(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const p=["count="+t];-1==l?0<t?(l=a[0].h,p.push("ofs="+l)):l=0:p.push("ofs="+l);let v=!0;for(let D=0;D<t;D++){let M=a[D].h;const P=a[D].g;if(M-=l,0>M)l=Math.max(0,a[D].h-100),v=!1;else try{jE(P,p,"req"+M+"_")}catch(B){s&&s(P)}}if(v){s=p.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function Od(n){n.g||n.u||(n.Y=1,Mv(n.Ga,n),n.A=0)}function vl(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=nf(Vi(n.Ga,n),Fd(n,n.A)),n.A++,0))}function wl(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function Pd(n){n.g=new pc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=cn(n.oa);jn(e,"RID","rpc"),jn(e,"SID",n.J),jn(e,"CI",n.N?"0":"1"),jn(e,"AID",n.U),ji(n,e),jn(e,"TYPE","xmlhttp"),n.o&&n.s&&po(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=zv(cn(e)),t.s=null,t.U=!0,Bv(t,n)}function _c(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function kd(n,e){var t=null;if(n.g==e){_c(n),wl(n),n.g=null;var s=2}else{if(!Xv(n.i,e))return;t=e.D,tA(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Kr(s=gy(),new Fv(s,t,e,a)),Qr(n)}else Od(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function(n,e){return!(VE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=nf(Vi(n.Ha,n,e),Fd(n,n.C)),n.C++,0)))}(n,e)||2==s&&vl(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:jo(n,5);break;case 4:jo(n,10);break;case 3:jo(n,6);break;default:jo(n,2)}}function Fd(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function jo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=Vi(n.jb,n);t||(t=new _l("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||uf(t,"https"),zv(t)),function(n,e){const t=new fy;if(Rt.Image){const s=new Image;s.onload=Xm(Ls,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Xm(Ls,t,s,"TestLoadImage: error",!1,e),s.onabort=Xm(Ls,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Xm(Ls,t,s,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else cs(2);n.G=0,n.j&&n.j.va(e),Ld(n),Oa(n)}function Ld(n){n.G=0,n.I=-1,n.j&&((0!=vy(n.i).length||0!=n.l.length)&&(n.i.i.length=0,pE(n.l),n.l.length=0),n.j.ua())}function aw(n,e,t){let s=function(n){return n instanceof _l?cn(n):new _l(n,void 0)}(t);if(""!=s.i)e&&Gv(s,e+"."+s.i),Uo(s,s.m);else{const a=Rt.location;s=function(n,e,t,s){var a=new _l(null,void 0);return n&&uf(a,n),e&&Gv(a,e),t&&Uo(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&_u(n.aa,function(a,l){jn(s,l,a)}),t=n.sa,(e=n.D)&&t&&jn(s,e,t),jn(s,"VER",n.ma),ji(n,s),s}function uw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yr(t&&n.Ba&&!n.qa?new wy({ib:!0}):n.qa)).L=n.H,e}function cw(){}function ng(){if(Qh&&!(10<=Number(qp)))throw Error("Environmental error: no available transport.")}function Vs(n,e){ci.call(this),this.g=new WE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!wv(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wv(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Vd(this)}function lw(n){Vv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dw(){PE.call(this),this.status=1}function Vd(n){this.g=n}(et=Yr.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yl.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:yl),this.g.onreadystatechange=Vi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void HE(this,l)}n=t||"";const a=new af(this.headers);s&&Hv(s,function(l,p){a.set(p,l)}),s=function(n){e:{var e=iA;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=Rt.FormData&&n instanceof Rt.FormData,!(0<=ey(rA,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,p){this.g.setRequestHeader(p,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zE(this),0<this.B&&((this.K=function(n){return Qh&&Jh()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vi(this.pa,this)):this.A=Ov(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){HE(this,l)}},et.pa=function(){void 0!==dE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kr(this,"complete"),Kr(this,"abort"),by(this))},et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),by(this,!0)),Yr.Z.M.call(this)},et.Fa=function(){this.s||(this.F||this.v||this.l?GE(this):this.cb())},et.cb=function(){GE(this)},et.ba=function(){try{return 2<Bo(this)?this.g.status:-1}catch(n){return-1}},et.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},et.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),nA(e)}},et.Da=function(){return this.m},et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=WE.prototype).ma=8,et.G=1,et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new pc(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=ty(l),bv(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ey(this,a,e),jn(t=cn(this.F),"RID",n),jn(t,"CVER",22),this.D&&jn(t,"X-HTTP-Session-Id",this.D),ji(this,t),this.o&&l&&po(t,this.o,l),UE(this.i,a),this.Ra&&jn(t,"TYPE","init"),this.ja?(jn(t,"$req",e),jn(t,"SID","null"),a.$=!0,Uv(a,t,null)):Uv(a,t,e),this.G=2}}else 3==this.G&&(n?tg(this,n):0==this.l.length||Jv(this.i)||tg(this))},et.Ga=function(){if(this.u=null,Pd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=nf(Vi(this.bb,this),n)}},et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,cs(10),gf(this),Pd(this))},et.ab=function(){null!=this.v&&(this.v=null,gf(this),vl(this),cs(19))},et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),cs(2)):(this.h.info("Failed to ping google.com"),cs(1))},(et=cw.prototype).xa=function(){},et.wa=function(){},et.va=function(){},et.ua=function(){},et.Oa=function(){},ng.prototype.g=function(n,e){return new Vs(n,e)},Ui(Vs,ci),Vs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Mv(Vi(n.hb,n,e))),cs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=aw(n,null,n.W),Qr(n)},Vs.prototype.close=function(){ow(this.g)},Vs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Rd(this.g,e)}else this.v?((e={}).__data__=Sv(n),Rd(this.g,e)):Rd(this.g,n)},Vs.prototype.M=function(){this.g.j=null,delete this.j,ow(this.g),delete this.g,Vs.Z.M.call(this)},Ui(lw,Vv),Ui(dw,PE),Ui(Vd,cw),Vd.prototype.xa=function(){Kr(this.g,"a")},Vd.prototype.wa=function(n){Kr(this.g,new lw(n))},Vd.prototype.va=function(n){Kr(this.g,new dw(n))},Vd.prototype.ua=function(){Kr(this.g,"b")},ng.prototype.createWebChannel=ng.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,Zp.NO_ERROR=0,Zp.TIMEOUT=8,Zp.HTTP_ERROR=6,Lv.COMPLETE="complete",Wp.EventType=Kp,Kp.OPEN="a",Kp.CLOSE="b",Kp.ERROR="c",Kp.MESSAGE="d",ci.prototype.listen=ci.prototype.N,Yr.prototype.listenOnce=Yr.prototype.O,Yr.prototype.getLastError=Yr.prototype.La,Yr.prototype.getLastErrorCode=Yr.prototype.Da,Yr.prototype.getStatus=Yr.prototype.ba,Yr.prototype.getResponseJson=Yr.prototype.Qa,Yr.prototype.getResponseText=Yr.prototype.ga,Yr.prototype.send=Yr.prototype.ea;var KE=yu.createWebChannelTransport=function(){return new ng},sA=yu.getStatEventTarget=function(){return gy()},Cy=yu.ErrorCode=Zp,oA=yu.EventType=Lv,aA=yu.Event=fc,hw=yu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},uA=yu.FetchXmlHttpFactory=wy,fw=yu.WebChannel=Wp,cA=yu.XhrIo=Yr;const pw="@firebase/firestore";class Ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");let Ud="9.2.0";const bl=new mu.Yd("@firebase/firestore");function gw(){return bl.logLevel}function $e(n,...e){if(bl.logLevel<=mu.in.DEBUG){const t=e.map(YE);bl.debug(`Firestore (${Ud}): ${n}`,...t)}}function Ir(n,...e){if(bl.logLevel<=mu.in.ERROR){const t=e.map(YE);bl.error(`Firestore (${Ud}): ${n}`,...t)}}function Iy(n,...e){if(bl.logLevel<=mu.in.WARN){const t=e.map(YE);bl.warn(`Firestore (${Ud}): ${n}`,...t)}}function YE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ht(n="Unexpected state"){const e=`FIRESTORE (${Ud}) INTERNAL ASSERTION FAILED: `+n;throw Ir(e),new Error(e)}function Dt(n,e){n||ht()}function We(n,e){return n}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class QE{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class l1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ci.UNAUTHENTICATED))}shutdown(){}}class d1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class h1{constructor(e){this.t=e,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=M=>this.i!==a?(a=this.i,t(M)):Promise.resolve();let p=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Nr,e.enqueueRetryable(()=>l(this.currentUser))};const v=()=>{const M=p;e.enqueueRetryable((0,Ae.Z)(function*(){yield M.promise,yield l(s.currentUser)}))},D=M=>{$e("FirebaseCredentialsProvider","Auth detected"),this.auth=M,this.auth.addAuthTokenListener(this.o),v()};this.t.onInit(M=>D(M)),setTimeout(()=>{if(!this.auth){const M=this.t.getImmediate({optional:!0});M?D(M):($e("FirebaseCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Nr)}},0),v()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?($e("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Dt("string"==typeof s.accessToken),new QE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dt(null===e||"string"==typeof e),new Ci(e)}}class lA{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Ci.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class JE{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new lA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $o{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.g(s),this.p=s=>t.writeSequenceNumber(s))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function dA(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}$o.T=-1;class Bd{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=dA(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function Kt(n,e){return n<e?-1:n>e?1:0}function jd(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function XE(n){return n+"\0"}class Jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jr.fromMillis(Date.now())}static fromDate(e){return Jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Jr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new Jr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function eC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function El(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rg{constructor(e,t,s){void 0===t?t=0:t>e.length&&ht(),void 0===s?s=e.length-t:s>e.length-t&&ht(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===rg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rg?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),p=t.get(a);if(l<p)return-1;if(l>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends rg{construct(e,t,s){return new mn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ue(Ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const hA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends rg{construct(e,t,s){return new Ii(e,t,s)}static isValidIdentifier(e){return hA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ii(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Ue(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const v=e[a];if("\\"===v){if(a+1===e.length)throw new Ue(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const D=e[a+1];if("\\"!==D&&"."!==D&&"`"!==D)throw new Ue(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=D,a+=2}else"`"===v?(p=!p,a++):"."!==v||p?(s+=v,a++):(l(),a++)}if(l(),p)throw new Ue(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ii(t)}static emptyPath(){return new Ii([])}}class $d{constructor(e){this.fields=e,e.sort(Ii.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jd(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Xr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xr.EMPTY_BYTE_STRING=new Xr("");const nC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bu(n){if(Dt(!!n),"string"==typeof n){let e=0;const t=nC.exec(n);if(Dt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ei(n.seconds),nanos:ei(n.nanos)}}function ei(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Cl(n){return"string"==typeof n?Xr.fromBase64String(n):Xr.fromUint8Array(n)}function mw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function pA(n){const e=n.mapValue.fields.__previous_value__;return mw(e)?pA(e):e}function vc(n){const e=bu(n.mapValue.fields.__local_write_time__.timestampValue);return new Jr(e.seconds,e.nanos)}function Hd(n){return null==n}function mf(n){return 0===n&&1/n==-1/0}function Dy(n){return"number"==typeof n&&Number.isInteger(n)&&!mf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ut{constructor(e){this.path=e}static fromPath(e){return new ut(mn.fromString(e))}static fromName(e){return new ut(mn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new mn(e.slice()))}}function wc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mw(n)?4:10:ht()}function Ho(n,e){const t=wc(n);if(t!==wc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vc(n).isEqual(vc(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=bu(s.timestampValue),p=bu(a.timestampValue);return l.seconds===p.seconds&&l.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Cl(n.bytesValue).isEqual(Cl(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ei(s.geoPointValue.latitude)===ei(a.geoPointValue.latitude)&&ei(s.geoPointValue.longitude)===ei(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ei(s.integerValue)===ei(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=ei(s.doubleValue),p=ei(a.doubleValue);return l===p?mf(l)===mf(p):isNaN(l)&&isNaN(p)}return!1}(n,e);case 9:return jd(n.arrayValue.values||[],e.arrayValue.values||[],Ho);case 10:return function(s,a){const l=s.mapValue.fields||{},p=a.mapValue.fields||{};if(eC(l)!==eC(p))return!1;for(const v in l)if(l.hasOwnProperty(v)&&(void 0===p[v]||!Ho(l[v],p[v])))return!1;return!0}(n,e);default:return ht()}var a}function yf(n,e){return void 0!==(n.values||[]).find(t=>Ho(t,e))}function ig(n,e){const t=wc(n),s=wc(e);if(t!==s)return Kt(t,s);switch(t){case 0:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const p=ei(a.integerValue||a.doubleValue),v=ei(l.integerValue||l.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(n,e);case 3:return rC(n.timestampValue,e.timestampValue);case 4:return rC(vc(n),vc(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(a,l){const p=Cl(a),v=Cl(l);return p.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const p=a.split("/"),v=l.split("/");for(let D=0;D<p.length&&D<v.length;D++){const M=Kt(p[D],v[D]);if(0!==M)return M}return Kt(p.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const p=Kt(ei(a.latitude),ei(l.latitude));return 0!==p?p:Kt(ei(a.longitude),ei(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const p=a.values||[],v=l.values||[];for(let D=0;D<p.length&&D<v.length;++D){const M=ig(p[D],v[D]);if(M)return M}return Kt(p.length,v.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const p=a.fields||{},v=Object.keys(p),D=l.fields||{},M=Object.keys(D);v.sort(),M.sort();for(let P=0;P<v.length&&P<M.length;++P){const B=Kt(v[P],M[P]);if(0!==B)return B;const ee=ig(p[v[P]],D[M[P]]);if(0!==ee)return ee}return Kt(v.length,M.length)}(n.mapValue,e.mapValue);default:throw ht()}}function rC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=bu(n),s=bu(e),a=Kt(t.seconds,s.seconds);return 0!==a?a:Kt(t.nanos,s.nanos)}function Ty(n){return Ay(n)}function Ay(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=bu(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Cl(n.bytesValue).toBase64():"referenceValue"in n?ut.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",l=!0;for(const p of s.values||[])l?l=!1:a+=",",a+=Ay(p);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",p=!0;for(const v of a)p?p=!1:l+=",",l+=`${v}:${Ay(s.fields[v])}`;return l+"}"}(n.mapValue):ht();var e}function Sy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xy(n){return!!n&&"integerValue"in n}function sg(n){return!!n&&"arrayValue"in n}function yw(n){return!!n&&"nullValue"in n}function My(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _f(n){return!!n&&"mapValue"in n}function vf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return El(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=vf(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vf(n.arrayValue.values[t]);return e}return Object.assign({},n)}class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!_f(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vf(t)}setAll(e){let t=Ii.emptyPath(),s={},a=[];e.forEach((p,v)=>{if(!t.isImmediateParentOf(v)){const D=this.getFieldsMap(t);this.applyChanges(D,s,a),s={},a=[],t=v.popLast()}p?s[v.lastSegment()]=vf(p):a.push(v.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());_f(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ho(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];_f(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){El(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new $i(vf(this.value))}}function _w(n){const e=[];return El(n.fields,(t,s)=>{const a=new Ii([t]);if(_f(s)){const l=_w(s.mapValue).fields;if(0===l.length)e.push(a);else for(const p of l)e.push(a.child(p))}else e.push(a)}),new $d(e)}class zn{constructor(e,t,s,a,l){this.key=e,this.documentType=t,this.version=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new zn(e,0,kt.min(),$i.empty(),0)}static newFoundDocument(e,t,s){return new zn(e,1,t,s,0)}static newNoDocument(e,t){return new zn(e,2,t,$i.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,$i.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new zn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vw{constructor(e,t=null,s=[],a=[],l=null,p=null,v=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=p,this.endAt=v,this.A=null}}function ww(n,e=null,t=[],s=[],a=null,l=null,p=null){return new vw(n,e,t,s,a,l,p)}function og(n){const e=We(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>function(n){return n.field.canonicalString()+n.op.toString()+Ty(n.value)}(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Hd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Ny(e.startAt)),e.endAt&&(t+="|ub:",t+=Ny(e.endAt)),e.A=t}return e.A}function Ry(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!mA(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!Ho(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ew(n.startAt,e.startAt)&&Ew(n.endAt,e.endAt)}function ag(n){return ut.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Di extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,s):new sC(e,t,s):"array-contains"===t?new uC(e,s):"in"===t?new cC(e,s):"not-in"===t?new lC(e,s):"array-contains-any"===t?new f1(e,s):new Di(e,t,s)}static R(e,t,s){return"in"===t?new oC(e,s):new aC(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(ig(t,this.value)):null!==t&&wc(this.value)===wc(t)&&this.P(ig(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ht()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sC extends Di{constructor(e,t,s){super(e,t,s),this.key=ut.fromName(s.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.P(t)}}class oC extends Di{constructor(e,t){super(e,"in",t),this.keys=bw(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aC extends Di{constructor(e,t){super(e,"not-in",t),this.keys=bw(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bw(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>ut.fromName(s.referenceValue))}class uC extends Di{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sg(t)&&yf(t.arrayValue,this.value)}}class cC extends Di{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yf(this.value.arrayValue,t)}}class lC extends Di{constructor(e,t){super(e,"not-in",t)}matches(e){if(yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yf(this.value.arrayValue,t)}}class f1 extends Di{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>yf(this.value.arrayValue,s))}}class ug{constructor(e,t){this.position=e,this.before=t}}function Ny(n){return`${n.before?"b":"a"}:${n.position.map(e=>Ty(e)).join(",")}`}class qd{constructor(e,t="asc"){this.field=e,this.dir=t}}function mA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Or(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],p=n.position[a];if(s=l.field.isKeyField()?ut.comparator(ut.fromName(p.referenceValue),t.key):ig(p,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return n.before?s<=0:s<0}function Ew(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ho(n.position[t],e.position[t]))return!1;return!0}class bc{constructor(e,t=null,s=[],a=[],l=null,p="F",v=null,D=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=p,this.startAt=v,this.endAt=D,this.V=null,this.S=null}}function dC(n,e,t,s,a,l,p,v){return new bc(n,e,t,s,a,l,p,v)}function Gd(n){return new bc(n)}function Oy(n){return!Hd(n.limit)&&"F"===n.limitType}function cg(n){return!Hd(n.limit)&&"L"===n.limitType}function Py(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Il(n){for(const e of n.filters)if(e.v())return e.field;return null}function Cw(n){return null!==n.collectionGroup}function wf(n){const e=We(n);if(null===e.V){e.V=[];const t=Il(e),s=Py(e);if(null!==t&&null===s)t.isKeyField()||e.V.push(new qd(t)),e.V.push(new qd(Ii.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new qd(Ii.keyField(),l))}}}return e.V}function go(n){const e=We(n);if(!e.S)if("F"===e.limitType)e.S=ww(e.path,e.collectionGroup,wf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of wf(e))t.push(new qd(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new ug(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ug(e.startAt.position,!e.startAt.before):null;e.S=ww(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.S}function hC(n,e,t){return new bc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bf(n,e){return Ry(go(n),go(e))&&n.limitType===e.limitType}function yA(n){return`${og(go(n))}|lt:${n.limitType}`}function ky(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${Ty(s.value)}`;var s}).join(", ")}]`),Hd(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Ny(n.startAt)),n.endAt&&(e+=", endAt: "+Ny(n.endAt)),`Target(${e})`}(go(n))}; limitType=${n.limitType})`}function zd(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):ut.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!Or(t.startAt,wf(t),s)||t.endAt&&Or(t.endAt,wf(t),s)));var t,s}function Pa(n){return(e,t)=>{let s=!1;for(const a of wf(n)){const l=_A(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function _A(n,e,t){const s=n.field.isKeyField()?ut.comparator(e.key,t.key):function(a,l,p){const v=l.data.field(a),D=p.data.field(a);return null!==v&&null!==D?ig(v,D):ht()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return ht()}}function fC(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(e)?"-0":e}}function ka(n){return{integerValue:""+n}}function qo(n,e){return Dy(e)?ka(e):fC(n,e)}class Us{constructor(){this._=void 0}}function pC(n,e,t){return n instanceof Ef?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof Zd?yC(n,e):n instanceof Ec?Cf(n,e):function(s,a){const l=mC(s,a),p=Iw(l)+Iw(s.C);return xy(l)&&xy(s.C)?ka(p):fC(s.N,p)}(n,e)}function gC(n,e,t){return n instanceof Zd?yC(n,e):n instanceof Ec?Cf(n,e):t}function mC(n,e){return n instanceof If?xy(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ef extends Us{}class Zd extends Us{constructor(e){super(),this.elements=e}}function yC(n,e){const t=_C(e);for(const s of n.elements)t.some(a=>Ho(a,s))||t.push(s);return{arrayValue:{values:t}}}class Ec extends Us{constructor(e){super(),this.elements=e}}function Cf(n,e){let t=_C(e);for(const s of n.elements)t=t.filter(a=>!Ho(a,s));return{arrayValue:{values:t}}}class If extends Us{constructor(e,t){super(),this.N=e,this.C=t}}function Iw(n){return ei(n.integerValue||n.doubleValue)}function _C(n){return sg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Df{constructor(e,t){this.field=e,this.transform=t}}class Fy{constructor(e,t){this.version=e,this.transformResults=t}}class Pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class dg{}function Dw(n,e,t){n instanceof Af?function(s,a,l){const p=s.value.clone(),v=Sw(s.fieldTransforms,a,l.transformResults);p.setAll(v),a.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):n instanceof Cc?function(s,a,l){if(!lg(s.precondition,a))return void a.convertToUnknownDocument(l.version);const p=Sw(s.fieldTransforms,a,l.transformResults),v=a.data;v.setAll(Aw(s)),v.setAll(p),a.convertToFoundDocument(l.version,v).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tf(n,e,t){var a;n instanceof Af?function(s,a,l){if(!lg(s.precondition,a))return;const p=s.value.clone(),v=xw(s.fieldTransforms,l,a);p.setAll(v),a.convertToFoundDocument(Ly(a),p).setHasLocalMutations()}(n,e,t):n instanceof Cc?function(s,a,l){if(!lg(s.precondition,a))return;const p=xw(s.fieldTransforms,l,a),v=a.data;v.setAll(Aw(s)),v.setAll(p),a.convertToFoundDocument(Ly(a),v).setHasLocalMutations()}(n,e,t):lg(n.precondition,a=e)&&a.convertToNoDocument(kt.min())}function wC(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=mC(s.transform,a||null);null!=l&&(null==t&&(t=$i.empty()),t.set(s.field,l))}return t||null}function Tw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&jd(t,s,(a,l)=>function(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof Zd&&s instanceof Zd||t instanceof Ec&&s instanceof Ec?jd(t.elements,s.elements,Ho):t instanceof If&&s instanceof If?Ho(t.C,s.C):t instanceof Ef&&s instanceof Ef);var t,s}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function Ly(n){return n.isFoundDocument()?n.version:kt.min()}class Af extends dg{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class Cc extends dg{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}}function Aw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function Sw(n,e,t){const s=new Map;Dt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],p=l.transform,v=e.data.field(l.field);s.set(l.field,gC(p,v,t[a]))}return s}function xw(n,e,t){const s=new Map;for(const a of n){const l=a.transform,p=t.data.field(a.field);s.set(a.field,pC(l,p,e))}return s}class hg extends dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Mw extends dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class vA{constructor(e){this.count=e}}var kr,tn;function bC(n){switch(n){default:return ht();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function EC(n){if(void 0===n)return Ir("GRPC error has no .code"),Ie.UNKNOWN;switch(n){case kr.OK:return Ie.OK;case kr.CANCELLED:return Ie.CANCELLED;case kr.UNKNOWN:return Ie.UNKNOWN;case kr.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case kr.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case kr.INTERNAL:return Ie.INTERNAL;case kr.UNAVAILABLE:return Ie.UNAVAILABLE;case kr.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case kr.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case kr.NOT_FOUND:return Ie.NOT_FOUND;case kr.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case kr.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case kr.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case kr.ABORTED:return Ie.ABORTED;case kr.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case kr.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case kr.DATA_LOSS:return Ie.DATA_LOSS;default:return ht()}}(tn=kr||(kr={}))[tn.OK=0]="OK",tn[tn.CANCELLED=1]="CANCELLED",tn[tn.UNKNOWN=2]="UNKNOWN",tn[tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tn[tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tn[tn.NOT_FOUND=5]="NOT_FOUND",tn[tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",tn[tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",tn[tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",tn[tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tn[tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tn[tn.ABORTED=10]="ABORTED",tn[tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",tn[tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",tn[tn.INTERNAL=13]="INTERNAL",tn[tn.UNAVAILABLE=14]="UNAVAILABLE",tn[tn.DATA_LOSS=15]="DATA_LOSS";class ti{constructor(e,t){this.comparator=e,this.root=t||Ti.EMPTY}insert(e,t){return new ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ti.BLACK,null,null))}remove(e){return new ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vy(this.root,e,this.comparator,!0)}}class Vy{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ti{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=null!=s?s:Ti.RED,this.left=null!=a?a:Ti.EMPTY,this.right=null!=l?l:Ti.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Ti(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ti.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ti.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ti.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ti.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1,Ti.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,e,t,s,a){return this}insert(n,e,t){return new Ti(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mr{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CC(this.data.getIterator())}getIteratorFrom(e){return new CC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof mr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mr(this.comparator);return t.data=e,t}}class CC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const wA=new ti(ut.comparator);function Go(){return wA}const bA=new ti(ut.comparator);function Rw(){return bA}const EA=new ti(ut.comparator);function IC(){return EA}const DC=new mr(ut.comparator);function En(...n){let e=DC;for(const t of n)e=e.add(t);return e}const TC=new mr(Kt);function fg(){return TC}class Sf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,t)),new Sf(kt.min(),s,fg(),Go(),En())}}class xf{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new xf(Xr.EMPTY_BYTE_STRING,t,En(),En(),En())}}class pg{constructor(e,t,s,a){this.k=e,this.removedTargetIds=t,this.key=s,this.$=a}}class Nw{constructor(e,t){this.targetId=e,this.O=t}}class Ow{constructor(e,t,s=Xr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Uy{constructor(){this.F=0,this.M=SC(),this.L=Xr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=En(),t=En(),s=En();return this.M.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:ht()}}),new xf(this.L,this.B,e,t,s)}G(){this.U=!1,this.M=SC()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class AC{constructor(e){this.tt=e,this.et=new Map,this.nt=Go(),this.st=Dl(),this.it=new mr(Kt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const s=this.ut(t);switch(e.state){case 0:this.ht(t)&&s.j(e.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(e.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(t);break;case 3:this.ht(t)&&(s.Z(),s.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),s.j(e.resumeToken));break;default:ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((s,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,s=e.O.count,a=this.dt(t);if(a){const l=a.target;if(ag(l))if(0===s){const p=new ut(l.path);this.ct(t,p,zn.newNoDocument(p,kt.min()))}else Dt(1===s);else this.wt(t)!==s&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,p)=>{const v=this.dt(p);if(v){if(l.current&&ag(v.target)){const D=new ut(v.target.path);null!==this.nt.get(D)||this.gt(p,D)||this.ct(p,D,zn.newNoDocument(D,e))}l.K&&(t.set(p,l.W()),l.G())}});let s=En();this.st.forEach((l,p)=>{let v=!0;p.forEachWhile(D=>{const M=this.dt(D);return!M||2===M.purpose||(v=!1,!1)}),v&&(s=s.add(l))});const a=new Sf(e,t,this.it,this.nt,s);return this.nt=Go(),this.st=Dl(),this.it=new mr(Kt),a}ot(e,t){if(!this.ht(e))return;const s=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,s),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,s){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),s&&(this.nt=this.nt.insert(t,s))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Uy,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new mr(Kt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new Uy),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Dl(){return new ti(ut.comparator)}function SC(){return new ti(ut.comparator)}const CA={asc:"ASCENDING",desc:"DESCENDING"},Mf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class p1{constructor(e,t){this.databaseId=e,this.D=t}}function Wd(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IA(n,e){return n.D?e.toBase64():e.toUint8Array()}function xC(n,e){return Wd(n,e.toTimestamp())}function ni(n){return Dt(!!n),kt.fromTimestamp(function(e){const t=bu(e);return new Jr(t.seconds,t.nanos)}(n))}function MC(n,e){return(t=n,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gt(n){const e=mn.fromString(n);return Dt(UC(e)),e}function gg(n,e){return MC(n.databaseId,e.path)}function Eu(n,e){const t=gt(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(_g(t))}function Pw(n,e){return MC(n.databaseId,e)}function mg(n){const e=gt(n);return 4===e.length?mn.emptyPath():_g(e)}function yg(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _g(n){return Dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function vg(n,e,t){return{name:gg(n,e),fields:t.value.mapValue.fields}}function ar(n,e,t){const s=Eu(n,e.name),a=ni(e.updateTime),l=new $i({mapValue:{fields:e.fields}}),p=zn.newFoundDocument(s,a,l);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function Rf(n,e){let t;if(e instanceof Af)t={update:vg(n,e.key,e.value)};else if(e instanceof hg)t={delete:gg(n,e.key)};else if(e instanceof Cc)t={update:vg(n,e.key,e.data),updateMask:VC(e.fieldMask)};else{if(!(e instanceof Mw))return ht();t={verify:gg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const p=l.transform;if(p instanceof Ef)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Zd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ec)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof If)return{fieldPath:l.field.canonicalString(),increment:p.C};throw ht()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:xC(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:ht()),t;var a}function NC(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Pr.updateTime(ni(a.updateTime)):void 0!==a.exists?Pr.exists(a.exists):Pr.none():Pr.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(l,p){let v=null;"setToServerValue"in p?(Dt("REQUEST_TIME"===p.setToServerValue),v=new Ef):"appendMissingElements"in p?v=new Zd(p.appendMissingElements.values||[]):"removeAllFromArray"in p?v=new Ec(p.removeAllFromArray.values||[]):"increment"in p?v=new If(l,p.increment):ht();const D=Ii.fromServerFormat(p.fieldPath);return new Df(D,v)}(n,a)):[];var a;if(e.update){const a=Eu(n,e.update.name),l=new $i({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new $d((e.updateMask.fieldPaths||[]).map(M=>Ii.fromServerFormat(M)));return new Cc(a,l,p,t,s)}return new Af(a,l,t,s)}if(e.delete){const a=Eu(n,e.delete);return new hg(a,t)}if(e.verify){const a=Eu(n,e.verify);return new Mw(a,t)}return ht()}function kw(n,e){return{documents:[Pw(n,e.path)]}}function Fw(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Pw(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Pw(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(v){if(0===v.length)return;const D=v.map(M=>function(P){if("=="===P.op){if(My(P.value))return{unaryFilter:{field:Of(P.field),op:"IS_NAN"}};if(yw(P.value))return{unaryFilter:{field:Of(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(My(P.value))return{unaryFilter:{field:Of(P.field),op:"IS_NOT_NAN"}};if(yw(P.value))return{unaryFilter:{field:Of(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Of(P.field),op:AA(P.op),value:P.value}}}(M));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(v){if(0!==v.length)return v.map(D=>{return{field:Of((M=D).field),direction:TA(M.dir)};var M})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const p=(D=e.limit,n.D||Hd(D)?D:{value:D});var D;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=kC(e.startAt)),e.endAt&&(t.structuredQuery.endAt=kC(e.endAt)),t}function Lw(n){let e=mg(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Dt(1===s);const P=t.from[0];P.allDescendants?a=P.collectionId:e=e.child(P.collectionId)}let l=[];t.where&&(l=PC(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(P=>{return new qd(Ic((B=P).field),function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction));var B}));let v=null;t.limit&&(v=function(P){let B;return B="object"==typeof P?P.value:P,Hd(B)?null:B}(t.limit));let D=null;t.startAt&&(D=Nf(t.startAt));let M=null;return t.endAt&&(M=Nf(t.endAt)),dC(e,a,p,l,v,"F",D,M)}function PC(n){return n?void 0!==n.unaryFilter?[LC(n)]:void 0!==n.fieldFilter?[FC(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>PC(e)).reduce((e,t)=>e.concat(t)):ht():[]}function kC(n){return{before:n.before,values:n.position}}function Nf(n){return new ug(n.values||[],!!n.before)}function TA(n){return CA[n]}function AA(n){return Mf[n]}function Of(n){return{fieldPath:n.canonicalString()}}function Ic(n){return Ii.fromServerFormat(n.fieldPath)}function FC(n){return Di.create(Ic(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(n.fieldFilter.op),n.fieldFilter.value)}function LC(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ic(n.unaryFilter.field);return Di.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ic(n.unaryFilter.field);return Di.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ic(n.unaryFilter.field);return Di.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ic(n.unaryFilter.field);return Di.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}function VC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UC(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ls(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=BC(e)),e=wg(n.get(t),e);return BC(e)}function wg(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function BC(n){return n+"\x01\x01"}function Dc(n){const e=n.length;if(Dt(e>=2),2===e)return Dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mn.emptyPath();const t=e-2,s=[];let a="";for(let l=0;l<e;){const p=n.indexOf("\x01",l);switch((p<0||p>t)&&ht(),n.charAt(p+1)){case"\x01":const v=n.substring(l,p);let D;0===a.length?D=v:(a+=v,D=a,a=""),s.push(D);break;case"\x10":a+=n.substring(l,p),a+="\0";break;case"\x11":a+=n.substring(l,p+1);break;default:ht()}l=p+2}return new mn(s)}class SA{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Bs{constructor(e,t,s){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=s}}Bs.store="owner",Bs.key="owner";class Tc{constructor(e,t,s){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=s}}Tc.store="mutationQueues",Tc.keyPath="userId";class $n{constructor(e,t,s,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=l}}$n.store="mutations",$n.keyPath="batchId",$n.userMutationsIndex="userMutationsIndex",$n.userMutationsKeyPath=["userId","batchId"];class Hi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,ls(t)]}static key(e,t,s){return[e,ls(t),s]}}Hi.store="documentMutations",Hi.PLACEHOLDER=new Hi;class jC{constructor(e,t){this.path=e,this.readTime=t}}class xA{constructor(e,t){this.path=e,this.version=t}}class yr{constructor(e,t,s,a,l,p){this.unknownDocument=e,this.noDocument=t,this.document=s,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=p}}yr.store="remoteDocuments",yr.readTimeIndex="readTimeIndex",yr.readTimeIndexPath="readTime",yr.collectionReadTimeIndex="collectionReadTimeIndex",yr.collectionReadTimeIndexPath=["parentPath","readTime"];class Ac{constructor(e){this.byteSize=e}}Ac.store="remoteDocumentGlobal",Ac.key="remoteDocumentGlobalKey";class mo{constructor(e,t,s,a,l,p,v){this.targetId=e,this.canonicalId=t,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=p,this.query=v}}mo.store="targets",mo.keyPath="targetId",mo.queryTargetsIndexName="queryTargetsIndex",mo.queryTargetsKeyPath=["canonicalId","targetId"];class qi{constructor(e,t,s){this.targetId=e,this.path=t,this.sequenceNumber=s}}qi.store="targetDocuments",qi.keyPath=["targetId","path"],qi.documentTargetsIndex="documentTargetsIndex",qi.documentTargetsKeyPath=["path","targetId"];class zo{constructor(e,t,s,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}zo.key="targetGlobalKey",zo.store="targetGlobal";class Tl{constructor(e,t){this.collectionId=e,this.parent=t}}Tl.store="collectionParents",Tl.keyPath=["collectionId","parent"];class Zo{constructor(e,t,s,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=s,this.inForeground=a}}Zo.store="clientMetadata",Zo.keyPath="clientId";class Pf{constructor(e,t,s){this.bundleId=e,this.createTime=t,this.version=s}}Pf.store="bundles",Pf.keyPath="bundleId";class kf{constructor(e,t,s){this.name=e,this.readTime=t,this.bundledQuery=s}}kf.store="namedQueries",kf.keyPath="name";const $C=[Tc.store,$n.store,Hi.store,yr.store,mo.store,Bs.store,zo.store,qi.store,Zo.store,Ac.store,Tl.store,Pf.store,kf.store],Ff="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ve((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ve?t:Ve.resolve(t)}catch(t){return Ve.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ve.reject(t)}static resolve(e){return new Ve((t,s)=>{t(e)})}static reject(e){return new Ve((t,s)=>{s(e)})}static waitFor(e){return new Ve((t,s)=>{let a=0,l=0,p=!1;e.forEach(v=>{++a,v.next(()=>{++l,p&&l===a&&t()},D=>s(D))}),p=!0,l===a&&t()})}static or(e){let t=Ve.resolve(!1);for(const s of e)t=t.next(a=>a?Ve.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}}class By{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Nr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new Lf(e,t.error)):this.Et.resolve()},this.transaction.onerror=s=>{const a=jy(s.target.error);this.Et.reject(new Lf(e,a))}}static open(e,t,s,a){try{return new By(t,e.transaction(a,s))}catch(l){throw new Lf(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new RA(t)}}class Fa{constructor(e,t,s){this.name=e,this.version=t,this.At=s,12.2===Fa.Rt((0,Pt.z$)())&&Ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),Wo(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Pt.hl)())return!1;if(Fa.Pt())return!0;const e=(0,Pt.z$)(),t=Fa.Rt(e),s=0<t&&t<10,a=Fa.vt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(e){var t=this;return(0,Ae.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=p=>{s(p.target.result)},l.onblocked=()=>{a(new Lf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=p=>{const v=p.target.error;a("VersionError"===v.name?new Ue(Ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===v.name?new Ue(Ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+v):new Lf(e,v))},l.onupgradeneeded=p=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.At.Ct(p.target.result,l.transaction,p.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=s=>t.Nt(s)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var l=this;return(0,Ae.Z)(function*(){const p="readonly"===t;let v=0;for(;;){++v;try{l.db=yield l.Dt(e);const D=By.open(l.db,e,p?"readonly":"readwrite",s),M=a(D).catch(P=>(D.abort(P),Ve.reject(P))).toPromise();return M.catch(()=>{}),yield D.It,M}catch(D){const M="FirebaseError"!==D.name&&v<3;if($e("SimpleDb","Transaction failed with error:",D.message,"Retrying:",M),l.close(),!M)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class MA{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Wo(this.kt.delete())}}class Lf extends Ue{constructor(e,t){super(Ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Kd(n){return"IndexedDbTransactionError"===n.name}class RA{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Wo(s)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),Wo(this.store.add(e))}get(e){return Wo(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),Wo(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),Wo(this.store.count())}Lt(e,t){const s=this.cursor(this.options(e,t)),a=[];return this.Bt(s,(l,p)=>{a.push(p)}).next(()=>a)}Ut(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.qt=!1;const a=this.cursor(s);return this.Bt(a,(l,p,v)=>v.delete())}Kt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new Ve((s,a)=>{t.onerror=l=>{const p=jy(l.target.error);a(p)},t.onsuccess=l=>{const p=l.target.result;p?e(p.primaryKey,p.value).next(v=>{v?p.continue():s()}):s()}})}Bt(e,t){const s=[];return new Ve((a,l)=>{e.onerror=p=>{l(p.target.error)},e.onsuccess=p=>{const v=p.target.result;if(!v)return void a();const D=new MA(v),M=t(v.primaryKey,v.value,D);if(M instanceof Ve){const P=M.catch(B=>(D.done(),Ve.reject(B)));s.push(P)}D.isDone?a():null===D.Ft?v.continue():v.continue(D.Ft)}}).next(()=>Ve.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.qt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wo(n){return new Ve((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=jy(s.target.error);t(a)}})}let qC=!1;function jy(n){const e=Fa.Rt((0,Pt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qC||(qC=!0,setTimeout(()=>{throw s},0)),s}}return n}class GC extends HC{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function ds(n,e){const t=We(n);return Fa.St(t.Qt,e)}class Vw{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Dw(l,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Tf(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Tf(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(kt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),En())}isEqual(e){return this.batchId===e.batchId&&jd(this.mutations,e.mutations,(t,s)=>Tw(t,s))&&jd(this.baseMutations,e.baseMutations,(t,s)=>Tw(t,s))}}class $y{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Dt(e.mutations.length===s.length);let a=IC();const l=e.mutations;for(let p=0;p<l.length;p++)a=a.insert(l[p].key,s[p].version);return new $y(e,t,s,a)}}class Al{constructor(e,t,s,a,l=kt.min(),p=kt.min(),v=Xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=v}withSequenceNumber(e){return new Al(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Al(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Hy{constructor(e){this.Wt=e}}function Uw(n,e){if(e.document)return ar(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=ut.fromSegments(e.noDocument.path),s=Uf(e.noDocument.readTime),a=zn.newNoDocument(t,s);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=ut.fromSegments(e.unknownDocument.path),s=Uf(e.unknownDocument.version);return zn.newUnknownDocument(t,s)}return ht()}function Bw(n,e,t){const s=qy(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:gg(v=n.Wt,(D=e).key),fields:D.data.value.mapValue.fields,updateTime:Wd(v,D.version.toTimestamp())};return new yr(null,null,l,e.hasCommittedMutations,s,a)}var v,D;if(e.isNoDocument()){const l=e.key.path.toArray(),p=Vf(e.version),v=e.hasCommittedMutations;return new yr(null,new jC(l,p),null,v,s,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),p=Vf(e.version);return new yr(new xA(l,p),null,null,!0,s,a)}return ht()}function qy(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function zC(n){const e=new Jr(n[0],n[1]);return kt.fromTimestamp(e)}function Vf(n){const e=n.toTimestamp();return new SA(e.seconds,e.nanoseconds)}function Uf(n){const e=new Jr(n.seconds,n.nanoseconds);return kt.fromTimestamp(e)}function Sl(n,e){const t=(e.baseMutations||[]).map(l=>NC(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const p=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(p.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const s=e.mutations.map(l=>NC(n.Wt,l)),a=Jr.fromMillis(e.localWriteTimeMs);return new Vw(e.batchId,a,t,s)}function bg(n){const e=Uf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Uf(n.lastLimboFreeSnapshotVersion):kt.min();let s;var a;return void 0!==n.query.documents?(Dt(1===(a=n.query).documents.length),s=go(Gd(mg(a.documents[0])))):s=go(Lw(n.query)),new Al(s,n.targetId,0,n.lastListenSequenceNumber,e,t,Xr.fromBase64String(n.resumeToken))}function jw(n,e){const t=Vf(e.snapshotVersion),s=Vf(e.lastLimboFreeSnapshotVersion);let a;a=ag(e.target)?kw(n.Wt,e.target):Fw(n.Wt,e.target);const l=e.resumeToken.toBase64();return new mo(e.targetId,og(e.target),t,l,e.sequenceNumber,s,a)}function $w(n){const e=Lw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?hC(e,e.limit,"L"):e}class NA{getBundleMetadata(e,t){return ZC(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Uf(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return ZC(e).put({bundleId:(s=t).id,createTime:Vf(ni(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return WC(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:$w(a.bundledQuery),readTime:Uf(a.readTime)};var a})}saveNamedQuery(e,t){return WC(e).put({name:(s=t).name,readTime:Vf(ni(s.readTime)),bundledQuery:s.bundledQuery});var s}}function ZC(n){return ds(n,Pf.store)}function WC(n){return ds(n,kf.store)}class OA{constructor(){this.Gt=new Hw}addToCollectionParentIndex(e,t){return this.Gt.add(t),Ve.resolve()}getCollectionParents(e,t){return Ve.resolve(this.Gt.getEntries(t))}}class Hw{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new mr(mn.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mr(mn.comparator)).toArray()}}class PA{constructor(){this.zt=new Hw}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:s,parent:ls(a)};return KC(e).put(l)}return Ve.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[XE(t),""],!1,!0);return KC(e).Lt(a).next(l=>{for(const p of l){if(p.collectionId!==t)break;s.push(Dc(p.parent))}return s})}}function KC(n){return ds(n,Tl.store)}const qw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hs{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new hs(e,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function YC(n,e,t){const s=n.store($n.store),a=n.store(Hi.store),l=[],p=IDBKeyRange.only(t.batchId);let v=0;const D=s.Kt({range:p},(P,B,ee)=>(v++,ee.delete()));l.push(D.next(()=>{Dt(1===v)}));const M=[];for(const P of t.mutations){const B=Hi.key(e,P.key.path,t.batchId);l.push(a.delete(B)),M.push(P.key)}return Ve.waitFor(l).next(()=>M)}function Gy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ht();e=n.noDocument}return JSON.stringify(e).length}hs.DEFAULT_COLLECTION_PERCENTILE=10,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hs.DEFAULT=new hs(41943040,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hs.DISABLED=new hs(-1,0,0);class zy{constructor(e,t,s,a){this.userId=e,this.N=t,this.Ht=s,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,s,a){Dt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new zy(l,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).Kt({index:$n.userMutationsIndex,range:s},(a,l,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const l=Bf(e),p=xl(e);return p.add({}).next(v=>{Dt("number"==typeof v);const D=new Vw(v,t,s,a),M=function(ee,re,Fe){const Ze=Fe.baseMutations.map(Qt=>Rf(ee.Wt,Qt)),it=Fe.mutations.map(Qt=>Rf(ee.Wt,Qt));return new $n(re,Fe.batchId,Fe.localWriteTime.toMillis(),Ze,it)}(this.N,this.userId,D),P=[];let B=new mr((ee,re)=>Kt(ee.canonicalString(),re.canonicalString()));for(const ee of a){const re=Hi.key(this.userId,ee.key.path,v);B=B.add(ee.key.path.popLast()),P.push(p.put(M)),P.push(l.put(re,Hi.PLACEHOLDER))}return B.forEach(ee=>{P.push(this.Ht.addToCollectionParentIndex(e,ee))}),e.addOnCommittedListener(()=>{this.Jt[v]=D.keys()}),Ve.waitFor(P).next(()=>D)})}lookupMutationBatch(e,t){return xl(e).get(t).next(s=>s?(Dt(s.userId===this.userId),Sl(this.N,s)):null)}Xt(e,t){return this.Jt[t]?Ve.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return xl(e).Kt({index:$n.userMutationsIndex,range:a},(p,v,D)=>{v.userId===this.userId&&(Dt(v.batchId>=s),l=Sl(this.N,v)),D.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return xl(e).Kt({index:$n.userMutationsIndex,range:t,reverse:!0},(a,l,p)=>{s=l.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).Lt($n.userMutationsIndex,t).next(s=>s.map(a=>Sl(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Hi.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(s),l=[];return Bf(e).Kt({range:a},(p,v,D)=>{const[M,P,B]=p,ee=Dc(P);if(M===this.userId&&t.path.isEqual(ee))return xl(e).get(B).next(re=>{if(!re)throw ht();Dt(re.userId===this.userId),l.push(Sl(this.N,re))});D.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new mr(Kt);const a=[];return t.forEach(l=>{const p=Hi.prefixForPath(this.userId,l.path),v=IDBKeyRange.lowerBound(p),D=Bf(e).Kt({range:v},(M,P,B)=>{const[ee,re,Fe]=M,Ze=Dc(re);ee===this.userId&&l.path.isEqual(Ze)?s=s.add(Fe):B.done()});a.push(D)}),Ve.waitFor(a).next(()=>this.Zt(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,l=Hi.prefixForPath(this.userId,s),p=IDBKeyRange.lowerBound(l);let v=new mr(Kt);return Bf(e).Kt({range:p},(D,M,P)=>{const[B,ee,re]=D,Fe=Dc(ee);B===this.userId&&s.isPrefixOf(Fe)?Fe.length===a&&(v=v.add(re)):P.done()}).next(()=>this.Zt(e,v))}Zt(e,t){const s=[],a=[];return t.forEach(l=>{a.push(xl(e).get(l).next(p=>{if(null===p)throw ht();Dt(p.userId===this.userId),s.push(Sl(this.N,p))}))}),Ve.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return YC(e.Qt,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Ve.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ve.resolve();const s=IDBKeyRange.lowerBound(Hi.prefixForUser(this.userId)),a=[];return Bf(e).Kt({range:s},(l,p,v)=>{if(l[0]===this.userId){const D=Dc(l[1]);a.push(D)}else v.done()}).next(()=>{Dt(0===a.length)})})}containsKey(e,t){return QC(e,this.userId,t)}ee(e){return Zy(e).get(this.userId).next(t=>t||new Tc(this.userId,-1,""))}}function QC(n,e,t){const s=Hi.prefixForPath(e,t.path),a=s[1],l=IDBKeyRange.lowerBound(s);let p=!1;return Bf(n).Kt({range:l,qt:!0},(v,D,M)=>{const[P,B,ee]=v;P===e&&B===a&&(p=!0),M.done()}).next(()=>p)}function xl(n){return ds(n,$n.store)}function Bf(n){return ds(n,Hi.store)}function Zy(n){return ds(n,Tc.store)}class Sc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Sc(0)}static ie(){return new Sc(-1)}}class JC{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const s=new Sc(t.highestTargetId);return t.highestTargetId=s.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>kt.fromTimestamp(new Jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(s=>(s.targetCount+=1,this.ae(t,s),this.oe(e,s))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ml(e).delete(t.targetId)).next(()=>this.re(e)).next(s=>(Dt(s.targetCount>0),s.targetCount-=1,this.oe(e,s)))}removeTargets(e,t,s){let a=0;const l=[];return Ml(e).Kt((p,v)=>{const D=bg(v);D.sequenceNumber<=t&&null===s.get(D.targetId)&&(a++,l.push(this.removeTargetData(e,D)))}).next(()=>Ve.waitFor(l)).next(()=>a)}forEachTarget(e,t){return Ml(e).Kt((s,a)=>{const l=bg(a);t(l)})}re(e){return XC(e).get(zo.key).next(t=>(Dt(null!==t),t))}oe(e,t){return XC(e).put(zo.key,t)}ce(e,t){return Ml(e).put(jw(this.N,t))}ae(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const s=og(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return Ml(e).Kt({range:a,index:mo.queryTargetsIndexName},(p,v,D)=>{const M=bg(v);Ry(t,M.target)&&(l=M,D.done())}).next(()=>l)}addMatchingKeys(e,t,s){const a=[],l=Rl(e);return t.forEach(p=>{const v=ls(p.path);a.push(l.put(new qi(s,v))),a.push(this.referenceDelegate.addReference(e,s,p))}),Ve.waitFor(a)}removeMatchingKeys(e,t,s){const a=Rl(e);return Ve.forEach(t,l=>{const p=ls(l.path);return Ve.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,l)])})}removeMatchingKeysForTargetId(e,t){const s=Rl(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Rl(e);let l=En();return a.Kt({range:s,qt:!0},(p,v,D)=>{const M=Dc(p[1]),P=new ut(M);l=l.add(P)}).next(()=>l)}containsKey(e,t){const s=ls(t.path),a=IDBKeyRange.bound([s],[XE(s)],!1,!0);let l=0;return Rl(e).Kt({index:qi.documentTargetsIndex,qt:!0,range:a},([p,v],D,M)=>{0!==p&&(l++,M.done())}).next(()=>l>0)}Tt(e,t){return Ml(e).get(t).next(s=>s?bg(s):null)}}function Ml(n){return ds(n,mo.store)}function XC(n){return ds(n,zo.store)}function Rl(n){return ds(n,qi.store)}function xc(n){return Gw.apply(this,arguments)}function Gw(){return(Gw=(0,Ae.Z)(function*(n){if(n.code!==Ie.FAILED_PRECONDITION||n.message!==Ff)throw n;$e("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function zw([n,e],[t,s]){const a=Kt(n,t);return 0===a?Kt(e,s):a}class kA{constructor(e){this.ue=e,this.buffer=new mr(zw),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();zw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eI{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const s=this.de?3e5:6e4;$e("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,Ae.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Kd(a)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield xc(a)}yield t._e(e)}))}}class tI{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Ve.resolve($o.T);const s=new kA(t);return this.me.forEachTarget(e,a=>s.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>s.fe(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.me.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(qw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qw):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let s,a,l,p,v,D,M;const P=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(B=>(B>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${B}`),a=this.params.maximumSequenceNumbersToCollect):a=B,p=Date.now(),this.nthSequenceNumber(e,a))).next(B=>(s=B,v=Date.now(),this.removeTargets(e,s,t))).next(B=>(l=B,D=Date.now(),this.removeOrphanedDocuments(e,s))).next(B=>(M=Date.now(),gw()<=mu.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-P}ms\n\tDetermined least recently used ${a} in `+(v-p)+`ms\n\tRemoved ${l} targets in `+(D-v)+`ms\n\tRemoved ${B} documents in `+(M-D)+`ms\nTotal Duration: ${M-P}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:B})))}}class nI{constructor(e,t){this.db=e,this.garbageCollector=new tI(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Te(e){let t=0;return this.ye(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(s,a)=>t(a))}addReference(e,t,s){return Zw(e,s)}removeReference(e,t,s){return Zw(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Zw(e,t)}Ie(e,t){return function(s,a){let l=!1;return Zy(s).jt(p=>QC(s,p,a).next(v=>(v&&(l=!0),Ve.resolve(!v)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ee(e,(p,v)=>{if(v<=t){const D=this.Ie(e,p).next(M=>{if(!M)return l++,s.getEntry(e,p).next(()=>(s.removeEntry(p),Rl(e).delete([0,ls(p.path)])))});a.push(D)}}).next(()=>Ve.waitFor(a)).next(()=>s.apply(e)).next(()=>l)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Zw(e,t)}Ee(e,t){const s=Rl(e);let a,l=$o.T;return s.Kt({index:qi.documentTargetsIndex},([p,v],{path:D,sequenceNumber:M})=>{0===p?(l!==$o.T&&t(new ut(Dc(a)),l),l=M,a=D):l=$o.T}).next(()=>{l!==$o.T&&t(new ut(Dc(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zw(n,e){return Rl(n).put((s=n.currentSequenceNumber,new qi(0,ls(e.path),s)));var s}class jf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[s]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),!0;return!1}forEach(e){El(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return tC(this.inner)}}class Yd{constructor(){this.changes=new jf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:kt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:zn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ve.resolve(s.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class m1{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,s){return Nl(e).put(Mc(t),s)}removeEntry(e,t){const s=Nl(e),a=Mc(t);return s.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Ae(e,s)))}getEntry(e,t){return Nl(e).get(Mc(t)).next(s=>this.Re(t,s))}be(e,t){return Nl(e).get(Mc(t)).next(s=>({document:this.Re(t,s),size:Gy(s)}))}getEntries(e,t){let s=Go();return this.Pe(e,t,(a,l)=>{const p=this.Re(a,l);s=s.insert(a,p)}).next(()=>s)}ve(e,t){let s=Go(),a=new ti(ut.comparator);return this.Pe(e,t,(l,p)=>{const v=this.Re(l,p);s=s.insert(l,v),a=a.insert(l,Gy(p))}).next(()=>({documents:s,Ve:a}))}Pe(e,t,s){if(t.isEmpty())return Ve.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let p=l.getNext();return Nl(e).Kt({range:a},(v,D,M)=>{const P=ut.fromSegments(v);for(;p&&ut.comparator(p,P)<0;)s(p,null),p=l.getNext();p&&p.isEqual(P)&&(s(p,D),p=l.hasNext()?l.getNext():null),p?M.Mt(p.path.toArray()):M.done()}).next(()=>{for(;p;)s(p,null),p=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,s){let a=Go();const l=t.path.length+1,p={};if(s.isEqual(kt.min())){const v=t.path.toArray();p.range=IDBKeyRange.lowerBound(v)}else{const v=t.path.toArray(),D=qy(s);p.range=IDBKeyRange.lowerBound([v,D],!0),p.index=yr.collectionReadTimeIndex}return Nl(e).Kt(p,(v,D,M)=>{if(v.length!==l)return;const P=Uw(this.N,D);t.path.isPrefixOf(P.key.path)?zd(t,P)&&(a=a.insert(P.key,P)):M.done()}).next(()=>a)}newChangeBuffer(e){return new Ww(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Eg(e).get(Ac.key).next(t=>(Dt(!!t),t))}Ae(e,t){return Eg(e).put(Ac.key,t)}Re(e,t){if(t){const s=Uw(this.N,t);if(!s.isNoDocument()||!s.version.isEqual(kt.min()))return s}return zn.newInvalidDocument(e)}}class Ww extends Yd{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new jf(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new mr((l,p)=>Kt(l.canonicalString(),p.canonicalString()));return this.changes.forEach((l,p)=>{const v=this.De.get(l);if(p.document.isValidDocument()){const D=Bw(this.Se.N,p.document,this.getReadTime(l));a=a.add(l.path.popLast()),s+=Gy(D)-v,t.push(this.Se.addEntry(e,l,D))}else if(s-=v,this.trackRemovals){const D=Bw(this.Se.N,zn.newNoDocument(l,kt.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,D))}else t.push(this.Se.removeEntry(e,l))}),a.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,s)),Ve.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(s=>(this.De.set(t,s.size),s.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:s,Ve:a})=>(a.forEach((l,p)=>{this.De.set(l,p)}),s))}}function Eg(n){return ds(n,Ac.store)}function Nl(n){return ds(n,yr.store)}function Mc(n){return n.path.toArray()}class FA{constructor(e){this.N=e}Ct(e,t,s,a){Dt(s<a&&s>=0&&a<=11);const l=new By("createOrUpgrade",t);var v;s<1&&a>=1&&(e.createObjectStore(Bs.store),(v=e).createObjectStore(Tc.store,{keyPath:Tc.keyPath}),v.createObjectStore($n.store,{keyPath:$n.keyPath,autoIncrement:!0}).createIndex($n.userMutationsIndex,$n.userMutationsKeyPath,{unique:!0}),v.createObjectStore(Hi.store),LA(e),function(v){v.createObjectStore(yr.store)}(e));let p=Ve.resolve();return s<3&&a>=3&&(0!==s&&(function(v){v.deleteObjectStore(qi.store),v.deleteObjectStore(mo.store),v.deleteObjectStore(zo.store)}(e),LA(e)),p=p.next(()=>function(v){const D=v.store(zo.store),M=new zo(0,0,kt.min().toTimestamp(),0);return D.put(zo.key,M)}(l))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(v,D){return D.store($n.store).Lt().next(M=>{v.deleteObjectStore($n.store),v.createObjectStore($n.store,{keyPath:$n.keyPath,autoIncrement:!0}).createIndex($n.userMutationsIndex,$n.userMutationsKeyPath,{unique:!0});const P=D.store($n.store),B=M.map(ee=>P.put(ee));return Ve.waitFor(B)})}(e,l))),p=p.next(()=>{!function(v){v.createObjectStore(Zo.store,{keyPath:Zo.keyPath})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.Ce(l))),s<6&&a>=6&&(p=p.next(()=>(function(v){v.createObjectStore(Ac.store)}(e),this.Ne(l)))),s<7&&a>=7&&(p=p.next(()=>this.xe(l))),s<8&&a>=8&&(p=p.next(()=>this.ke(e,l))),s<9&&a>=9&&(p=p.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(e),function(v){const D=v.objectStore(yr.store);D.createIndex(yr.readTimeIndex,yr.readTimeIndexPath,{unique:!1}),D.createIndex(yr.collectionReadTimeIndex,yr.collectionReadTimeIndexPath,{unique:!1})}(t)})),s<10&&a>=10&&(p=p.next(()=>this.$e(l))),s<11&&a>=11&&(p=p.next(()=>{(function(v){v.createObjectStore(Pf.store,{keyPath:Pf.keyPath})})(e),function(v){v.createObjectStore(kf.store,{keyPath:kf.keyPath})}(e)})),p}Ne(e){let t=0;return e.store(yr.store).Kt((s,a)=>{t+=Gy(a)}).next(()=>{const s=new Ac(t);return e.store(Ac.store).put(Ac.key,s)})}Ce(e){const t=e.store(Tc.store),s=e.store($n.store);return t.Lt().next(a=>Ve.forEach(a,l=>{const p=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.Lt($n.userMutationsIndex,p).next(v=>Ve.forEach(v,D=>{Dt(D.userId===l.userId);const M=Sl(this.N,D);return YC(e,l.userId,M).next(()=>{})}))}))}xe(e){const t=e.store(qi.store),s=e.store(yr.store);return e.store(zo.store).get(zo.key).next(a=>{const l=[];return s.Kt((p,v)=>{const D=new mn(p),M=[0,ls(D)];l.push(t.get(M).next(P=>P?Ve.resolve():t.put(new qi(0,ls(D),a.highestListenSequenceNumber))))}).next(()=>Ve.waitFor(l))})}ke(e,t){e.createObjectStore(Tl.store,{keyPath:Tl.keyPath});const s=t.store(Tl.store),a=new Hw,l=p=>{if(a.add(p)){const v=p.lastSegment(),D=p.popLast();return s.put({collectionId:v,parent:ls(D)})}};return t.store(yr.store).Kt({qt:!0},(p,v)=>{const D=new mn(p);return l(D.popLast())}).next(()=>t.store(Hi.store).Kt({qt:!0},([p,v,D],M)=>{const P=Dc(v);return l(P.popLast())}))}$e(e){const t=e.store(mo.store);return t.Kt((s,a)=>{const l=bg(a),p=jw(this.N,l);return t.put(p)})}}function LA(n){n.createObjectStore(qi.store,{keyPath:qi.keyPath}).createIndex(qi.documentTargetsIndex,qi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(mo.store,{keyPath:mo.keyPath}).createIndex(mo.queryTargetsIndexName,mo.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(zo.store)}const Kw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ko{constructor(e,t,s,a,l,p,v,D,M,P){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Oe=l,this.window=p,this.document=v,this.Fe=M,this.Me=P,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=B=>Promise.resolve(),!Ko.bt())throw new Ue(Ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nI(this,a),this.We=t+"main",this.N=new Hy(D),this.Ge=new Fa(this.We,11,new FA(this.N)),this.ze=new JC(this.referenceDelegate,this.N),this.Ht=new PA,this.He=new m1(this.N,this.Ht),this.Je=new NA,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===P&&Ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(Ie.FAILED_PRECONDITION,Kw);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new $o(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var s=(0,Ae.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,Ae.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Yw(e).put(new Zo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(Kd(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return $f(e).get(Bs.key).next(t=>Ve.resolve(this.an(t)))}un(e){return Yw(e).delete(this.clientId)}hn(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=ds(s,Zo.store);return a.Lt().next(l=>{const p=e.fn(l,18e5),v=l.filter(D=>-1===p.indexOf(D));return Ve.forEach(v,D=>a.delete(D.clientId)).next(()=>v)})}).catch(()=>[]);if(e.Ye)for(const s of t)e.Ye.removeItem(e.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Ve.resolve(!0):$f(e).get(Bs.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new Ue(Ie.FAILED_PRECONDITION,Kw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yw(e).Lt().next(s=>void 0===this.fn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,v=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&v)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Bs.store,Zo.store],t=>{const s=new GC(t,$o.T);return e.on(s).next(()=>e.un(s))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(s=>this.ln(s.updateTimeMs,t)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Yw(e).Lt().next(t=>this.fn(t,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(e){return zy.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,s){let l;return $e("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",$C,p=>(l=new GC(p,this.Le?this.Le.next():$o.T),"readwrite-primary"===t?this.sn(l).next(v=>!!v||this.rn(l)).next(v=>{if(!v)throw Ir(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ue(Ie.FAILED_PRECONDITION,Ff);return s(l)}).next(v=>this.cn(l).next(()=>v)):this.Tn(l).next(()=>s(l)))).then(p=>(l.raiseOnCommittedEvent(),p))}Tn(e){return $f(e).get(Bs.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ue(Ie.FAILED_PRECONDITION,Kw)})}cn(e){const t=new Bs(this.clientId,this.allowTabSynchronization,Date.now());return $f(e).put(Bs.key,t)}static bt(){return Fa.bt()}on(e){const t=$f(e);return t.get(Bs.key).next(s=>this.an(s)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete(Bs.key)):Ve.resolve())}ln(e,t){const s=Date.now();return!(e<s-t||e>s&&(Ir(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Pt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const s=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return $e("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ir("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Ir("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $f(n){return ds(n,Bs.store)}function Yw(n){return ds(n,Zo.store)}function Hf(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class VA{constructor(e,t){this.progress=e,this.En=t}}class rI{constructor(e,t,s){this.He=e,this.In=t,this.Ht=s}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.Rn(e,t,s))}Rn(e,t,s){return this.He.getEntry(e,t).next(a=>{for(const l of s)l.applyToLocalView(a);return a})}bn(e,t){e.forEach((s,a)=>{for(const l of t)l.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(s=>this.vn(e,s).next(()=>s))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.bn(t,s))}getDocumentsMatchingQuery(e,t,s){return ut.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):Cw(t)?this.Sn(e,t,s):this.Dn(e,t,s);var a}Vn(e,t){return this.An(e,new ut(t)).next(s=>{let a=Rw();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Sn(e,t,s){const a=t.collectionGroup;let l=Rw();return this.Ht.getCollectionParents(e,a).next(p=>Ve.forEach(p,v=>{const D=(M=t,P=v.child(a),new bc(P,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt));var M,P;return this.Dn(e,D,s).next(M=>{M.forEach((P,B)=>{l=l.insert(P,B)})})}).next(()=>l))}Dn(e,t,s){let a,l;return this.He.getDocumentsMatchingQuery(e,t,s).next(p=>(a=p,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(p=>(l=p,this.Cn(e,l,a).next(v=>{a=v;for(const D of l)for(const M of D.mutations){const P=M.key;let B=a.get(P);null==B&&(B=zn.newInvalidDocument(P),a=a.insert(P,B)),Tf(M,B,D.localWriteTime),B.isFoundDocument()||(a=a.remove(P))}}))).next(()=>(a.forEach((p,v)=>{zd(t,v)||(a=a.remove(p))}),a))}Cn(e,t,s){let a=En();for(const p of t)for(const v of p.mutations)v instanceof Cc&&null===s.get(v.key)&&(a=a.add(v.key));let l=s;return this.He.getEntries(e,a).next(p=>(p.forEach((v,D)=>{D.isFoundDocument()&&(l=l.insert(v,D))}),l))}}class iI{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Nn=s,this.xn=a}static kn(e,t){let s=En(),a=En();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new iI(e,t.fromCache,s,a)}}class sI{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,s,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||s.isEqual(kt.min())?this.Fn(e,t):this.On.Pn(e,a).next(l=>{const p=this.Mn(t,l);return(Oy(t)||cg(t))&&this.Ln(t.limitType,p,a,s)?this.Fn(e,t):(gw()<=mu.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ky(t)),this.On.getDocumentsMatchingQuery(e,t,s).next(v=>(p.forEach(D=>{v=v.insert(D.key,D)}),v)))});var l}Mn(e,t){let s=new mr(Pa(e));return t.forEach((a,l)=>{zd(e,l)&&(s=s.add(l))}),s}Ln(e,t,s,a){if(s.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(e,t){return gw()<=mu.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",ky(t)),this.On.getDocumentsMatchingQuery(e,t,kt.min())}}class UA{constructor(e,t,s,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new ti(Kt),this.qn=new jf(l=>og(l),Ry),this.Kn=kt.min(),this.In=e.getMutationQueue(s),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new rI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function oI(n,e,t,s){return new UA(n,e,t,s)}function Wy(n,e){return Ky.apply(this,arguments)}function Ky(){return(Ky=(0,Ae.Z)(function*(n,e){const t=We(n);let s=t.In,a=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",p=>{let v;return t.In.getAllMutationBatches(p).next(D=>(v=D,s=t.persistence.getMutationQueue(e),a=new rI(t.jn,s,t.persistence.getIndexManager()),s.getAllMutationBatches(p))).next(D=>{const M=[],P=[];let B=En();for(const ee of v){M.push(ee.batchId);for(const re of ee.mutations)B=B.add(re.key)}for(const ee of D){P.push(ee.batchId);for(const re of ee.mutations)B=B.add(re.key)}return a.Pn(p,B).next(ee=>({Wn:ee,removedBatchIds:M,addedBatchIds:P}))})});return t.In=s,t.Qn=a,t.Bn.$n(t.Qn),l})).apply(this,arguments)}function Qw(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(p,v,D,M){const P=D.batch,B=P.keys();let ee=Ve.resolve();return B.forEach(re=>{ee=ee.next(()=>M.getEntry(v,re)).next(Fe=>{const Ze=D.docVersions.get(re);Dt(null!==Ze),Fe.version.compareTo(Ze)<0&&(P.applyToRemoteDocument(Fe,D),Fe.isValidDocument()&&M.addEntry(Fe,D.commitVersion))})}),ee.next(()=>p.In.removeMutationBatch(v,P))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.In.performConsistencyCheck(s)).next(()=>t.Qn.Pn(s,a))})}function Jw(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function BA(n,e){const t=We(n),s=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const p=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const v=[];e.targetChanges.forEach((M,P)=>{const B=a.get(P);if(!B)return;v.push(t.ze.removeMatchingKeys(l,M.removedDocuments,P).next(()=>t.ze.addMatchingKeys(l,M.addedDocuments,P)));const ee=M.resumeToken;if(ee.approximateByteSize()>0){const re=B.withResumeToken(ee,s).withSequenceNumber(l.currentSequenceNumber);a=a.insert(P,re),Fe=B,it=M,Dt((Ze=re).resumeToken.approximateByteSize()>0),(0===Fe.resumeToken.approximateByteSize()||Ze.snapshotVersion.toMicroseconds()-Fe.snapshotVersion.toMicroseconds()>=3e8||it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0)&&v.push(t.ze.updateTargetData(l,re))}var Fe,Ze,it});let D=Go();if(e.documentUpdates.forEach((M,P)=>{e.resolvedLimboDocuments.has(M)&&v.push(t.persistence.referenceDelegate.updateLimboDocument(l,M))}),v.push(jA(l,p,e.documentUpdates,s,void 0).next(M=>{D=M})),!s.isEqual(kt.min())){const M=t.ze.getLastRemoteSnapshotVersion(l).next(P=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,s));v.push(M)}return Ve.waitFor(v).next(()=>p.apply(l)).next(()=>t.Qn.vn(l,D)).next(()=>D)}).then(l=>(t.Un=a,l))}function jA(n,e,t,s,a){let l=En();return t.forEach(p=>l=l.add(p)),e.getEntries(n,l).next(p=>{let v=Go();return t.forEach((D,M)=>{const P=p.get(D),B=(null==a?void 0:a.get(D))||s;M.isNoDocument()&&M.version.isEqual(kt.min())?(e.removeEntry(D,B),v=v.insert(D,M)):!P.isValidDocument()||M.version.compareTo(P.version)>0||0===M.version.compareTo(P.version)&&P.hasPendingWrites?(e.addEntry(M,B),v=v.insert(D,M)):$e("LocalStore","Ignoring outdated watch update for ",D,". Current version:",P.version," Watch version:",M.version)}),v})}function $A(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(s,e)))}function qf(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.ze.getTargetData(s,e).next(l=>l?(a=l,Ve.resolve(a)):t.ze.allocateTargetId(s).next(p=>(a=new Al(e,p,0,s.currentSequenceNumber),t.ze.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Un.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(s.targetId,s),t.qn.set(e,s.targetId)),s})}function Gf(n,e,t){return Yy.apply(this,arguments)}function Yy(){return(Yy=(0,Ae.Z)(function*(n,e,t){const s=We(n),a=s.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Kd(p))throw p;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.Un=s.Un.remove(e),s.qn.delete(a.target)})).apply(this,arguments)}function Cg(n,e,t){const s=We(n);let a=kt.min(),l=En();return s.persistence.runTransaction("Execute query","readonly",p=>function(v,D,M){const P=We(v),B=P.qn.get(M);return void 0!==B?Ve.resolve(P.Un.get(B)):P.ze.getTargetData(D,M)}(s,p,go(e)).next(v=>{if(v)return a=v.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(p,v.targetId).next(D=>{l=D})}).next(()=>s.Bn.getDocumentsMatchingQuery(p,e,t?a:kt.min(),t?l:En())).next(v=>({documents:v,Gn:l})))}function Xw(n,e){const t=We(n),s=We(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>s.Tt(l,e).next(p=>p?p.target:null))}function aI(n){const e=We(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(s,a,l){const p=We(s);let v=Go(),D=qy(l);const M=Nl(a),P=IDBKeyRange.lowerBound(D,!0);return M.Kt({index:yr.readTimeIndex,range:P},(B,ee)=>{const re=Uw(p.N,ee);v=v.insert(re.key,re),D=ee.readTime}).next(()=>({En:v,readTime:zC(D)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:s})=>(e.Kn=s,t))}function Qy(){return(Qy=(0,Ae.Z)(function*(n){const e=We(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(s){const a=Nl(s);let l=kt.min();return a.Kt({index:yr.readTimeIndex,reverse:!0},(p,v,D)=>{v.readTime&&(l=zC(v.readTime)),D.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function e0(){return(e0=(0,Ae.Z)(function*(n,e,t,s){const a=We(n);let l=En(),p=Go(),v=IC();for(const P of t){const B=e.zn(P.metadata.name);P.document&&(l=l.add(B)),p=p.insert(B,e.Hn(P)),v=v.insert(B,e.Jn(P.metadata.readTime))}const D=a.jn.newChangeBuffer({trackRemovals:!0}),M=yield qf(a,(P=s,go(Gd(mn.fromString(`__bundle__/docs/${P}`)))));var P;return a.persistence.runTransaction("Apply bundle documents","readwrite",P=>jA(P,D,p,kt.min(),v).next(B=>(D.apply(P),B)).next(B=>a.ze.removeMatchingKeysForTargetId(P,M.targetId).next(()=>a.ze.addMatchingKeys(P,l,M.targetId)).next(()=>a.Qn.vn(P,B)).next(()=>B)))})).apply(this,arguments)}function uI(n,e){return zf.apply(this,arguments)}function zf(){return(zf=(0,Ae.Z)(function*(n,e,t=En()){const s=yield qf(n,go($w(e.bundledQuery))),a=We(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const p=ni(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.Je.saveNamedQuery(l,e);const v=s.withResumeToken(Xr.EMPTY_BYTE_STRING,p);return a.Un=a.Un.insert(v.targetId,v),a.ze.updateTargetData(l,v).next(()=>a.ze.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.ze.addMatchingKeys(l,t,s.targetId)).next(()=>a.Je.saveNamedQuery(l,e))})})).apply(this,arguments)}class Xy{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Ve.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var s;return this.Yn.set(t.id,{id:(s=t).id,version:s.version,createTime:ni(s.createTime)}),Ve.resolve()}getNamedQuery(e,t){return Ve.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(s=t).name,query:$w(s.bundledQuery),readTime:ni(s.readTime)}),Ve.resolve();var s}}class Qd{constructor(){this.Zn=new mr(li.ts),this.es=new mr(li.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const s=new li(e,t);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.rs(new li(e,t))}os(e,t){e.forEach(s=>this.removeReference(s,t))}cs(e){const t=new ut(new mn([])),s=new li(t,e),a=new li(t,e+1),l=[];return this.es.forEachInRange([s,a],p=>{this.rs(p),l.push(p.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ut(new mn([])),s=new li(t,e),a=new li(t,e+1);let l=En();return this.es.forEachInRange([s,a],p=>{l=l.add(p.key)}),l}containsKey(e){const t=new li(e,0),s=this.Zn.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class li{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ut.comparator(e.key,t.key)||Kt(e.ls,t.ls)}static ns(e,t){return Kt(e.ls,t.ls)||ut.comparator(e.key,t.key)}}class qA{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new mr(li.ts)}checkEmpty(e){return Ve.resolve(0===this.In.length)}addMutationBatch(e,t,s,a){const l=this.fs;this.fs++;const p=new Vw(l,t,s,a);this.In.push(p);for(const v of a)this.ds=this.ds.add(new li(v.key,l)),this.Ht.addToCollectionParentIndex(e,v.key.path.popLast());return Ve.resolve(p)}lookupMutationBatch(e,t){return Ve.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),l=a<0?0:a;return Ve.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Ve.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new li(t,0),a=new li(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([s,a],p=>{const v=this.ws(p.ls);l.push(v)}),Ve.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new mr(Kt);return t.forEach(a=>{const l=new li(a,0),p=new li(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,p],v=>{s=s.add(v.ls)})}),Ve.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;ut.isDocumentKey(l)||(l=l.child(""));const p=new li(new ut(l),0);let v=new mr(Kt);return this.ds.forEachWhile(D=>{const M=D.key.path;return!!s.isPrefixOf(M)&&(M.length===a&&(v=v.add(D.ls)),!0)},p),Ve.resolve(this.gs(v))}gs(e){const t=[];return e.forEach(s=>{const a=this.ws(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Dt(0===this.ys(t.batchId,"removed")),this.In.shift();let s=this.ds;return Ve.forEach(t.mutations,a=>{const l=new li(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=s})}te(e){}containsKey(e,t){const s=new li(t,0),a=this.ds.firstAfterOrEqual(s);return Ve.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ve.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class y1{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new ti(ut.comparator),this.size=0}addEntry(e,t,s){const a=t.key,l=this.docs.get(a),p=l?l.size:0,v=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:v,readTime:s}),this.size+=v-p,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ve.resolve(s?s.document.clone():zn.newInvalidDocument(t))}getEntries(e,t){let s=Go();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.clone():zn.newInvalidDocument(a))}),Ve.resolve(s)}getDocumentsMatchingQuery(e,t,s){let a=Go();const l=new ut(t.path.child("")),p=this.docs.getIteratorFrom(l);for(;p.hasNext();){const{key:v,value:{document:D,readTime:M}}=p.getNext();if(!t.path.isPrefixOf(v.path))break;M.compareTo(s)<=0||zd(t,D)&&(a=a.insert(D.key,D.clone()))}return Ve.resolve(a)}Ts(e,t){return Ve.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new GA(this)}getSize(e){return Ve.resolve(this.size)}}class GA extends Yd{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Ve.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class zA{constructor(e){this.persistence=e,this.Es=new jf(t=>og(t),Ry),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Is=0,this.As=new Qd,this.targetCount=0,this.Rs=Sc.se()}forEachTarget(e,t){return this.Es.forEach((s,a)=>t(a)),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Is&&(this.Is=t),Ve.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Sc(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Ve.resolve()}updateTargetData(e,t){return this.ce(t),Ve.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Es.forEach((p,v)=>{v.sequenceNumber<=t&&null===s.get(v.targetId)&&(this.Es.delete(p),l.push(this.removeMatchingKeysForTargetId(e,v.targetId)),a++)}),Ve.waitFor(l).next(()=>a)}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,t){const s=this.Es.get(t)||null;return Ve.resolve(s)}addMatchingKeys(e,t,s){return this.As.ss(t,s),Ve.resolve()}removeMatchingKeys(e,t,s){this.As.os(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(p=>{l.push(a.markPotentiallyOrphaned(e,p))}),Ve.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Ve.resolve()}getMatchingKeysForTargetId(e,t){const s=this.As.hs(t);return Ve.resolve(s)}containsKey(e,t){return Ve.resolve(this.As.containsKey(t))}}class ZA{constructor(e,t){this.bs={},this.Le=new $o(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new zA(this),this.Ht=new OA,this.He=new y1(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new Hy(t),this.Je=new Xy(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new qA(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,s){$e("MemoryPersistence","Starting transaction:",e);const a=new WA(this.Le.next());return this.referenceDelegate.vs(),s(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(e,t){return Ve.or(Object.values(this.bs).map(s=>()=>s.containsKey(e,t)))}}class WA extends HC{constructor(e){super(),this.currentSequenceNumber=e}}class t0{constructor(e){this.persistence=e,this.Ds=new Qd,this.Cs=null}static Ns(e){return new t0(e)}get xs(){if(this.Cs)return this.Cs;throw ht()}addReference(e,t,s){return this.Ds.addReference(s,t),this.xs.delete(s.toString()),Ve.resolve()}removeReference(e,t,s){return this.Ds.removeReference(s,t),this.xs.add(s.toString()),Ve.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ve.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.xs,s=>{const a=ut.fromPath(s);return this.ks(e,a).next(l=>{l||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(s=>{s?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Ve.or([()=>Ve.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function cI(n,e){return`firestore_clients_${n}_${e}`}function lI(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function n0(n,e){return`firestore_targets_${n}_${e}`}class e_{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static $s(e,t,s){const a=JSON.parse(s);let l,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(l=new Ue(a.error.code,a.error.message))),p?new e_(e,t,a.state,l):(Ir("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class t_{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static $s(e,t){const s=JSON.parse(t);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Ue(s.error.code,s.error.message))),l?new t_(e,s.state,a):(Ir("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class n_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=fg();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=Dy(s.activeTargetIds[p]),l=l.add(s.activeTargetIds[p]);return a?new n_(e,l):(Ir("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Jd{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Jd(t.clientId,t.onlineState):(Ir("SharedClientState",`Failed to parse online state: ${e}`),null)}}class r0{constructor(){this.activeTargetIds=fg()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s0{constructor(e,t,s,a,l){this.window=e,this.Oe=t,this.persistenceKey=s,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new ti(Kt),this.started=!1,this.Ks=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=cI(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new r0),this.Ws=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const l=e.getItem(cI(e.persistenceKey,a));if(l){const p=n_.$s(a,l);p&&(e.qs=e.qs.insert(p.clientId,p))}}e.Ys();const s=e.storage.getItem(e.Hs);if(s){const a=e.Xs(s);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,s){this.ei(e,t,s),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(n0(this.persistenceKey,e));if(s){const a=t_.$s(e,s);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(n0(this.persistenceKey,e))}updateQueryState(e,t,s){this.ii(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.ni(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const s=e;if(s.storageArea===this.storage){if($e("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void Ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==s.key)if(t.Ws.test(s.key)){if(null==s.newValue){const a=t.ci(s.key);return t.ai(a,null)}{const a=t.ui(s.key,s.newValue);if(a)return t.ai(a.clientId,a)}}else if(t.Gs.test(s.key)){if(null!==s.newValue){const a=t.hi(s.key,s.newValue);if(a)return t.li(a)}}else if(t.zs.test(s.key)){if(null!==s.newValue){const a=t.fi(s.key,s.newValue);if(a)return t.di(a)}}else if(s.key===t.Hs){if(null!==s.newValue){const a=t.Xs(s.newValue);if(a)return t.Zs(a)}}else if(s.key===t.Qs){const a=function(l){let p=$o.T;if(null!=l)try{const v=JSON.parse(l);Dt("number"==typeof v),p=v}catch(v){Ir("SharedClientState","Failed to read sequence number from WebStorage",v)}return p}(s.newValue);a!==$o.T&&t.sequenceNumberHandler(a)}else if(s.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,s){const a=new e_(this.currentUser,e,t,s),l=lI(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Os())}ni(e){const t=lI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,s){const a=n0(this.persistenceKey,e),l=new t_(e,t,s);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const s=this.ci(e);return n_.$s(s,t)}hi(e,t){const s=this.Gs.exec(e),a=Number(s[1]);return e_.$s(new Ci(void 0!==s[2]?s[2]:null),a,t)}fi(e,t){const s=this.zs.exec(e),a=Number(s[1]);return t_.$s(a,t)}Xs(e){return Jd.$s(e)}li(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const s=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),l=this.ti(s),p=[],v=[];return l.forEach(D=>{a.has(D)||p.push(D)}),a.forEach(D=>{l.has(D)||v.push(D)}),this.syncEngine.gi(p,v).then(()=>{this.qs=s})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=fg();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class dI{constructor(){this.yi=new r0,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,s){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new r0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class r_{Ti(e){}shutdown(){}}class Ol{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const hI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class KA{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class _1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,s,a){const l=this.Bi(e,t);$e("RestConnection","Sending: ",l,s);const p={};return this.Ui(p,a),this.qi(e,l,p,s).then(v=>($e("RestConnection","Received: ",v),v),v=>{throw Iy("RestConnection",`${e} failed with error: `,v,"url: ",l,"request:",s),v})}Ki(e,t,s,a){return this.Li(e,t,s,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Ud,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const s in t.authHeaders)t.authHeaders.hasOwnProperty(s)&&(e[s]=t.authHeaders[s])}Bi(e,t){return`${this.Fi}/v1/${t}:${hI[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,s,a){return new Promise((l,p)=>{const v=new cA;v.listenOnce(oA.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Cy.NO_ERROR:const M=v.getResponseJson();$e("Connection","XHR received:",JSON.stringify(M)),l(M);break;case Cy.TIMEOUT:$e("Connection",'RPC "'+e+'" timed out'),p(new Ue(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case Cy.HTTP_ERROR:const P=v.getStatus();if($e("Connection",'RPC "'+e+'" failed with status:',P,"response text:",v.getResponseText()),P>0){const B=v.getResponseJson().error;if(B&&B.status&&B.message){const ee=function(re){const Fe=re.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(Fe)>=0?Fe:Ie.UNKNOWN}(B.status);p(new Ue(ee,B.message))}else p(new Ue(Ie.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new Ue(Ie.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{$e("Connection",'RPC "'+e+'" completed.')}});const D=JSON.stringify(a);v.send(t,"POST",D,s,15)})}ji(e,t){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=KE(),l=sA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new uA({})),this.Ui(p.initMessageHeaders,t),(0,Pt.uI)()||(0,Pt.b$)()||(0,Pt.d)()||(0,Pt.w1)()||(0,Pt.Mn)()||(0,Pt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const v=s.join("");$e("Connection","Creating WebChannel: "+v,p);const D=a.createWebChannel(v,p);let M=!1,P=!1;const B=new KA({vi:re=>{P?$e("Connection","Not sending because WebChannel is closed:",re):(M||($e("Connection","Opening WebChannel transport."),D.open(),M=!0),$e("Connection","WebChannel sending:",re),D.send(re))},Vi:()=>D.close()}),ee=(re,Fe,Ze)=>{re.listen(Fe,it=>{try{Ze(it)}catch(Qt){setTimeout(()=>{throw Qt},0)}})};return ee(D,fw.EventType.OPEN,()=>{P||$e("Connection","WebChannel transport opened.")}),ee(D,fw.EventType.CLOSE,()=>{P||(P=!0,$e("Connection","WebChannel transport closed"),B.$i())}),ee(D,fw.EventType.ERROR,re=>{P||(P=!0,Iy("Connection","WebChannel transport errored:",re),B.$i(new Ue(Ie.UNAVAILABLE,"The operation could not be completed")))}),ee(D,fw.EventType.MESSAGE,re=>{var Fe;if(!P){const Ze=re.data[0];Dt(!!Ze);const it=Ze,Qt=it.error||(null===(Fe=it[0])||void 0===Fe?void 0:Fe.error);if(Qt){$e("Connection","WebChannel received error:",Qt);const Tn=Qt.status;let Xn=function(Lr){const Ou=kr[Lr];if(void 0!==Ou)return EC(Ou)}(Tn),rn=Qt.message;void 0===Xn&&(Xn=Ie.INTERNAL,rn="Unknown error status: "+Tn+" with message "+Qt.message),P=!0,B.$i(new Ue(Xn,rn)),D.close()}else $e("Connection","WebChannel received:",Ze),B.Oi(Ze)}}),ee(l,aA.STAT_EVENT,re=>{re.stat===hw.PROXY?$e("Connection","Detected buffering proxy"):re.stat===hw.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{B.ki()},0),B}}function fI(){return"undefined"!=typeof window?window:null}function Xd(){return"undefined"!=typeof document?document:null}function Ig(n){return new p1(n,!0)}class o0{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=s,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-s);a>0&&$e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class a0{constructor(e,t,s,a,l,p,v){this.Oe=e,this.er=s,this.nr=a,this.sr=l,this.credentialsProvider=p,this.listener=v,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new o0(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,Ae.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,Ae.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var s=this;return(0,Ae.Z)(function*(){s.gr(),s.yr(),s.ar.cancel(),s.ir++,4!==e?s.ar.reset():t&&t.code===Ie.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),s.ar.Yi()):t&&t.code===Ie.UNAUTHENTICATED&&3!==s.state&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.pr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(s=>{this.ir===t&&this.Er(s)},s=>{e(()=>{const a=new Ue(Ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Ir(a)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(s=>{t(()=>this.Ir(s))}),this.stream.onMessage(s=>{t(()=>this.onMessage(s))})}lr(){var e=this;this.state=5,this.ar.Xi((0,Ae.Z)(function*(){e.state=0,e.start()}))}Ir(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pI extends a0{constructor(e,t,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l),this.N=a}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(D=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===D?1:"REMOVE"===D?2:"CURRENT"===D?3:"RESET"===D?4:ht(),a=e.targetChange.targetIds||[],l=function(D,M){return D.D?(Dt(void 0===M||"string"==typeof M),Xr.fromBase64String(M||"")):(Dt(void 0===M||M instanceof Uint8Array),Xr.fromUint8Array(M||new Uint8Array))}(n,e.targetChange.resumeToken),p=e.targetChange.cause,v=p&&function(D){const M=void 0===D.code?Ie.UNKNOWN:EC(D.code);return new Ue(M,D.message||"")}(p);t=new Ow(s,a,l,v||null)}else if("documentChange"in e){const s=e.documentChange,a=Eu(n,s.document.name),l=ni(s.document.updateTime),p=new $i({mapValue:{fields:s.document.fields}}),v=zn.newFoundDocument(a,l,p);t=new pg(s.targetIds||[],s.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const s=e.documentDelete,a=Eu(n,s.document),l=s.readTime?ni(s.readTime):kt.min(),p=zn.newNoDocument(a,l);t=new pg([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=Eu(n,s.document);t=new pg([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return ht();{const s=e.filter,l=new vA(s.count||0);t=new Nw(s.targetId,l)}}var D;return t}(this.N,e),s=function(a){if(!("targetChange"in a))return kt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?kt.min():l.readTime?ni(l.readTime):kt.min()}(e);return this.listener.Rr(t,s)}br(e){const t={};t.database=yg(this.N),t.addTarget=function(a,l){let p;const v=l.target;return p=ag(v)?{documents:kw(a,v)}:{query:Fw(a,v)},p.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?p.resumeToken=IA(a,l.resumeToken):l.snapshotVersion.compareTo(kt.min())>0&&(p.readTime=Wd(a,l.snapshotVersion.toTimestamp())),p}(this.N,e);const s=function(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ht()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.mr(t)}Pr(e){const t={};t.database=yg(this.N),t.removeTarget=e,this.mr(t)}}class u0 extends a0{constructor(e,t,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l),this.N=a,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(Dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(Dt(void 0!==e),n.map(t=>function(s,a){let l=ni(s.updateTime?s.updateTime:a);return l.isEqual(kt.min())&&(l=ni(a)),new Fy(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.Dr(s,t)}return Dt(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=yg(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Rf(this.N,s))};this.mr(t)}}class gI extends class{}{constructor(e,t,s){super(),this.credentials=e,this.sr=t,this.N=s,this.kr=!1}$r(){if(this.kr)throw new Ue(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,s){return this.$r(),this.credentials.getToken().then(a=>this.sr.Li(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ie.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Ue(Ie.UNKNOWN,a.toString())})}Ki(e,t,s){return this.$r(),this.credentials.getToken().then(a=>this.sr.Ki(e,t,s,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ie.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Ue(Ie.UNKNOWN,a.toString())})}terminate(){this.kr=!0}}class mI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(Ir(t),this.Mr=!1):$e("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class YA{constructor(e,t,s,a,l){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=l,this.zr.Ti(v=>{s.enqueueAndForget((0,Ae.Z)(function*(){var D;yo(p)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(D=(0,Ae.Z)(function*(M){const P=We(M);P.Wr.add(4),yield Zf(P),P.Hr.set("Unknown"),P.Wr.delete(4),yield Dg(P)}),function(M){return D.apply(this,arguments)})(p))}))}),this.Hr=new mI(s,a)}}function Dg(n){return i_.apply(this,arguments)}function i_(){return(i_=(0,Ae.Z)(function*(n){if(yo(n))for(const e of n.Gr)yield e(!0)})).apply(this,arguments)}function Zf(n){return s_.apply(this,arguments)}function s_(){return(s_=(0,Ae.Z)(function*(n){for(const e of n.Gr)yield e(!1)})).apply(this,arguments)}function eh(n,e){const t=We(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),Cu(t)?ln(t):Iu(t).hr()&&yI(t,e))}function Pl(n,e){const t=We(n),s=Iu(t);t.Qr.delete(e),s.hr()&&Wf(t,e),0===t.Qr.size&&(s.hr()?s.wr():yo(t)&&t.Hr.set("Unknown"))}function yI(n,e){n.Jr.Y(e.targetId),Iu(n).br(e)}function Wf(n,e){n.Jr.Y(e),Iu(n).Pr(e)}function ln(n){n.Jr=new AC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),Iu(n).start(),n.Hr.Lr()}function Cu(n){return yo(n)&&!Iu(n).ur()&&n.Qr.size>0}function yo(n){return 0===We(n).Wr.size}function Kf(n){n.Jr=void 0}function v1(n){return St.apply(this,arguments)}function St(){return(St=(0,Ae.Z)(function*(n){n.Qr.forEach((e,t)=>{yI(n,e)})})).apply(this,arguments)}function Yo(n,e){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,Ae.Z)(function*(n,e){Kf(n),Cu(n)?(n.Hr.qr(e),ln(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function th(n,e,t){return _I.apply(this,arguments)}function _I(){return(_I=(0,Ae.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof Ow&&2===e.state&&e.cause)try{yield(s=(0,Ae.Z)(function*(a,l){const p=l.cause;for(const v of l.targetIds)a.Qr.has(v)&&(yield a.remoteSyncer.rejectListen(v,p),a.Qr.delete(v),a.Jr.removeTarget(v))}),function(a,l){return s.apply(this,arguments)})(n,e)}catch(s){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Ag(n,s)}else if(e instanceof pg?n.Jr.rt(e):e instanceof Nw?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(kt.min()))try{const s=yield Jw(n.localStore);t.compareTo(s)>=0&&(yield function(a,l){const p=a.Jr._t(l);return p.targetChanges.forEach((v,D)=>{if(v.resumeToken.approximateByteSize()>0){const M=a.Qr.get(D);M&&a.Qr.set(D,M.withResumeToken(v.resumeToken,l))}}),p.targetMismatches.forEach(v=>{const D=a.Qr.get(v);if(!D)return;a.Qr.set(v,D.withResumeToken(Xr.EMPTY_BYTE_STRING,D.snapshotVersion)),Wf(a,v);const M=new Al(D.target,v,1,D.sequenceNumber);yI(a,M)}),a.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(s){$e("RemoteStore","Failed to raise snapshot:",s),yield Ag(n,s)}var s})).apply(this,arguments)}function Ag(n,e,t){return o_.apply(this,arguments)}function o_(){return(o_=(0,Ae.Z)(function*(n,e,t){if(!Kd(e))throw e;n.Wr.add(1),yield Zf(n),n.Hr.set("Offline"),t||(t=()=>Jw(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield Dg(n)}))})).apply(this,arguments)}function QA(n,e){return e().catch(t=>Ag(n,t,e))}function Yf(n){return c0.apply(this,arguments)}function c0(){return(c0=(0,Ae.Z)(function*(n){const e=We(n),t=Du(e);let s=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;Qo(e);)try{const a=yield $A(e.localStore,s);if(null===a){0===e.jr.length&&t.wr();break}s=a.batchId,ur(e,a)}catch(a){yield Ag(e,a)}Jo(e)&&l0(e)})).apply(this,arguments)}function Qo(n){return yo(n)&&n.jr.length<10}function ur(n,e){n.jr.push(e);const t=Du(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function Jo(n){return yo(n)&&!Du(n).ur()&&n.jr.length>0}function l0(n){Du(n).start()}function JA(n){return a_.apply(this,arguments)}function a_(){return(a_=(0,Ae.Z)(function*(n){Du(n).Nr()})).apply(this,arguments)}function d0(n){return kl.apply(this,arguments)}function kl(){return(kl=(0,Ae.Z)(function*(n){const e=Du(n);for(const t of n.jr)e.Sr(t.mutations)})).apply(this,arguments)}function Sg(n,e,t){return h0.apply(this,arguments)}function h0(){return(h0=(0,Ae.Z)(function*(n,e,t){const s=n.jr.shift(),a=$y.from(s,e,t);yield QA(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Yf(n)})).apply(this,arguments)}function nh(n,e){return f0.apply(this,arguments)}function f0(){return(f0=(0,Ae.Z)(function*(n,e){var t;e&&Du(n).Vr&&(yield(t=(0,Ae.Z)(function*(s,a){if(bC(l=a.code)&&l!==Ie.ABORTED){const p=s.jr.shift();Du(s).dr(),yield QA(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield Yf(s)}var l}),function(s,a){return t.apply(this,arguments)})(n,e)),Jo(n)&&l0(n)})).apply(this,arguments)}function u_(n,e){return xg.apply(this,arguments)}function xg(){return(xg=(0,Ae.Z)(function*(n,e){const t=We(n);e?(t.Wr.delete(2),yield Dg(t)):e||(t.Wr.add(2),yield Zf(t),t.Hr.set("Unknown"))})).apply(this,arguments)}function Iu(n){return n.Yr||(n.Yr=function(e,t,s){const a=We(e);return a.$r(),new pI(t,a.sr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:v1.bind(null,n),Ci:Yo.bind(null,n),Rr:th.bind(null,n)}),n.Gr.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.Yr.dr(),Cu(n)?ln(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),Kf(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function Du(n){return n.Xr||(n.Xr=function(e,t,s){const a=We(e);return a.$r(),new u0(t,a.sr,a.credentials,a.N,s)}(n.datastore,n.asyncQueue,{Si:JA.bind(null,n),Ci:nh.bind(null,n),Cr:d0.bind(null,n),Dr:Sg.bind(null,n)}),n.Gr.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.Xr.dr(),yield Yf(n)):(yield n.Xr.stop(),n.jr.length>0&&($e("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class c_{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,l){const p=Date.now()+s,v=new c_(e,t,p,a,l);return v.start(s),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function La(n,e){if(Ir("AsyncQueue",`${e}: ${n}`),Kd(n))return new Ue(Ie.UNAVAILABLE,`${e}: ${n}`);throw n}class Qf{constructor(e){this.comparator=e?(t,s)=>e(t,s)||ut.comparator(t.key,s.key):(t,s)=>ut.comparator(t.key,s.key),this.keyedMap=Rw(),this.sortedSet=new ti(this.comparator)}static emptySet(e){return new Qf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Qf;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Mg{constructor(){this.Zr=new ti(ut.comparator)}track(e){const t=e.doc.key,s=this.Zr.get(t);s?0!==e.type&&3===s.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==s.type?this.Zr=this.Zr.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Zr=this.Zr.remove(t):1===e.type&&2===s.type?this.Zr=this.Zr.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):ht():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,s)=>{e.push(s)}),e}}class rh{constructor(e,t,s,a,l,p,v,D){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=p,this.syncStateChanged=v,this.excludesMetadataChanges=D}static fromInitialDocuments(e,t,s,a){const l=[];return t.forEach(p=>{l.push({type:0,doc:p})}),new rh(e,t,Qf.emptySet(t),l,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class vI{constructor(){this.no=void 0,this.listeners=[]}}class wI{constructor(){this.queries=new jf(e=>yA(e),bf),this.onlineState="Unknown",this.so=new Set}}function Jf(n,e){return p0.apply(this,arguments)}function p0(){return(p0=(0,Ae.Z)(function*(n,e){const t=We(n),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new vI),a)try{l.no=yield t.onListen(s)}catch(p){const v=La(p,`Initialization of query '${ky(e.query)}' failed`);return void e.onError(v)}t.queries.set(s,l),l.listeners.push(e),e.io(t.onlineState),l.no&&e.ro(l.no)&&Tt(t)})).apply(this,arguments)}function Rg(n,e){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,Ae.Z)(function*(n,e){const t=We(n),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const p=l.listeners.indexOf(e);p>=0&&(l.listeners.splice(p,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)})).apply(this,arguments)}function w1(n,e){const t=We(n);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const v of p.listeners)v.ro(a)&&(s=!0);p.no=a}}s&&Tt(t)}function b1(n,e,t){const s=We(n),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function Tt(n){n.so.forEach(e=>{e.next()})}class bI{constructor(e,t,s){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=s||{}}ro(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new rh(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=rh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class Og{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class EI{constructor(e){this.N=e}zn(e){return Eu(this.N,e)}Hn(e){return e.metadata.exists?ar(this.N,e.document,!1):zn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return ni(e)}}class XA{constructor(e,t,s){this._o=e,this.localStore=t,this.N=s,this.queries=[],this.documents=[],this.progress=CI(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,s=new EI(this.N);for(const a of e)if(a.metadata.queries){const l=s.zn(a.metadata.name);for(const p of a.metadata.queries){const v=(t.get(p)||En()).add(l);t.set(p,v)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function(n,e,t,s){return e0.apply(this,arguments)}(e.localStore,new EI(e.N),e.documents,e._o.id),s=e.yo(e.documents);for(const a of e.queries)yield uI(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",new VA(Object.assign({},e.progress),t)})()}}function CI(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class eS{constructor(e){this.key=e}}class tS{constructor(e){this.key=e}}class II{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=En(),this.mutatedKeys=En(),this.Io=Pa(e),this.Ao=new Qf(this.Io)}get Ro(){return this.po}bo(e,t){const s=t?t.Po:new Mg,a=t?t.Ao:this.Ao;let l=t?t.mutatedKeys:this.mutatedKeys,p=a,v=!1;const D=Oy(this.query)&&a.size===this.query.limit?a.last():null,M=cg(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((P,B)=>{const ee=a.get(P),re=zd(this.query,B)?B:null,Fe=!!ee&&this.mutatedKeys.has(ee.key),Ze=!!re&&(re.hasLocalMutations||this.mutatedKeys.has(re.key)&&re.hasCommittedMutations);let it=!1;ee&&re?ee.data.isEqual(re.data)?Fe!==Ze&&(s.track({type:3,doc:re}),it=!0):this.vo(ee,re)||(s.track({type:2,doc:re}),it=!0,(D&&this.Io(re,D)>0||M&&this.Io(re,M)<0)&&(v=!0)):!ee&&re?(s.track({type:0,doc:re}),it=!0):ee&&!re&&(s.track({type:1,doc:ee}),it=!0,(D||M)&&(v=!0)),it&&(re?(p=p.add(re),l=Ze?l.add(P):l.delete(P)):(p=p.delete(P),l=l.delete(P)))}),Oy(this.query)||cg(this.query))for(;p.size>this.query.limit;){const P=Oy(this.query)?p.last():p.first();p=p.delete(P.key),l=l.delete(P.key),s.track({type:1,doc:P})}return{Ao:p,Po:s,Ln:v,mutatedKeys:l}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const l=e.Po.eo();l.sort((M,P)=>function(B,ee){const re=Fe=>{switch(Fe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return re(B)-re(ee)}(M.type,P.type)||this.Io(M.doc,P.doc)),this.Vo(s);const p=t?this.So():[],v=0===this.Eo.size&&this.current?1:0,D=v!==this.To;return this.To=v,0!==l.length||D?{snapshot:new rh(this.query,e.Ao,a,l,e.mutatedKeys,0===v,D,!1),Do:p}:{Do:p}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new Mg,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=En(),this.Ao.forEach(s=>{this.Co(s.key)&&(this.Eo=this.Eo.add(s.key))});const t=[];return e.forEach(s=>{this.Eo.has(s)||t.push(new tS(s))}),this.Eo.forEach(s=>{e.has(s)||t.push(new eS(s))}),t}No(e){this.po=e.Gn,this.Eo=En();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return rh.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Gi{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class nS{constructor(e){this.key=e,this.ko=!1}}class rS{constructor(e,t,s,a,l,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=p,this.$o={},this.Oo=new jf(v=>yA(v),bf),this.Fo=new Map,this.Mo=new Set,this.Lo=new ti(ut.comparator),this.Bo=new Map,this.Uo=new Qd,this.qo={},this.Ko=new Map,this.jo=Sc.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function g0(n,e){return m0.apply(this,arguments)}function m0(){return(m0=(0,Ae.Z)(function*(n,e){const t=O0(n);let s,a;const l=t.Oo.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.xo();else{const p=yield qf(t.localStore,go(e)),v=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield y0(t,e,s,"current"===v),t.isPrimaryClient&&eh(t.remoteStore,p)}return a})).apply(this,arguments)}function y0(n,e,t,s){return _0.apply(this,arguments)}function _0(){return(_0=(0,Ae.Z)(function*(n,e,t,s){n.Wo=(P,B,ee)=>{return(re=(0,Ae.Z)(function*(Fe,Ze,it,Qt){let Tn=Ze.view.bo(it);Tn.Ln&&(Tn=yield Cg(Fe.localStore,Ze.query,!1).then(({documents:Lr})=>Ze.view.bo(Lr,Tn)));const Xn=Qt&&Qt.targetChanges.get(Ze.targetId),rn=Ze.view.applyChanges(Tn,Fe.isPrimaryClient,Xn);return l_(Fe,Ze.targetId,rn.Do),rn.snapshot}),function(Fe,Ze,it,Qt){return re.apply(this,arguments)})(n,P,B,ee);var re};const a=yield Cg(n.localStore,e,!0),l=new II(e,a.Gn),p=l.bo(a.documents),v=xf.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),D=l.applyChanges(p,n.isPrimaryClient,v);l_(n,t,D.Do);const M=new Gi(e,t,l);return n.Oo.set(e,M),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),D.snapshot})).apply(this,arguments)}function iS(n,e){return v0.apply(this,arguments)}function v0(){return(v0=(0,Ae.Z)(function*(n,e){const t=We(n),s=t.Oo.get(e),a=t.Fo.get(s.targetId);if(a.length>1)return t.Fo.set(s.targetId,a.filter(l=>!bf(l,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Gf(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Pl(t.remoteStore,s.targetId),Xf(t,s.targetId)}).catch(xc))):(Xf(t,s.targetId),yield Gf(t.localStore,s.targetId,!0))})).apply(this,arguments)}function Pg(){return(Pg=(0,Ae.Z)(function*(n,e,t){const s=Fl(n);try{const a=yield function(l,p){const v=We(l),D=Jr.now(),M=p.reduce((B,ee)=>B.add(ee.key),En());let P;return v.persistence.runTransaction("Locally write mutations","readwrite",B=>v.Qn.Pn(B,M).next(ee=>{P=ee;const re=[];for(const Fe of p){const Ze=wC(Fe,P.get(Fe.key));null!=Ze&&re.push(new Cc(Fe.key,Ze,_w(Ze.value.mapValue),Pr.exists(!0)))}return v.In.addMutationBatch(B,D,re,p)})).then(B=>(B.applyToLocalDocumentSet(P),{batchId:B.batchId,changes:P}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,p,v){let D=l.qo[l.currentUser.toKey()];D||(D=new ti(Kt)),D=D.insert(p,v),l.qo[l.currentUser.toKey()]=D}(s,a.batchId,t),yield Tu(s,a.changes),yield Yf(s.remoteStore)}catch(a){const l=La(a,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function DI(n,e){return w0.apply(this,arguments)}function w0(){return(w0=(0,Ae.Z)(function*(n,e){const t=We(n);try{const s=yield BA(t.localStore,e);e.targetChanges.forEach((a,l)=>{const p=t.Bo.get(l);p&&(Dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.ko=!0:a.modifiedDocuments.size>0?Dt(p.ko):a.removedDocuments.size>0&&(Dt(p.ko),p.ko=!1))}),yield Tu(t,s,e)}catch(s){yield xc(s)}})).apply(this,arguments)}function b0(n,e,t){const s=We(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.Oo.forEach((l,p)=>{const v=p.view.io(e);v.snapshot&&a.push(v.snapshot)}),function(l,p){const v=We(l);v.onlineState=p;let D=!1;v.queries.forEach((M,P)=>{for(const B of P.listeners)B.io(p)&&(D=!0)}),D&&Tt(v)}(s.eventManager,e),a.length&&s.$o.Rr(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function E0(n,e,t){return C0.apply(this,arguments)}function C0(){return(C0=(0,Ae.Z)(function*(n,e,t){const s=We(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Bo.get(e),l=a&&a.key;if(l){let p=new ti(ut.comparator);p=p.insert(l,zn.newNoDocument(l,kt.min()));const v=En().add(l),D=new Sf(kt.min(),new Map,new mr(Kt),p,v);yield DI(s,D),s.Lo=s.Lo.remove(l),s.Bo.delete(e),AI(s)}else yield Gf(s.localStore,e,!1).then(()=>Xf(s,e,t)).catch(xc)})).apply(this,arguments)}function E1(n,e){return I0.apply(this,arguments)}function I0(){return(I0=(0,Ae.Z)(function*(n,e){const t=We(n),s=e.batch.batchId;try{const a=yield Qw(t.localStore,e);ih(t,s,null),A0(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Tu(t,a)}catch(a){yield xc(a)}})).apply(this,arguments)}function oS(n,e,t){return D0.apply(this,arguments)}function D0(){return(D0=(0,Ae.Z)(function*(n,e,t){const s=We(n);try{const a=yield function(l,p){const v=We(l);return v.persistence.runTransaction("Reject batch","readwrite-primary",D=>{let M;return v.In.lookupMutationBatch(D,p).next(P=>(Dt(null!==P),M=P.keys(),v.In.removeMutationBatch(D,P))).next(()=>v.In.performConsistencyCheck(D)).next(()=>v.Qn.Pn(D,M))})}(s.localStore,e);ih(s,e,t),A0(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Tu(s,a)}catch(a){yield xc(a)}})).apply(this,arguments)}function T0(){return(T0=(0,Ae.Z)(function*(n,e){const t=We(n);yo(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const p=We(l);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>p.In.getHighestUnacknowledgedBatchId(v))}(t.localStore);if(-1===s)return void e.resolve();const a=t.Ko.get(s)||[];a.push(e),t.Ko.set(s,a)}catch(s){const a=La(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function A0(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function ih(n,e,t){const s=We(n);let a=s.qo[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.qo[s.currentUser.toKey()]=a}}function Xf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Fo.get(e))n.Oo.delete(s),t&&n.$o.Go(s,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(s=>{n.Uo.containsKey(s)||TI(n,s)})}function TI(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(Pl(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),AI(n))}function l_(n,e,t){for(const s of t)s instanceof eS?(n.Uo.addReference(s.key,e),kg(n,s)):s instanceof tS?($e("SyncEngine","Document no longer in limbo: "+s.key),n.Uo.removeReference(s.key,e),n.Uo.containsKey(s.key)||TI(n,s.key)):ht()}function kg(n,e){const t=e.key,s=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(s)||($e("SyncEngine","New document in limbo: "+t),n.Mo.add(s),AI(n))}function AI(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new ut(mn.fromString(e)),s=n.jo.next();n.Bo.set(s,new nS(t)),n.Lo=n.Lo.insert(t,s),eh(n.remoteStore,new Al(go(Gd(t.path)),s,2,$o.T))}}function Tu(n,e,t){return S0.apply(this,arguments)}function S0(){return(S0=(0,Ae.Z)(function*(n,e,t){const s=We(n),a=[],l=[],p=[];var v;s.Oo.isEmpty()||(s.Oo.forEach((v,D)=>{p.push(s.Wo(D,e,t).then(M=>{if(M){s.isPrimaryClient&&s.sharedClientState.updateQueryState(D.targetId,M.fromCache?"not-current":"current"),a.push(M);const P=iI.kn(D.targetId,M);l.push(P)}}))}),yield Promise.all(p),s.$o.Rr(a),yield(v=(0,Ae.Z)(function*(D,M){const P=We(D);try{yield P.persistence.runTransaction("notifyLocalViewChanges","readwrite",B=>Ve.forEach(M,ee=>Ve.forEach(ee.Nn,re=>P.persistence.referenceDelegate.addReference(B,ee.targetId,re)).next(()=>Ve.forEach(ee.xn,re=>P.persistence.referenceDelegate.removeReference(B,ee.targetId,re)))))}catch(B){if(!Kd(B))throw B;$e("LocalStore","Failed to update sequence numbers: "+B)}for(const B of M){const ee=B.targetId;if(!B.fromCache){const re=P.Un.get(ee),Ze=re.withLastLimboFreeSnapshotVersion(re.snapshotVersion);P.Un=P.Un.insert(ee,Ze)}}}),function(D,M){return v.apply(this,arguments)})(s.localStore,l))})).apply(this,arguments)}function uS(n,e){return x0.apply(this,arguments)}function x0(){return(x0=(0,Ae.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const s=yield Wy(t.localStore,e);t.currentUser=e,(a=t).Ko.forEach(p=>{p.forEach(v=>{v.reject(new Ue(Ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ko.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Tu(t,s.Wn)}var a})).apply(this,arguments)}function cS(n,e){const t=We(n),s=t.Bo.get(e);if(s&&s.ko)return En().add(s.key);{let a=En();const l=t.Fo.get(e);if(!l)return a;for(const p of l){const v=t.Oo.get(p);a=a.unionWith(v.view.Ro)}return a}}function lS(n,e){return d_.apply(this,arguments)}function d_(){return(d_=(0,Ae.Z)(function*(n,e){const t=We(n),s=yield Cg(t.localStore,e.query,!0),a=e.view.No(s);return t.isPrimaryClient&&l_(t,e.targetId,a.Do),a})).apply(this,arguments)}function dS(n){return M0.apply(this,arguments)}function M0(){return(M0=(0,Ae.Z)(function*(n){const e=We(n);return aI(e.localStore).then(t=>Tu(e,t))})).apply(this,arguments)}function C1(n,e,t,s){return SI.apply(this,arguments)}function SI(){return(SI=(0,Ae.Z)(function*(n,e,t,s){const a=We(n),l=yield function(p,v){const D=We(p),M=We(D.In);return D.persistence.runTransaction("Lookup mutation documents","readonly",P=>M.Xt(P,v).next(B=>B?D.Qn.Pn(P,B):Ve.resolve(null)))}(a.localStore,e);var v;null!==l?("pending"===t?yield Yf(a.remoteStore):"acknowledged"===t||"rejected"===t?(ih(a,e,s||null),A0(a,e),v=e,We(We(a.localStore).In).te(v)):ht(),yield Tu(a,l)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Fg(){return(Fg=(0,Ae.Z)(function*(n,e){const t=We(n);if(O0(t),Fl(t),!0===e&&!0!==t.Qo){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield xI(t,s.toArray());t.Qo=!0,yield u_(t.remoteStore,!0);for(const l of a)eh(t.remoteStore,l)}else if(!1===e&&!1!==t.Qo){const s=[];let a=Promise.resolve();t.Fo.forEach((l,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(Xf(t,p),Gf(t.localStore,p,!0))),Pl(t.remoteStore,p)}),yield a,yield xI(t,s),function(l){const p=We(l);p.Bo.forEach((v,D)=>{Pl(p.remoteStore,D)}),p.Uo.us(),p.Bo=new Map,p.Lo=new ti(ut.comparator)}(t),t.Qo=!1,yield u_(t.remoteStore,!1)}})).apply(this,arguments)}function xI(n,e,t){return R0.apply(this,arguments)}function R0(){return(R0=(0,Ae.Z)(function*(n,e,t){const s=We(n),a=[],l=[];for(const p of e){let v;const D=s.Fo.get(p);if(D&&0!==D.length){v=yield qf(s.localStore,go(D[0]));for(const M of D){const P=s.Oo.get(M),B=yield lS(s,P);B.snapshot&&l.push(B.snapshot)}}else{const M=yield Xw(s.localStore,p);v=yield qf(s.localStore,M),yield y0(s,MI(M),p,!1)}a.push(v)}return s.$o.Rr(l),a})).apply(this,arguments)}function MI(n){return dC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function hS(n){const e=We(n);return We(We(e.localStore).persistence).pn()}function fS(n,e,t,s){return N0.apply(this,arguments)}function N0(){return(N0=(0,Ae.Z)(function*(n,e,t,s){const a=We(n);if(a.Qo)$e("SyncEngine","Ignoring unexpected query state notification.");else if(a.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield aI(a.localStore),p=Sf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Tu(a,l,p);break}case"rejected":yield Gf(a.localStore,e,!0),Xf(a,e,s);break;default:ht()}})).apply(this,arguments)}function RI(n,e,t){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,Ae.Z)(function*(n,e,t){const s=O0(n);if(s.Qo){for(const a of e){if(s.Fo.has(a)){$e("SyncEngine","Adding an already active target "+a);continue}const l=yield Xw(s.localStore,a),p=yield qf(s.localStore,l);yield y0(s,MI(l),p.targetId,!1),eh(s.remoteStore,p)}for(const a of t)s.Fo.has(a)&&(yield Gf(s.localStore,a,!1).then(()=>{Pl(s.remoteStore,a),Xf(s,a)}).catch(xc))}})).apply(this,arguments)}function O0(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E0.bind(null,e),e.$o.Rr=w1.bind(null,e.eventManager),e.$o.Go=b1.bind(null,e.eventManager),e}function Fl(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oS.bind(null,e),e}class P0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.N=Ig(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return oI(this.persistence,new sI,e.initialUser,this.N)}Jo(e){return new ZA(t0.Ns,this.N)}Ho(e){return new dI}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xo extends P0{constructor(e,t,s){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,Ae.Z)(function*(){yield t().call(s,e),yield function(n){return Qy.apply(this,arguments)}(s.localStore),yield s.Zo.initialize(s,e),yield Fl(s.Zo.syncEngine),yield Yf(s.Zo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Xo(e){return oI(this.persistence,new sI,e.initialUser,this.N)}Yo(e){return new eI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=Hf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?hs.withCacheSize(this.cacheSizeBytes):hs.DEFAULT;return new Ko(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,fI(),Xd(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new dI}}class k0 extends Xo{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,Ae.Z)(function*(){yield t().call(s,e);const a=s.Zo.syncEngine;s.sharedClientState instanceof s0&&(s.sharedClientState.syncEngine={_i:C1.bind(null,a),mi:fS.bind(null,a),gi:RI.bind(null,a),pn:hS.bind(null,a),wi:dS.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var l=(0,Ae.Z)(function*(p){yield function(n,e){return Fg.apply(this,arguments)}(s.Zo.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):p||s.gcScheduler.stop())});return function(p){return l.apply(this,arguments)}}())})()}Ho(e){const t=fI();if(!s0.bt(t))throw new Ue(Ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Hf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new s0(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class F0{initialize(e,t){var s=this;return(0,Ae.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>b0(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=uS.bind(null,s.syncEngine),yield u_(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wI}createDatastore(e){const t=Ig(e.databaseInfo.databaseId),s=new _1(e.databaseInfo);return new gI(e.credentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=v=>b0(this.syncEngine,v,0),p=Ol.bt()?new Ol:new r_,new YA(t,s,a,l,p);var t,s,a,l,p}createSyncEngine(e,t){return function(s,a,l,p,v,D,M){const P=new rS(s,a,l,p,v,D);return M&&(P.Qo=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const s=We(t);$e("RemoteStore","RemoteStore shutting down."),s.Wr.add(5),yield Zf(s),s.zr.shutdown(),s.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function L0(n,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class NI{constructor(e,t){this.nc=e,this.N=t,this.metadata=new Nr,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(s=>{s&&s.wo()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.rc();if(null===t)return null;const s=e.sc.decode(t),a=Number(s);isNaN(a)&&e.oc(`length string (${s}) is not valid number`);const l=yield e.cc(a);return new Og(JSON.parse(l),t.length+a)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,Ae.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}cc(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const s=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.nc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class pS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ue(Ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,Ae.Z)(function*(l,p){const v=We(l),D=yg(v.N)+"/documents",M={documents:p.map(re=>gg(v.N,re))},P=yield v.Ki("BatchGetDocuments",D,M),B=new Map;P.forEach(re=>{const Fe=function(n,e){return"found"in e?function(t,s){Dt(!!s.found);const a=Eu(t,s.found.name),l=ni(s.found.updateTime),p=new $i({mapValue:{fields:s.found.fields}});return zn.newFoundDocument(a,l,p)}(n,e):"missing"in e?function(t,s){Dt(!!s.missing),Dt(!!s.readTime);const a=Eu(t,s.missing),l=ni(s.readTime);return zn.newNoDocument(a,l)}(n,e):ht()}(v.N,re);B.set(Fe.key.toString(),Fe)});const ee=[];return p.forEach(re=>{const Fe=B.get(re.toString());Dt(!!Fe),ee.push(Fe)}),ee}),function(l,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new hg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const l=ut.fromPath(a);e.mutations.push(new Mw(l,e.precondition(l)))}),yield(s=(0,Ae.Z)(function*(a,l){const p=We(a),v=yg(p.N)+"/documents",D={writes:l.map(M=>Rf(p.N,M))};yield p.Li("Commit",v,D)}),function(a,l){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ht();t=kt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Ue(Ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Pr.updateTime(t):Pr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kt.min()))throw new Ue(Ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pr.updateTime(t)}return Pr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gS{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.hc=5,this.ar=new o0(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,Ae.Z)(function*(){const t=new pS(e.datastore),s=e.fc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.dc(l)}))}).catch(a=>{e.dc(a)})}))}fc(e){try{const t=this.updateFunction(e);return!Hd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!bC(t)}return!1}}class mS{constructor(e,t,s){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=s,this.user=Ci.UNAUTHENTICATED,this.clientId=Bd.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,Ae.Z)(function*(p){$e("FirestoreClient","Received user=",p.uid),yield a.credentialListener(p),a.user=p});return function(p){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(s){const a=La(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function V0(n,e){return U0.apply(this,arguments)}function U0(){return(U0=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,Ae.Z)(function*(l){s.isEqual(l)||(yield Wy(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function yS(n,e){return B0.apply(this,arguments)}function B0(){return(B0=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield j0(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>{return(l=(0,Ae.Z)(function*(p,v){const D=We(p);D.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const M=yo(D);D.Wr.add(3),yield Zf(D),M&&D.Hr.set("Unknown"),yield D.remoteSyncer.handleCredentialChange(v),D.Wr.delete(3),yield Dg(D)}),function(p,v){return l.apply(this,arguments)})(e.remoteStore,a);var l}),n.onlineComponents=e})).apply(this,arguments)}function j0(n){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,Ae.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield V0(n,new P0)),n.offlineComponents})).apply(this,arguments)}function $0(n){return h_.apply(this,arguments)}function h_(){return(h_=(0,Ae.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield yS(n,new F0)),n.onlineComponents})).apply(this,arguments)}function OI(n){return j0(n).then(e=>e.persistence)}function PI(n){return j0(n).then(e=>e.localStore)}function H0(n){return $0(n).then(e=>e.remoteStore)}function q0(n){return $0(n).then(e=>e.syncEngine)}function Vl(n){return G0.apply(this,arguments)}function G0(){return(G0=(0,Ae.Z)(function*(n){const e=yield $0(n),t=e.eventManager;return t.onListen=g0.bind(null,e.syncEngine),t.onUnlisten=iS.bind(null,e.syncEngine),t})).apply(this,arguments)}function kI(n,e,t={}){const s=new Nr;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(a,l,p,v,D){const M=new Vg({next:B=>{l.enqueueAndForget(()=>Rg(a,P));const ee=B.docs.has(p);!ee&&B.fromCache?D.reject(new Ue(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):ee&&B.fromCache&&v&&"server"===v.source?D.reject(new Ue(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(B)},error:B=>D.reject(B)}),P=new bI(Gd(p.path),M,{includeMetadataChanges:!0,fo:!0});return Jf(a,P)}(yield Vl(n),n.asyncQueue,e,t,s)})),s.promise}function FI(n,e,t={}){const s=new Nr;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(a,l,p,v,D){const M=new Vg({next:B=>{l.enqueueAndForget(()=>Rg(a,P)),B.fromCache&&"server"===v.source?D.reject(new Ue(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(B)},error:B=>D.reject(B)}),P=new bI(p,M,{includeMetadataChanges:!0,fo:!0});return Jf(a,P)}(yield Vl(n),n.asyncQueue,e,t,s)})),s.promise}class LI{constructor(e,t,s,a,l,p,v,D){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=p,this.autoDetectLongPolling=v,this.useFetchStreams=D}}class sh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sh&&e.projectId===this.projectId&&e.database===this.database}}const z0=new Map;function f_(n,e,t){if(!t)throw new Ue(Ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Z0(n,e,t,s){if(!0===e&&!0===s)throw new Ue(Ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VI(n){if(!ut.isDocumentKey(n))throw new Ue(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UI(n){if(ut.isDocumentKey(n))throw new Ue(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function p_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ht()}function nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=p_(n);throw new Ue(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function BI(n,e){if(e<=0)throw new Ue(Ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class jI{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Z0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bg{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jI({}),this._settingsFrozen=!1,e instanceof sh?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Ue(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sh(s.options.projectId)}(e))}get app(){if(!this._app)throw new Ue(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jI(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new l1;switch(t.type){case"gapi":const s=t.client;return Dt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new JE(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ue(Ie.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=z0.get(e);t&&($e("ComponentProvider","Removing Datastore"),z0.delete(e),t.terminate())}(this),Promise.resolve()}}class Dn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class Zi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class ea extends Zi{constructor(e,t,s){super(e,t,Gd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new ut(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function Va(n,e,...t){if(n=(0,Pt.m9)(n),f_("collection","path",e),n instanceof Bg){const s=mn.fromString(e,...t);return UI(s),new ea(n,null,s)}{if(!(n instanceof Dn||n instanceof ea))throw new Ue(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(mn.fromString(e,...t));return UI(s),new ea(n.firestore,null,s)}}function oh(n,e,...t){if(n=(0,Pt.m9)(n),1===arguments.length&&(e=Bd.I()),f_("doc","path",e),n instanceof Bg){const s=mn.fromString(e,...t);return VI(s),new Dn(n,null,new ut(s))}{if(!(n instanceof Dn||n instanceof ea))throw new Ue(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(mn.fromString(e,...t));return VI(s),new Dn(n.firestore,n instanceof ea?n.converter:null,new ut(s))}}function $I(n,e){return n=(0,Pt.m9)(n),e=(0,Pt.m9)(e),(n instanceof Dn||n instanceof ea)&&(e instanceof Dn||e instanceof ea)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function HI(n,e){return n=(0,Pt.m9)(n),e=(0,Pt.m9)(e),n instanceof Zi&&e instanceof Zi&&n.firestore===e.firestore&&bf(n._query,e._query)&&n.converter===e.converter}class D1{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new o0(this,"async_queue_retry"),this.Rc=()=>{const t=Xd();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=Xd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=Xd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new Nr;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!Kd(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(s=>{throw this.Tc=s,this.Ec=!1,Ir("INTERNAL UNHANDLED ERROR: ",function(l){let p=l.message||"";return l.stack&&(p=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),p}(s)),s}).then(s=>(this.Ec=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const a=c_.createAndSchedule(this,e,t,s,l=>this.Vc(l));return this.yc.push(a),a}bc(){this.Tc&&ht()}verifyOperationInProgress(){}Sc(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function $g(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class W0{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Zn extends Bg{constructor(e,t){super(e,t),this.type="firestore",this._queue=new D1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||zI(this),this._firestoreClient.terminate()}}function ri(n){return n._firestoreClient||zI(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function zI(n){var e;const t=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new LI(n._databaseId,l,n._persistenceKey,(v=t).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var l,v;n._firestoreClient=new mS(n._credentials,n._queue,s)}function g_(n,e,t){const s=new Nr;return n.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield V0(n,t),yield yS(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===Ie.FAILED_PRECONDITION||l.code===Ie.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var l})).then(()=>s.promise)}function XI(n){if(n._initialized||n._terminated)throw new Ue(Ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Au{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ue(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rc(Xr.fromBase64String(e))}catch(t){throw new Ue(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rc(Xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dr{constructor(e){this._methodName=e}}class Nc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const SS=/^__.*__$/;class xS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Cc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Af(e,this.data,t,this.fieldTransforms)}}class MS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Cc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ep(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class m_{constructor(e,t,s,a,l,p){this.settings=e,this.databaseId=t,this.N=s,this.ignoreUndefinedProperties=a,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=p||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new m_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$c({path:s,Fc:!1});return a.Mc(e),a}Lc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$c({path:s,Fc:!1});return a.xc(),a}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return v_(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(ep(this.kc)&&SS.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class K0{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=s||Ig(e)}jc(e,t,s,a=!1){return new m_({kc:e,methodName:t,Kc:s,path:Ii.emptyPath(),Fc:!1,qc:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function ah(n){const e=n._freezeSettings(),t=Ig(n._databaseId);return new K0(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Hg(n,e,t,s,a,l={}){const p=n.jc(l.merge||l.mergeFields?2:0,e,t,a);__("Data must be an object, but it was:",p,s);const v=Q0(s,p);let D,M;if(l.merge)D=new $d(p.fieldMask),M=p.fieldTransforms;else if(l.mergeFields){const P=[];for(const B of l.mergeFields){const ee=J0(e,B,t);if(!p.contains(ee))throw new Ue(Ie.INVALID_ARGUMENT,`Field '${ee}' is specified in your field mask but missing from your input data.`);iD(P,ee)||P.push(ee)}D=new $d(P),M=p.fieldTransforms.filter(B=>D.covers(B.field))}else D=null,M=p.fieldTransforms;return new xS(new $i(v),D,M)}class qg extends Dr{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qg}}function eD(n,e,t){return new m_({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class Gg extends Dr{_toFieldTransform(e){return new Df(e.path,new Ef)}isEqual(e){return e instanceof Gg}}class tD extends Dr{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=eD(this,e,!0),s=this.Qc.map(l=>uh(l,t)),a=new Zd(s);return new Df(e.path,a)}isEqual(e){return this===e}}class nD extends Dr{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=eD(this,e,!0),s=this.Qc.map(l=>uh(l,t)),a=new Ec(s);return new Df(e.path,a)}isEqual(e){return this===e}}class y_ extends Dr{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new If(e.N,qo(e.N,this.Wc));return new Df(e.path,t)}isEqual(e){return this===e}}function zg(n,e,t,s){const a=n.jc(1,e,t);__("Data must be an object, but it was:",a,s);const l=[],p=$i.empty();El(s,(D,M)=>{const P=Wg(e,D,t);M=(0,Pt.m9)(M);const B=a.Lc(P);if(M instanceof qg)l.push(P);else{const ee=uh(M,B);null!=ee&&(l.push(P),p.set(P,ee))}});const v=new $d(l);return new MS(p,v,a.fieldTransforms)}function rD(n,e,t,s,a,l){const p=n.jc(1,e,t),v=[J0(e,s,t)],D=[a];if(l.length%2!=0)throw new Ue(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ee=0;ee<l.length;ee+=2)v.push(J0(e,l[ee])),D.push(l[ee+1]);const M=[],P=$i.empty();for(let ee=v.length-1;ee>=0;--ee)if(!iD(M,v[ee])){const re=v[ee];let Fe=D[ee];Fe=(0,Pt.m9)(Fe);const Ze=p.Lc(re);if(Fe instanceof qg)M.push(re);else{const it=uh(Fe,Ze);null!=it&&(M.push(re),P.set(re,it))}}const B=new $d(M);return new MS(P,B,p.fieldTransforms)}function Y0(n,e,t,s=!1){return uh(t,n.jc(s?4:3,e))}function uh(n,e){if(Zg(n=(0,Pt.m9)(n)))return __("Unsupported field value:",e,n),Q0(n,e);if(n instanceof Dr)return function(t,s){if(!ep(s.kc))throw s.Uc(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Uc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const p of t){let v=uh(p,s.Bc(l));null==v&&(v={nullValue:"NULL_VALUE"}),a.push(v),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,Pt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qo(s.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Jr.fromDate(t);return{timestampValue:Wd(s.N,a)}}if(t instanceof Jr){const a=new Jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wd(s.N,a)}}if(t instanceof Nc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rc)return{bytesValue:IA(s.N,t._byteString)};if(t instanceof Dn){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s.Uc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:MC(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.Uc(`Unsupported field value: ${p_(t)}`)}(n,e)}function Q0(n,e){const t={};return tC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):El(n,(s,a)=>{const l=uh(a,e.Oc(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function Zg(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Jr||n instanceof Nc||n instanceof Rc||n instanceof Dn||n instanceof Dr)}function __(n,e,t){if(!Zg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=p_(t);throw e.Uc("an object"===s?n+" a custom object":n+" "+s)}var s}function J0(n,e,t){if((e=(0,Pt.m9)(e))instanceof Au)return e._internalPath;if("string"==typeof e)return Wg(n,e);throw v_("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const X0=new RegExp("[~\\*/\\[\\]]");function Wg(n,e,t){if(e.search(X0)>=0)throw v_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Au(...e.split("."))._internalPath}catch(s){throw v_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function v_(n,e,t,s,a){const l=s&&!s.isEmpty(),p=void 0!==a;let v=`Function ${e}() called with invalid data`;t&&(v+=" (via `toFirestore()`)"),v+=". ";let D="";return(l||p)&&(D+=" (found",l&&(D+=` in field ${s}`),p&&(D+=` in document ${a}`),D+=")"),new Ue(Ie.INVALID_ARGUMENT,v+n+D)}function iD(n,e){return n.some(t=>t.isEqual(e))}class tp{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sD extends tp{data(){return super.data()}}function Kg(n,e){return"string"==typeof e?Wg(n,e):e instanceof Au?e._internalPath:e._delegate._internalPath}class ch{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Su extends tp{constructor(e,t,s,a,l,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Kg("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class np extends Su{data(e={}){return super.data(e)}}class Ul{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ch(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new np(this._firestore,this._userDataWriter,s.key,s,new ch(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new np(s._firestore,s._userDataWriter,p.doc.key,p.doc,new ch(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const v=new np(s._firestore,s._userDataWriter,p.doc.key,p.doc,new ch(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let D=-1,M=-1;return 0!==p.type&&(D=l.indexOf(p.doc.key),l=l.delete(p.doc.key)),1!==p.type&&(l=l.add(p.doc),M=l.indexOf(p.doc.key)),{type:RS(p.type),doc:v,oldIndex:D,newIndex:M}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function RS(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function eb(n,e){return n instanceof Su&&e instanceof Su?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ul&&e instanceof Ul&&n._firestore===e._firestore&&HI(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function oD(n){if(cg(n)&&0===n.explicitOrderBy.length)throw new Ue(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rp{}function Oc(n,...e){for(const t of e)n=t._apply(n);return n}class aD extends rp{constructor(e,t,s){super(),this.Gc=e,this.zc=t,this.Hc=s,this.type="where"}_apply(e){const t=ah(e.firestore),s=function(a,l,p,v,D,M,P){let B;if(D.isKeyField()){if("array-contains"===M||"array-contains-any"===M)throw new Ue(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on FieldPath.documentId().`);if("in"===M||"not-in"===M){VS(P,M);const re=[];for(const Fe of P)re.push(LS(v,a,Fe));B={arrayValue:{values:re}}}else B=LS(v,a,P)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||VS(P,M),B=Y0(p,"where",P,"in"===M||"not-in"===M);const ee=Di.create(D,M,B);return function(re,Fe){if(Fe.v()){const it=Il(re);if(null!==it&&!it.isEqual(Fe.field))throw new Ue(Ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${it.toString()}' and '${Fe.field.toString()}'`);const Qt=Py(re);null!==Qt&&US(0,Fe.field,Qt)}const Ze=function(it,Qt){for(const Tn of it.filters)if(Qt.indexOf(Tn.op)>=0)return Tn.op;return null}(re,function(it){switch(it){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Fe.op));if(null!==Ze)throw new Ue(Ie.INVALID_ARGUMENT,Ze===Fe.op?`Invalid query. You cannot use more than one '${Fe.op.toString()}' filter.`:`Invalid query. You cannot use '${Fe.op.toString()}' filters with '${Ze.toString()}' filters.`)}(a,ee),ee}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Zi(e.firestore,e.converter,function(a,l){const p=a.filters.concat([l]);return new bc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),p,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class NS extends rp{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new Ue(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Ue(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new qd(a,l);return function(v,D){if(null===Py(v)){const M=Il(v);null!==M&&US(0,M,D.field)}}(s,p),p}(e._query,this.Gc,this.Jc);return new Zi(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new bc(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class cD extends rp{constructor(e,t,s){super(),this.type=e,this.Yc=t,this.Xc=s}_apply(e){return new Zi(e.firestore,e.converter,hC(e._query,this.Yc,this.Xc))}}class PS extends rp{constructor(e,t,s){super(),this.type=e,this.Zc=t,this.ta=s}_apply(e){const t=FS(e,this.type,this.Zc,this.ta);return new Zi(e.firestore,e.converter,(a=t,new bc((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class kS extends rp{constructor(e,t,s){super(),this.type=e,this.Zc=t,this.ta=s}_apply(e){const t=FS(e,this.type,this.Zc,this.ta);return new Zi(e.firestore,e.converter,(a=t,new bc((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function FS(n,e,t,s){if(t[0]=(0,Pt.m9)(t[0]),t[0]instanceof tp)return function(a,l,p,v,D){if(!v)throw new Ue(Ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const M=[];for(const P of wf(a))if(P.field.isKeyField())M.push(Sy(l,v.key));else{const B=v.data.field(P.field);if(mw(B))throw new Ue(Ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+P.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===B){const ee=P.field.canonicalString();throw new Ue(Ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ee}' (used as the orderBy) does not exist.`)}M.push(B)}return new ug(M,D)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=ah(n.firestore);return function(l,p,v,D,M,P){const B=l.explicitOrderBy;if(M.length>B.length)throw new Ue(Ie.INVALID_ARGUMENT,`Too many arguments provided to ${D}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ee=[];for(let re=0;re<M.length;re++){const Fe=M[re];if(B[re].field.isKeyField()){if("string"!=typeof Fe)throw new Ue(Ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${D}(), but got a ${typeof Fe}`);if(!Cw(l)&&-1!==Fe.indexOf("/"))throw new Ue(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${D}() must be a plain document ID, but '${Fe}' contains a slash.`);const Ze=l.path.child(mn.fromString(Fe));if(!ut.isDocumentKey(Ze))throw new Ue(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${D}() must result in a valid document path, but '${Ze}' is not because it contains an odd number of segments.`);const it=new ut(Ze);ee.push(Sy(p,it))}else{const Ze=Y0(v,D,Fe);ee.push(Ze)}}return new ug(ee,P)}(n._query,n.firestore._databaseId,a,e,t,s)}}function LS(n,e,t){if("string"==typeof(t=(0,Pt.m9)(t))){if(""===t)throw new Ue(Ie.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cw(e)&&-1!==t.indexOf("/"))throw new Ue(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(mn.fromString(t));if(!ut.isDocumentKey(s))throw new Ue(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Sy(n,new ut(s))}if(t instanceof Dn)return Sy(n,t._key);throw new Ue(Ie.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${p_(t)}.`)}function VS(n,e){if(!Array.isArray(n)||0===n.length)throw new Ue(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ue(Ie.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function US(n,e,t){if(!t.isEqual(e))throw new Ue(Ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class dD{convertValue(e,t="none"){switch(wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ht()}}convertObject(e,t){const s={};return El(e.fields,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new Nc(ei(e.latitude),ei(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=pA(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const t=bu(e);return new Jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=mn.fromString(e);Dt(UC(s));const a=new sh(s.get(1),s.get(3)),l=new ut(s.popFirst(5));return a.isEqual(t)||Ir(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function tb(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class P1 extends dD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}class BS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ah(e)}set(e,t,s){this._verifyNotCommitted();const a=lh(e,this._firestore),l=tb(a.converter,t,s),p=Hg(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,Pr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=lh(e,this._firestore);let p;return p="string"==typeof(t=(0,Pt.m9)(t))||t instanceof Au?rD(this._dataReader,"WriteBatch.update",l._key,t,s,a):zg(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(p.toMutation(l._key,Pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=lh(e,this._firestore);return this._mutations=this._mutations.concat(new hg(t._key,Pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lh(n,e){if((n=(0,Pt.m9)(n)).firestore!==e)throw new Ue(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dh extends dD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,t)}}function hD(n,e,t){n=nn(n,Dn);const s=nn(n.firestore,Zn),a=tb(n.converter,e,t);return Yg(s,[Hg(ah(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Pr.none())])}function fD(n,e,t,...s){n=nn(n,Dn);const a=nn(n.firestore,Zn),l=ah(a);let p;return p="string"==typeof(e=(0,Pt.m9)(e))||e instanceof Au?rD(l,"updateDoc",n._key,e,t,s):zg(l,"updateDoc",n._key,e),Yg(a,[p.toMutation(n._key,Pr.exists(!0))])}function qS(n,...e){var t,s,a;n=(0,Pt.m9)(n);let l={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||$g(e[p])||(l=e[p],p++);const v={includeMetadataChanges:l.includeMetadataChanges};if($g(e[p])){const B=e[p];e[p]=null===(t=B.next)||void 0===t?void 0:t.bind(B),e[p+1]=null===(s=B.error)||void 0===s?void 0:s.bind(B),e[p+2]=null===(a=B.complete)||void 0===a?void 0:a.bind(B)}let D,M,P;if(n instanceof Dn)M=nn(n.firestore,Zn),P=Gd(n._key.path),D={next:B=>{e[p]&&e[p](nb(M,n,B))},error:e[p+1],complete:e[p+2]};else{const B=nn(n,Zi);M=nn(B.firestore,Zn),P=B._query;const ee=new dh(M);D={next:re=>{e[p]&&e[p](new Ul(M,ee,B,re))},error:e[p+1],complete:e[p+2]},oD(n._query)}return function(B,ee,re,Fe){const Ze=new Vg(Fe),it=new bI(ee,Ze,re);return B.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Jf(yield Vl(B),it)})),()=>{Ze.ec(),B.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Rg(yield Vl(B),it)}))}}(ri(M),P,v,D)}function Yg(n,e){return function(t,s){const a=new Nr;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(n,e,t){return Pg.apply(this,arguments)}(yield q0(t),s,a)})),a.promise}(ri(n),e)}function nb(n,e,t){const s=t.docs.get(e._key),a=new dh(n);return new Su(n,a,e._key,s,new ch(t.hasPendingWrites,t.fromCache),e.converter)}class j1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ah(e)}get(e){const t=lh(e,this._firestore),s=new P1(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return ht();const l=a[0];if(l.isFoundDocument())return new tp(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new tp(this._firestore,s,t._key,null,t.converter);throw ht()})}set(e,t,s){const a=lh(e,this._firestore),l=tb(a.converter,t,s),p=Hg(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const l=lh(e,this._firestore);let p;return p="string"==typeof(t=(0,Pt.m9)(t))||t instanceof Au?rD(this._dataReader,"Transaction.update",l._key,t,s,a):zg(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,p),this}delete(e){const t=lh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=lh(e,this._firestore),s=new dh(this._firestore);return super.get(e).then(a=>new Su(this._firestore,s,t._key,a._document,new ch(!1,!1),t.converter))}}function w_(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function WS(){if("undefined"==typeof Uint8Array)throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function ib(){if("undefined"==typeof atob)throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ud=pl.SDK_VERSION,(0,pl._registerComponent)(new Qm.wA("firestore",(t,{options:s})=>{const a=t.getProvider("app").getImmediate(),l=new Zn(a,new h1(t.getProvider("auth-internal")));return s=Object.assign({useFetchStreams:e},s),l._setSettings(s),l},"PUBLIC")),(0,pl.registerVersion)(pw,"3.2.0",n),(0,pl.registerVersion)(pw,"3.2.0","esm2017")}();class Bl{constructor(e){this._delegate=e}static fromBase64String(e){return ib(),new Bl(Rc.fromBase64String(e))}static fromUint8Array(e){return WS(),new Bl(Rc.fromUint8Array(e))}toBase64(){return ib(),this._delegate.toBase64()}toUint8Array(){return WS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function b_(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of["next","error","complete"])if(s in t&&"function"==typeof t[s])return!0;return!1}(n)}class H1{enableIndexedDbPersistence(e,t){return function(n,e){XI(n=nn(n,Zn));const t=ri(n),s=n._freezeSettings(),a=new F0;return g_(t,a,new Xo(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){XI(n=nn(n,Zn));const e=ri(n),t=n._freezeSettings(),s=new F0;return g_(e,s,new k0(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Ue(Ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(s){if(!Fa.bt())return Promise.resolve();const a=s+"main";yield Fa.delete(a)}),function(s){return t.apply(this,arguments)})(Hf(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class KS{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof sh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Iy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function(n,e,t,s={}){var a;const l=(n=nn(n,Bg))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Iy("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,v;if("string"==typeof s.mockUserToken)p=s.mockUserToken,v=Ci.MOCK_USER;else{p=(0,Pt.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const D=s.mockUserToken.sub||s.mockUserToken.user_id;if(!D)throw new Ue(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ci(D)}n._credentials=new d1(new QE(p,v))}}(this._delegate,e,t,s)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield OI(n),t=yield H0(n);return e.setNetworkEnabled(!0),function(s){const a=We(s);return a.Wr.delete(0),Dg(a)}(t)}))}(ri(n=nn(n,Zn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield OI(n),t=yield H0(n);return e.setNetworkEnabled(!1),(s=(0,Ae.Z)(function*(a){const l=We(a);l.Wr.add(0),yield Zf(l),l.Hr.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(ri(n=nn(n,Zn)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Z0("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Nr;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(n,e){return T0.apply(this,arguments)}(yield q0(e),t)})),t.promise}(ri(n=nn(n,Zn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new Vg(e);return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return s=yield Vl(n),a=t,We(s).so.add(a),void a.next();var s,a})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return s=yield Vl(n),a=t,void We(s).so.delete(a);var s,a}))}}(ri(n=nn(n,Zn)),$g(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xg(this,Va(this._delegate,e))}catch(t){throw Ai(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ua(this,oh(this._delegate,e))}catch(t){throw Ai(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new js(this,function(n,e){if(n=nn(n,Bg),f_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ue(Ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zi(n,null,(t=e,new bc(mn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ai(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const s=yield(a=n,$0(a).then(l=>l.datastore));var a;new gS(n.asyncQueue,s,e,t).run()})),t.promise}(ri(n=nn(n,Zn)),t=>e(new j1(n,t)))}(this._delegate,t=>e(new Qg(this,t)))}batch(){return ri(this._delegate),new _D(new BS(this._delegate,e=>Yg(this._delegate,e)))}loadBundle(e){return function(n,e){const t=ri(n=nn(n,Zn)),s=new W0;return function(n,e,t,s){const a=function(l,p){let v;return v="string"==typeof l?(new TextEncoder).encode(l):l,D=function(D,M){if(D instanceof Uint8Array)return L0(D,M);if(D instanceof ArrayBuffer)return L0(new Uint8Array(D),M);if(D instanceof ReadableStream)return D.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new NI(D,p);var D}(t,Ig(e));n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function(n,e,t){const s=We(n);var a;(a=(0,Ae.Z)(function*(l,p,v){try{const D=yield p.getMetadata();if(yield function(ee,re){const Fe=We(ee),Ze=ni(re.createTime);return Fe.persistence.runTransaction("hasNewerBundle","readonly",it=>Fe.Je.getBundleMetadata(it,re.id)).then(it=>!!it&&it.createTime.compareTo(Ze)>=0)}(l.localStore,D))return yield p.close(),void v._completeWith((ee=D,{taskState:"Success",documentsLoaded:ee.totalDocuments,bytesLoaded:ee.totalBytes,totalDocuments:ee.totalDocuments,totalBytes:ee.totalBytes}));v._updateProgress(CI(D));const M=new XA(D,l.localStore,p.N);let P=yield p.zo();for(;P;){const ee=yield M.mo(P);ee&&v._updateProgress(ee),P=yield p.zo()}const B=yield M.complete();yield Tu(l,B.En,void 0),yield function(ee,re){const Fe=We(ee);return Fe.persistence.runTransaction("Save bundle","readwrite",Ze=>Fe.Je.saveBundleMetadata(Ze,re))}(l.localStore,D),v._completeWith(B.progress)}catch(D){Iy("SyncEngine",`Loading bundle failed with ${D}`),v._failWith(D)}var ee}),function(l,p,v){return a.apply(this,arguments)})(s,e,t).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield q0(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,s){const a=We(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,s))}(yield PI(n),e)}))}(ri(n=nn(n,Zn)),e).then(t=>t?new Zi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new js(this,t):null)}}class E_ extends dD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bl(new Rc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ua.forKey(t,this.firestore,null)}}class Qg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new E_(e)}get(e){const t=op(e);return this._delegate.get(t).then(s=>new C_(this._firestore,new Su(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=op(e);return s?(w_("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=op(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=op(e);return this._delegate.delete(t),this}}class _D{constructor(e){this._delegate=e}set(e,t,s){const a=op(e);return s?(w_("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=op(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=op(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class sp{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new np(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jg(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=sp.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let l=a.get(t);return l||(l=new sp(e,new E_(e),t),a.set(t,l)),l}}sp.INSTANCES=new WeakMap;class Ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new E_(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ua(t,new Dn(t._delegate,s,new ut(e)))}static forKey(e,t,s){return new Ua(t,new Dn(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Xg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xg(this.firestore,Va(this._delegate,e))}catch(t){throw Ai(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Pt.m9)(e))instanceof Dn&&$I(this._delegate,e)}set(e,t){t=w_("DocumentReference.set",t);try{return t?hD(this._delegate,e,t):hD(this._delegate,e)}catch(s){throw Ai(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?fD(this._delegate,e):fD(this._delegate,e,t,...s)}catch(a){throw Ai(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Yg(nn(n.firestore,Zn),[new hg(n._key,Pr.none())])}(this._delegate)}onSnapshot(...e){const t=vD(e),s=YS(e,a=>new C_(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return qS(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=nn(n,Dn);const e=nn(n.firestore,Zn),t=ri(e),s=new dh(e);return function(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(s=(0,Ae.Z)(function*(a,l,p){try{const v=yield function(D,M){const P=We(D);return P.persistence.runTransaction("read document","readonly",B=>P.Qn.An(B,M))}(a,l);v.isFoundDocument()?p.resolve(v):v.isNoDocument()?p.resolve(null):p.reject(new Ue(Ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const D=La(v,`Failed to get document '${l} from cache`);p.reject(D)}}),function(a,l,p){return s.apply(this,arguments)})(yield PI(n),e,t);var s})),t.promise}(t,n._key).then(a=>new Su(e,s,n._key,a,new ch(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=nn(n,Dn);const e=nn(n.firestore,Zn);return kI(ri(e),n._key,{source:"server"}).then(t=>nb(e,n,t))}(this._delegate):function(n){n=nn(n,Dn);const e=nn(n.firestore,Zn);return kI(ri(e),n._key).then(t=>nb(e,n,t))}(this._delegate),t.then(s=>new C_(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ua(this.firestore,this._delegate.withConverter(e?sp.getInstance(this.firestore,e):null))}}function Ai(n,e,t){return n.message=n.message.replace(e,t),n}function vD(n){for(const e of n)if("object"==typeof e&&!b_(e))return e;return{}}function YS(n,e){var t,s;let a;return a=b_(n[0])?n[0]:b_(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class C_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ua(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return eb(this._delegate,e._delegate)}}class Jg extends C_{data(e){const t=this._delegate.data(e);return function(n,e){n||ht()}(void 0!==t),t}}class js{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new E_(e)}where(e,t,s){try{return new js(this.firestore,Oc(this._delegate,function(n,e,t){const s=e,a=Kg("where",n);return new aD(a,s,t)}(e,t,s)))}catch(a){throw Ai(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new js(this.firestore,Oc(this._delegate,function(n,e="asc"){const t=e,s=Kg("orderBy",n);return new NS(s,t)}(e,t)))}catch(s){throw Ai(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new js(this.firestore,Oc(this._delegate,function(n){return BI("limit",n),new cD("limit",n,"F")}(e)))}catch(t){throw Ai(t,"limit()","Query.limit()")}}limitToLast(e){try{return new js(this.firestore,Oc(this._delegate,function(n){return BI("limitToLast",n),new cD("limitToLast",n,"L")}(e)))}catch(t){throw Ai(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new js(this.firestore,Oc(this._delegate,function(...n){return new PS("startAt",n,!0)}(...e)))}catch(t){throw Ai(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new js(this.firestore,Oc(this._delegate,function(...n){return new PS("startAfter",n,!1)}(...e)))}catch(t){throw Ai(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new js(this.firestore,Oc(this._delegate,function(...n){return new kS("endBefore",n,!0)}(...e)))}catch(t){throw Ai(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new js(this.firestore,Oc(this._delegate,function(...n){return new kS("endAt",n,!1)}(...e)))}catch(t){throw Ai(t,"endAt()","Query.endAt()")}}isEqual(e){return HI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=nn(n,Zi);const e=nn(n.firestore,Zn),t=ri(e),s=new dh(e);return function(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(s=(0,Ae.Z)(function*(a,l,p){try{const v=yield Cg(a,l,!0),D=new II(l,v.Gn),M=D.bo(v.documents),P=D.applyChanges(M,!1);p.resolve(P.snapshot)}catch(v){const D=La(v,`Failed to execute query '${l} against cache`);p.reject(D)}}),function(a,l,p){return s.apply(this,arguments)})(yield PI(n),e,t);var s})),t.promise}(t,n._query).then(a=>new Ul(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=nn(n,Zi);const e=nn(n.firestore,Zn),t=ri(e),s=new dh(e);return FI(t,n._query,{source:"server"}).then(a=>new Ul(e,s,n,a))}(this._delegate):function(n){n=nn(n,Zi);const e=nn(n.firestore,Zn),t=ri(e),s=new dh(e);return oD(n._query),FI(t,n._query).then(a=>new Ul(e,s,n,a))}(this._delegate),t.then(s=>new sb(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=vD(e),s=YS(e,a=>new sb(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return qS(this._delegate,t,s)}withConverter(e){return new js(this.firestore,this._delegate.withConverter(e?sp.getInstance(this.firestore,e):null))}}class wD{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Jg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wD(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Jg(this._firestore,s))})}isEqual(e){return eb(this._delegate,e._delegate)}}class Xg extends js{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ua(this.firestore,e):null}doc(e){try{return new Ua(this.firestore,void 0===e?oh(this._delegate):oh(this._delegate,e))}catch(t){throw Ai(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=nn(n.firestore,Zn),s=oh(n),a=tb(n.converter,e);return Yg(t,[Hg(ah(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,Pr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Ua(this.firestore,t))}isEqual(e){return $I(this._delegate,e._delegate)}withConverter(e){return new Xg(this.firestore,this._delegate.withConverter(e?sp.getInstance(this.firestore,e):null))}}function op(n){return nn(n,Dn)}class ob{constructor(...e){this._delegate=new Au(...e)}static documentId(){return new ob(Ii.keyField().canonicalString())}isEqual(e){return(e=(0,Pt.m9)(e))instanceof Au&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ba{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Gg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Ba(e)}static delete(){const e=new qg("deleteField");return e._methodName="FieldValue.delete",new Ba(e)}static arrayUnion(...e){const t=function(...n){return new tD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ba(t)}static arrayRemove(...e){const t=function(...n){return new nD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ba(t)}static increment(e){const t=function(n){return new y_("increment",n)}(e);return t._methodName="FieldValue.increment",new Ba(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const QS={Firestore:KS,GeoPoint:Nc,Timestamp:Jr,Blob:Bl,Transaction:Qg,WriteBatch:_D,DocumentReference:Ua,DocumentSnapshot:C_,Query:js,QueryDocumentSnapshot:Jg,QuerySnapshot:sb,CollectionReference:Xg,FieldPath:ob,FieldValue:Ba,setLogLevel:function(n){!function(n){bl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new Qm.wA("firestore-compat",t=>((e,t)=>new KS(e,t,new H1))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},QS)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.5")}(Ra.Z);var ab=L(6682),em=L(309),_o=L(7771),ex=L(8858);class ub extends Cs.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new tx(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let p;if(this.closed)throw new uo.N;if(this.isStopped||this.hasError?p=ud.w.EMPTY:(this.observers.push(e),p=new ex.W(this,e)),a&&e.add(e=new em.ht(e,a)),t)for(let v=0;v<l&&!e.closed;v++)e.next(s[v]);else for(let v=0;v<l&&!e.closed;v++)e.next(s[v].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),p}_getNow(){return(this.scheduler||_o.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let p=0;for(;p<l&&!(e-a[p].time<s);)p++;return l>t&&(p=Math.max(p,l-t)),p>0&&a.splice(0,p),a}}class tx{constructor(e,t){this.time=e,this.value=t}}function bD(n,e,t){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let a,p,l=0,v=!1,D=!1;return function(P){l++,(!a||v)&&(v=!1,a=new ub(n,e,s),p=P.subscribe({next(ee){a.next(ee)},error(ee){v=!0,a.error(ee)},complete(){D=!0,p=void 0,a.complete()}}));const B=a.subscribe(this);this.add(()=>{l--,B.unsubscribe(),p&&!D&&t&&0===l&&(p.unsubscribe(),p=void 0,a=void 0)})}}(s))}function lb(n,e){return e?Vn(()=>n,e):Vn(()=>n)}var I_=L(3101);L(2329);const ox=new Map,ax={activated:!1,tokenObservers:[]},ID={initialized:!1,enabled:!1};function fs(n){return ox.get(n)||ax}function Mu(n,e){ox.set(n,e)}function rm(){return ID}class ux{constructor(e,t,s,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ae.Z)(function*(){t.stop();try{t.pending=new Pt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Pt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Si=new Pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function fb(n){if(!fs(n).activated)throw Si.create("use-before-activation",{appName:n.name})}function SD(n,e){return xD.apply(this,arguments)}function xD(){return(xD=(0,Ae.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:s};let p,v;try{p=yield fetch(n,l)}catch(B){throw Si.create("fetch-network-error",{originalErrorMessage:B.message})}if(200!==p.status)throw Si.create("fetch-status-error",{httpStatus:p.status});try{v=yield p.json()}catch(B){throw Si.create("fetch-parse-error",{originalErrorMessage:B.message})}const D=v.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw Si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const M=1e3*Number(D[1]),P=Date.now();return{token:v.attestationToken,expireTimeMillis:P+M,issuedAtTimeMillis:P}})).apply(this,arguments)}function X1(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const im="firebase-app-check-store";let T_=null;function OD(){return T_||(T_=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(Si.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(im,{keyPath:"compositeKey"})}}}catch(t){e(Si.create("storage-open",{originalErrorMessage:t.message}))}}),T_)}function Fr(){return(Fr=(0,Ae.Z)(function*(n,e){const s=(yield OD()).transaction(im,"readwrite"),l=s.objectStore(im).put({compositeKey:n,value:e});return new Promise((p,v)=>{l.onsuccess=D=>{p()},s.onerror=D=>{var M;v(Si.create("storage-set",{originalErrorMessage:null===(M=D.target.error)||void 0===M?void 0:M.message}))}})})).apply(this,arguments)}const x_=new mu.Yd("@firebase/app-check");function kD(n,e){return(0,Pt.hl)()?function(n,e){return function(n,e){return Fr.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{x_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function mb(){return rm().enabled}function R_(){return sm.apply(this,arguments)}function sm(){return(sm=(0,Ae.Z)(function*(){const n=rm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const N_={error:"UNKNOWN_ERROR"};function px(n){return Pt.US.encodeString(JSON.stringify(n),!1)}function ap(n){return O_.apply(this,arguments)}function O_(){return(O_=(0,Ae.Z)(function*(n,e=!1){const t=n.app;fb(t);const s=fs(t);let l,p,a=s.token;if(!a){const v=yield s.cachedTokenPromise;v&&P_(v)&&(a=v,Mu(t,Object.assign(Object.assign({},s),{token:a})),VD(t,{token:a.token}))}if(!e&&a&&P_(a))return{token:a.token};if(mb()){const v=yield SD(X1(t,yield R_()),n.platformLoggerProvider);return yield kD(t,v),Mu(t,Object.assign(Object.assign({},s),{token:v})),{token:v.token}}try{a=yield s.provider.getToken()}catch(v){x_.error(v),l=v}return a?(p={token:a.token},Mu(t,Object.assign(Object.assign({},s),{token:a})),yield kD(t,a)):p=k_(l),VD(t,p),p})).apply(this,arguments)}function LD(n,e){const t=fs(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Mu(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function VD(n,e){const t=fs(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function P_(n){return n.expireTimeMillis-Date.now()>0}function k_(n){return{token:px(N_),error:n}}class mx{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=fs(this.app);for(const t of e)LD(this.app,t.next);return Promise.resolve()}}const ta="app-check-internal";(0,pl._registerComponent)(new Qm.wA("app-check",n=>function(n,e){return new mx(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ta).initialize()})),(0,pl._registerComponent)(new Qm.wA(ta,n=>function(n){return{getToken:e=>ap(n,e),addTokenListener:e=>function(n,e,t,s){const{app:a}=n,l=fs(a),p={next:t,error:s,type:e},v=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,p]});if(!v.tokenRefresher){const D=function(n){const{app:e}=n;return new ux((0,Ae.Z)(function*(){let s;if(s=fs(e).token?yield ap(n,!0):yield ap(n),s.error)throw s.error}),()=>!0,()=>{const t=fs(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n);v.tokenRefresher=D}if(!v.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&v.tokenRefresher.start(),l.token&&P_(l.token)){const D=l.token;Promise.resolve().then(()=>t({token:D.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(D=>{D&&P_(D)&&t({token:D.token})}).catch(()=>{});Mu(a,v)}(n,"INTERNAL",e),removeTokenListener:e=>LD(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pl.registerVersion)("@firebase/app-check","0.4.2");class wb{constructor(){return(0,Li.vb)("app-check")}}"undefined"!=typeof window&&window,L(7841);const qD=new h.OlP("angularfire2.auth.use-emulator"),GD=new h.OlP("angularfire2.auth.settings"),na=new h.OlP("angularfire2.auth.tenant-id"),Ax=new h.OlP("angularfire2.auth.langugage-code"),Eb=new h.OlP("angularfire2.auth.use-device-language"),zD=new h.OlP("angularfire.auth.persistence"),Cb=(n,e,t,s,a,l,p,v)=>(0,Vo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const D=e.runOutsideAngular(()=>n.auth());if(t&&D.useEmulator(...t),s&&(D.tenantId=s),D.languageCode=a,l&&D.useDeviceLanguage(),p)for(const[M,P]of Object.entries(p))D.settings[M]=P;return v&&D.setPersistence(v),D},[t,s,a,l,p,v]);let Ib=(()=>{class n{constructor(t,s,a,l,p,v,D,M,P,B,ee,re){const Fe=new Cs.xQ,Ze=(0,ot.of)(void 0).pipe((0,em.QV)(p.outsideAngular),Vn(()=>l.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,6096)))),(0,Nt.U)(()=>(0,Vo.on)(t,l,s)),(0,Nt.U)(it=>Cb(it,l,v,M,P,B,D,ee)),bD({bufferSize:1,refCount:!1}));if(ws(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ot.of)(null);else{Ze.pipe(Yn()).subscribe();const Qt=Ze.pipe(Vn(rn=>rn.getRedirectResult().then(Lr=>Lr,()=>null)),Li.iC,bD({bufferSize:1,refCount:!1})),Tn=Ze.pipe(Vn(rn=>new Ni.y(Lr=>({unsubscribe:l.runOutsideAngular(()=>rn.onAuthStateChanged(Ou=>Lr.next(Ou),Ou=>Lr.error(Ou),()=>Lr.complete()))})))),Xn=Ze.pipe(Vn(rn=>new Ni.y(Lr=>({unsubscribe:l.runOutsideAngular(()=>rn.onIdTokenChanged(Ou=>Lr.next(Ou),Ou=>Lr.error(Ou),()=>Lr.complete()))}))));this.authState=Qt.pipe(lb(Tn),(0,I_.R)(p.outsideAngular),(0,em.QV)(p.insideAngular)),this.user=Qt.pipe(lb(Xn),(0,I_.R)(p.outsideAngular),(0,em.QV)(p.insideAngular)),this.idToken=this.user.pipe(Vn(rn=>rn?(0,Ln.D)(rn.getIdToken()):(0,ot.of)(null))),this.idTokenResult=this.user.pipe(Vn(rn=>rn?(0,Ln.D)(rn.getIdTokenResult()):(0,ot.of)(null))),this.credential=(0,ab.T)(Qt,Fe,this.authState.pipe(Ts(rn=>!rn))).pipe((0,Nt.U)(rn=>(null==rn?void 0:rn.user)?rn:null),(0,I_.R)(p.outsideAngular),(0,em.QV)(p.insideAngular))}return(0,Vo.pX)(this,Ze,l,{spy:{apply:(it,Qt,Tn)=>{(it.startsWith("signIn")||it.startsWith("createUser"))&&Tn.then(Xn=>Fe.next(Xn))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vo.Dh),h.LFG(Vo.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Li.HU),h.LFG(qD,8),h.LFG(GD,8),h.LFG(na,8),h.LFG(Ax,8),h.LFG(Eb,8),h.LFG(zD,8),h.LFG(wb,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function L_(n,e){return function(n,e=TT.P){return new Ni.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function up(n,e){return L_(n,e).pipe((0,Nt.U)(t=>({payload:t,type:"query"})))}function hh(n,e){return up(n,e).pipe(ou(void 0),Ym(),(0,Nt.U)(([t,s])=>{const a=s.payload.docChanges(),l=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((p,v)=>{const D=a.find(P=>P.doc.ref.isEqual(p.ref)),M=null==t?void 0:t.payload.docs.find(P=>P.ref.isEqual(p.ref));D&&JSON.stringify(D.doc.metadata)===JSON.stringify(p.metadata)||!D&&M&&JSON.stringify(M.metadata)===JSON.stringify(p.metadata)||l.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:p}})}),l}))}function Ab(n,e,t){return hh(n,t).pipe(bn((s,a)=>function(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Sb(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Sb(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Sb(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(l=>l.payload),e),[]),t=>t.lift(new Ot(void 0,void 0)),(0,Nt.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function Sb(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function xb(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class WD{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=hh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Nt.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(ou(void 0),Ym(),Ts(([s,a])=>a.length>0||!s),(0,Nt.U)(([s,a])=>a),Li.iC)}auditTrail(e){return this.stateChanges(e).pipe(bn((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=xb(e);return Ab(this.query,t,this.afs.schedulers.outsideAngular).pipe(Li.iC)}valueChanges(e={}){return up(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Li.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(Li.iC)}add(e){return this.ref.add(e)}doc(e){return new KD(this.ref.doc(e),this.afs)}}class KD{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:l}=am(s,t);return new WD(a,l,this.afs)}snapshotChanges(){return function(n,e){return L_(n,e).pipe(ou(void 0),Ym(),(0,Nt.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Li.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Nt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ln.D)(this.ref.get(e)).pipe(Li.iC)}}class Mx{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?hh(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),Ts(t=>t.length>0),Li.iC):hh(this.query,this.afs.schedulers.outsideAngular).pipe(Li.iC)}auditTrail(e){return this.stateChanges(e).pipe(bn((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=xb(e);return Ab(this.query,t,this.afs.schedulers.outsideAngular).pipe(Li.iC)}valueChanges(e={}){return up(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),Li.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(Li.iC)}}const Mb=new h.OlP("angularfire2.enableFirestorePersistence"),Rx=new h.OlP("angularfire2.firestore.persistenceSettings"),ps=new h.OlP("angularfire2.firestore.settings"),om=new h.OlP("angularfire2.firestore.use-emulator");function am(n,e=(t=>t)){return{query:e(n),ref:n}}let V_=(()=>{class n{constructor(t,s,a,l,p,v,D,M,P,B,ee,re,Fe,Ze,it,Qt,Tn){this.schedulers=D;const Xn=(0,Vo.on)(t,v,s),rn=P;B&&Cb(Xn,v,ee,Fe,Ze,it,re,Qt),[this.firestore,this.persistenceEnabled$]=(0,Vo.cc)(`${Xn.name}.firestore`,"AngularFirestore",Xn.name,()=>{const Lr=v.runOutsideAngular(()=>Xn.firestore());if(l&&Lr.settings(l),rn&&Lr.useEmulator(...rn),a&&!ws(p)){const Ou=()=>{try{return(0,Ln.D)(Lr.enablePersistence(M||void 0).then(()=>!0,()=>!1))}catch(zR){return"undefined"!=typeof console&&console.warn(zR),(0,ot.of)(!1)}};return[Lr,v.runOutsideAngular(Ou)]}return[Lr,(0,ot.of)(!1)]},[l,rn,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:p}=am(a,s),v=this.schedulers.ngZone.run(()=>l);return new WD(v,p,this)}collectionGroup(t,s){const a=s||(p=>p),l=this.firestore.collectionGroup(t);return new Mx(a(l),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new KD(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vo.Dh),h.LFG(Vo.xv,8),h.LFG(Mb,8),h.LFG(ps,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Li.HU),h.LFG(Rx,8),h.LFG(om,8),h.LFG(Ib,8),h.LFG(qD,8),h.LFG(GD,8),h.LFG(na,8),h.LFG(Ax,8),h.LFG(Eb,8),h.LFG(zD,8),h.LFG(wb,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),um=(()=>{class n{constructor(t){this.firestore=t}AgregarUna(t){this.firestore.collection("zonas").add(Object.assign({},t))}TraerTodas(){return this.firestore.collection("zonas").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(V_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cm=(()=>{class n{constructor(t){this.firestore=t}AgregarUno(t){var s=this.firestore.createId();t.id=s,this.firestore.collection("productos").doc(s).set(Object.assign({},t))}TraerTodos(){return this.firestore.collection("productos").valueChanges()}Editar(t){}Eliminar(t){}AgregarUnidadDeMedida(t){this.firestore.collection("medidas").add(Object.assign({},t))}TraerUnidadesDeMedida(){return this.firestore.collection("medidas").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(V_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lm=(()=>{class n{constructor(t){this.firestore=t}AgregarUno(t){var s=this.firestore.createId();t.id=s,this.firestore.collection("pedidos").doc(s).set(Object.assign({},t))}TraerTodos(){return this.firestore.collection("pedidos").valueChanges()}ActualizarEstado(t,s){this.firestore.collection("pedidos").doc(t).update({estado:s})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(V_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Nx=L(1555);function U_(n,e){return new Ni.y(t=>{const s=n.length;if(0===s)return void t.complete();const a=new Array(s);let l=0,p=0;for(let v=0;v<s;v++){const D=(0,Ln.D)(n[v]);let M=!1;t.add(D.subscribe({next:P=>{M||(M=!0,p++),a[v]=P},error:P=>t.error(P),complete:()=>{l++,(l===s||!M)&&(p===s&&t.next(e?e.reduce((P,B,ee)=>(P[B]=a[ee],P),{}):a),t.complete())}}))}})}let YD=(()=>{class n{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),jl=(()=>{class n extends YD{}return n.\u0275fac=function(){let e;return function(s){return(e||(e=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Ru=new h.OlP("NgValueAccessor"),$l={provide:Ru,useExisting:(0,h.Gpc)(()=>fh),multi:!0},Nb=new h.OlP("CompositionEventMode");let fh=(()=>{class n extends YD{constructor(t,s,a){super(t,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=V()?V().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Nb,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,s){1&t&&h.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[h._Bn([$l]),h.qOj]}),n})();const di=new h.OlP("NgValidators"),ql=new h.OlP("NgAsyncValidators");function rT(n){return null!=n}function iT(n){const e=(0,h.QGY)(n)?(0,Ln.D)(n):n;return(0,h.CqO)(e),e}function Ob(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Pb(n,e){return e.map(t=>t(n))}function kb(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function Fb(n){return null!=n?function(n){if(!n)return null;const e=n.filter(rT);return 0==e.length?null:function(t){return Ob(Pb(t,e))}}(kb(n)):null}function j_(n){return null!=n?function(n){if(!n)return null;const e=n.filter(rT);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,No.k)(e))return U_(e,null);if((0,Nx.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return U_(t.map(s=>e[s]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return U_(n=1===n.length&&(0,No.k)(n[0])?n[0]:n,null).pipe((0,Nt.U)(t=>e(...t)))}return U_(n,null)}(Pb(t,e).map(iT)).pipe((0,Nt.U)(Ob))}}(kb(n)):null}function zl(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Lb(n){return n?Array.isArray(n)?n:[n]:[]}function Vb(n,e){return Array.isArray(n)?n.includes(e):n===e}function Fx(n,e){const t=Lb(e);return Lb(n).forEach(a=>{Vb(t,a)||t.push(a)}),t}function Lx(n,e){return Lb(e).filter(t=>!Vb(n,t))}let Vx=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Fb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=j_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,s){return!!this.control&&this.control.hasError(t,s)}getError(t,s){return this.control?this.control.getError(t,s):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n}),n})(),gs=(()=>{class n extends Vx{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();class Zl extends Vx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let fm=(()=>{class n extends class{constructor(e){this._cd=e}is(e){var t,s,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zl,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,s){2&t&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[h.qOj]}),n})();function T(n,e){(function(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(zl(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const s=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(zl(s,e.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();O(e._rawValidators,a),O(e._rawAsyncValidators,a)})(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&je(n,e)})}(n,e),function(n,e){const t=(s,a)=>{e.valueAccessor.writeValue(s),a&&e.viewToModelUpdate(s)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&je(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=s=>{e.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function O(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function je(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function kc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const yh="VALID",lp="INVALID",Kl="PENDING",_h="DISABLED";function jx(n){return(Hx(n)?n.validators:n)||null}function yM(n){return Array.isArray(n)?Fb(n):n||null}function $x(n,e){return(Hx(e)?e.asyncValidators:n)||null}function _M(n){return Array.isArray(n)?j_(n):n||null}function Hx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class qx{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=yM(this._rawValidators),this._composedAsyncValidatorFn=_M(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===yh}get invalid(){return this.status===lp}get pending(){return this.status==Kl}get disabled(){return this.status===_h}get enabled(){return this.status!==_h}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=yM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=_M(e)}addValidators(e){this.setValidators(Fx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Fx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Lx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Lx(e,this._rawAsyncValidators))}hasValidator(e){return Vb(this._rawValidators,e)}hasAsyncValidator(e){return Vb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Kl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_h,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yh,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yh||this.status===Kl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_h:yh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Kl,this._hasOwnPendingAsyncValidator=!0;const t=iT(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let s=n;return e.forEach(a=>{s=s instanceof Gx?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof tR&&s.at(a)||null}),s}(this,e)}getError(e,t){const s=t?this.get(t):this;return s&&s.errors?s.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?_h:this.errors?lp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kl)?Kl:this._anyControlsHaveStatus(lp)?lp:yh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hx(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dT extends qx{constructor(e=null,t,s){super(jx(t),$x(s,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Gx extends qx{constructor(e,t,s){super(jx(t),$x(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,s={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,s)=>(e[s]=t instanceof dT?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,s)=>!!s._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const s=this.controls[t];s&&e(s,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const s=this.controls[t];if(this.contains(t)&&e(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,s)=>((t.enabled||this.disabled)&&(e[s]=t.value),e))}_reduceChildren(e,t){let s=e;return this._forEachChild((a,l)=>{s=t(s,a,l)}),s}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class tR extends qx{constructor(e,t,s){super(jx(t),$x(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,s={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof dT?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,s)=>!!s._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,s)=>{e(t,s)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const iR={provide:Zl,useExisting:(0,h.Gpc)(()=>gm)},bM=(()=>Promise.resolve(null))();let gm=(()=>{class n extends Zl{constructor(t,s,a,l){super(),this.control=new dT,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,s,a;return Array.isArray(e),e.forEach(l=>{l.constructor===fh?t=l:function(n){return Object.getPrototypeOf(n.constructor)===jl}(l)?s=l:a=l}),a||s||t||null}(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){T(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){bM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const s=t.isDisabled.currentValue,a=""===s||s&&"false"!==s;bM.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gs,9),h.Y36(di,10),h.Y36(ql,10),h.Y36(Ru,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([iR]),h.qOj,h.TTD]}),n})(),CM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const gR={provide:Ru,useExisting:(0,h.Gpc)(()=>hT),multi:!0};function xM(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let hT=(()=>{class n extends jl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const s=this._getOptionId(t);null==s&&this.setProperty("selectedIndex",-1);const a=xM(s,t);this.setProperty("value",a)}registerOnChange(t){this.onChange=s=>{this.value=this._getOptionValue(s),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s),t))return s;return null}_getOptionValue(t){const s=function(n){return n.split(":")[0]}(t);return this._optionMap.has(s)?this._optionMap.get(s):t}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,s){1&t&&h.NdJ("change",function(l){return s.onChange(l.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([gR]),h.qOj]}),n})(),MM=(()=>{class n{constructor(t,s,a){this._element=t,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(xM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(hT,9))},n.\u0275dir=h.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const yR={provide:Ru,useExisting:(0,h.Gpc)(()=>Qx),multi:!0};function RM(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Qx=(()=>{class n extends jl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let s;if(this.value=t,Array.isArray(t)){const a=t.map(l=>this._getOptionId(l));s=(l,p)=>{l._setSelected(a.indexOf(p.toString())>-1)}}else s=(a,l)=>{a._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(t){this.onChange=s=>{const a=[];if(void 0!==s.selectedOptions){const l=s.selectedOptions;for(let p=0;p<l.length;p++){const v=l.item(p),D=this._getOptionValue(v.value);a.push(D)}}else{const l=s.options;for(let p=0;p<l.length;p++){const v=l.item(p);if(v.selected){const D=this._getOptionValue(v.value);a.push(D)}}}this.value=a,t(a)}}_registerOption(t){const s=(this._idCounter++).toString();return this._optionMap.set(s,t),s}_getOptionId(t){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s)._value,t))return s;return null}_getOptionValue(t){const s=function(n){return n.split(":")[0]}(t);return this._optionMap.has(s)?this._optionMap.get(s)._value:t}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=h.n5z(n)))(s||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,s){1&t&&h.NdJ("change",function(l){return s.onChange(l.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([yR]),h.qOj]}),n})(),NM=(()=>{class n{constructor(t,s,a){this._element=t,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(RM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(RM(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Qx,9))},n.\u0275dir=h.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const bR={provide:di,useExisting:(0,h.Gpc)(()=>mm),multi:!0};let mm=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(n){return function(n){return null==n||0===n.length}(n.value)?{required:!0}:null}(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,s){2&t&&h.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[h._Bn([bR])]}),n})(),$M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[CM]]}),n})(),AR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[$M]}),n})();function SR(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"li",25),h.NdJ("click",function(){const l=h.CHM(t).$implicit;return h.oxw().elegirZona(l)}),h.TgZ(1,"div"),h.TgZ(2,"h6",26),h._uU(3),h.qZA(),h.TgZ(4,"small",27),h._uU(5,"\xa0"),h.qZA(),h.qZA(),h.qZA()}if(2&n){const t=e.$implicit;h.Q6J("id",t.nombre),h.xp6(3),h.Oqu(t.nombre)}}function xR(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",29),h.TgZ(1,"button",33),h.NdJ("click",function(){h.CHM(t);const a=h.oxw().$implicit;return h.oxw().agregarUnidadDeMedida(a)}),h._uU(2,"+"),h.qZA(),h.qZA()}}function MR(n,e){if(1&n&&(h.TgZ(0,"div",29),h._uU(1),h.qZA()),2&n){const t=h.oxw().$implicit;h.xp6(1),h.Oqu(t.medida)}}function RR(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div",28),h.TgZ(1,"div",29),h.TgZ(2,"input",30),h.NdJ("ngModelChange",function(a){return h.CHM(t).$implicit.cantidad=a}),h.qZA(),h.qZA(),h.YNc(3,xR,3,0,"div",31),h.YNc(4,MR,2,1,"div",31),h.TgZ(5,"div",29),h._uU(6),h.qZA(),h.TgZ(7,"div",29),h.TgZ(8,"input",32),h.NdJ("ngModelChange",function(a){return h.CHM(t).$implicit.comentario=a}),h.qZA(),h.qZA(),h.qZA()}if(2&n){const t=e.$implicit;h.xp6(2),h.Q6J("ngModel",t.cantidad),h.xp6(1),h.Q6J("ngIf",!t.medida),h.xp6(1),h.Q6J("ngIf",t.medida),h.xp6(2),h.Oqu(t.nombre),h.xp6(2),h.Q6J("ngModel",t.comentario)}}let NR=(()=>{class n{constructor(t,s,a){this.zonasSvc=t,this.prodSvc=s,this.pedidosSvc=a,this.productosElegidos=[],this.pedido=new mv}cargarTodo(){this.zonasSvc.TraerTodas().subscribe(t=>{this.zonas=t,console.log(t)}),this.prodSvc.TraerTodos().subscribe(t=>{this.productosTodos=t,console.log("prod",t)}),this.prodSvc.TraerUnidadesDeMedida().subscribe(t=>{this.medidas=t,console.log(t)})}ngOnInit(){this.cargarTodo()}elegirZona(t){document.getElementsByName("zonas").forEach(s=>{s.style.backgroundColor="",s.style.color="black"}),document.getElementById(t.nombre).style.backgroundColor="#0d6efd",document.getElementById(t.nombre).style.color="white",this.zonaElegida=t.nombre,console.log(this.zonaElegida)}agregarProducto(){var t=this;return(0,Ae.Z)(function*(){var s=t.generateJsonProductos();Yh().fire({title:"Seleccione un producto",input:"select",inputOptions:s,inputPlaceholder:"Seleccione un producto"}).then(a=>{var l=s[a.value],p=t.productosTodos.findIndex(v=>v.nombre==l);t.productosElegidos.push(t.productosTodos[p]),console.log("todos",t.productosTodos),console.log("elegidos",t.productosElegidos)})})()}generateJsonProductos(){return this.productosTodos.map(function(s){return s.nombre})}generateJsonMedidas(){return this.medidas.map(function(s){return s.nombre})}agregarPedido(){this.pedido.zona=this.zonaElegida,this.pedido.productos=this.productosElegidos,this.pedido.estado=0,Yh().fire({title:"Pedido exitoso!",icon:"success",confirmButtonText:"Continuar"}).then(()=>{this.pedidosSvc.AgregarUno(this.pedido),this.pedido=new mv,this.zonaElegida="",this.productosElegidos=[],this.cargarTodo()})}agregarUnidadDeMedida(t){var s=this.generateJsonMedidas();Yh().fire({title:"Seleccione un producto",input:"select",inputOptions:s,inputPlaceholder:"Seleccione un producto"}).then(a=>{console.log(this.pedido);var l=s[a.value],p=this.medidas.findIndex(v=>v.nombre==l);t.medida=this.medidas[p].nombre,console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(um),h.Y36(cm),h.Y36(lm))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-pedido-alta"]],decls:44,vars:6,consts:[[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"badge","bg-primary","rounded-pill"],[1,"list-group","mb-3"],["class","list-group-item d-flex justify-content-between lh-sm","name","zonas",3,"id","click",4,"ngFor","ngForOf"],["type","text","id","precio","placeholder","","value","","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["type","text","id","firstName","placeholder","","value","","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"invalid-feedback"],["for","lastName",1,"form-label"],["type","text","id","lastName","placeholder","","value","","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12"],["for","address",1,"form-label"],["type","text","id","address","placeholder","11/11/1111","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"my-4"],[2,"margin-bottom","20px"],["class","row","style","margin-bottom: 10px;",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"w-100","btn","btn-primary","btn-lg",3,"click"],["name","zonas",1,"list-group-item","d-flex","justify-content-between","lh-sm",3,"id","click"],[1,"my-0"],[1,"text-muted"],[1,"row",2,"margin-bottom","10px"],[1,"col-auto"],["type","text","placeholder","Cantidad",3,"ngModel","ngModelChange"],["class","col-auto",4,"ngIf"],["type","text","placeholder","Comentario",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-small",3,"click"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"h4",2),h.TgZ(3,"span",3),h._uU(4,"Zonas"),h.qZA(),h._UZ(5,"span",4),h.qZA(),h.TgZ(6,"ul",5),h.YNc(7,SR,6,2,"li",6),h.qZA(),h.TgZ(8,"h4",2),h.TgZ(9,"span",3),h._uU(10,"Precio"),h.qZA(),h._UZ(11,"span",4),h.qZA(),h.TgZ(12,"input",7),h.NdJ("ngModelChange",function(l){return s.pedido.precio=l}),h.qZA(),h.qZA(),h.TgZ(13,"div",8),h.TgZ(14,"h4",9),h._uU(15,"Nuevo pedido"),h.qZA(),h.TgZ(16,"div",10),h.TgZ(17,"div",11),h.TgZ(18,"label",12),h._uU(19,"Cliente"),h.qZA(),h.TgZ(20,"input",13),h.NdJ("ngModelChange",function(l){return s.pedido.cliente=l}),h.qZA(),h.TgZ(21,"div",14),h._uU(22," Valid first name is required. "),h.qZA(),h.qZA(),h.TgZ(23,"div",11),h.TgZ(24,"label",15),h._uU(25,"Direccion"),h.qZA(),h.TgZ(26,"input",16),h.NdJ("ngModelChange",function(l){return s.pedido.direccion=l}),h.qZA(),h.TgZ(27,"div",14),h._uU(28," Valid last name is required. "),h.qZA(),h.qZA(),h.TgZ(29,"div",17),h.TgZ(30,"label",18),h._uU(31,"Fecha de entrega"),h.qZA(),h.TgZ(32,"input",19),h.NdJ("ngModelChange",function(l){return s.pedido.fechaEntrega=l}),h.qZA(),h.TgZ(33,"div",14),h._uU(34," Please enter your shipping address. "),h.qZA(),h.qZA(),h.qZA(),h._UZ(35,"hr",20),h.TgZ(36,"div",21),h.TgZ(37,"h4"),h._uU(38,"Productos"),h.qZA(),h.YNc(39,RR,9,5,"div",22),h.TgZ(40,"button",23),h.NdJ("click",function(){return s.agregarProducto()}),h._uU(41,"+"),h.qZA(),h.qZA(),h.TgZ(42,"button",24),h.NdJ("click",function(){return s.agregarPedido()}),h._uU(43,"Crear"),h.qZA(),h.qZA(),h.qZA()),2&t&&(h.xp6(7),h.Q6J("ngForOf",s.zonas),h.xp6(5),h.Q6J("ngModel",s.pedido.precio),h.xp6(8),h.Q6J("ngModel",s.pedido.cliente),h.xp6(6),h.Q6J("ngModel",s.pedido.direccion),h.xp6(6),h.Q6J("ngModel",s.pedido.fechaEntrega),h.xp6(7),h.Q6J("ngForOf",s.productosElegidos))},directives:[jr,fh,mm,fm,gm,fi],styles:[""]}),n})();function OR(n,e){if(1&n&&(h.TgZ(0,"option"),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.Oqu(t.nombre)}}function PR(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",12),h.NdJ("click",function(){h.CHM(t);const a=h.oxw(),l=a.$implicit,p=a.index;return h.oxw().cambiarEstado(l.id,1,p)}),h._uU(1,"Entregar"),h.qZA()}}function kR(n,e){1&n&&(h.TgZ(0,"p"),h._uU(1,"Entregado"),h.qZA())}function FR(n,e){if(1&n&&(h.TgZ(0,"p"),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.xp6(1),h.HOy("",t.cantidad," ",t.medida," ",t.nombre," - ",t.comentario," ")}}function LR(n,e){if(1&n&&(h.TgZ(0,"div",5),h._UZ(1,"div",6),h.TgZ(2,"div",7),h.TgZ(3,"div",5),h.TgZ(4,"div",8),h.TgZ(5,"h4"),h._uU(6),h.qZA(),h.qZA(),h.TgZ(7,"div",9),h._uU(8),h.qZA(),h.TgZ(9,"div",6),h.YNc(10,PR,2,0,"button",10),h.YNc(11,kR,2,0,"p",11),h.qZA(),h.qZA(),h.YNc(12,FR,2,4,"p",2),h.TgZ(13,"p"),h._uU(14),h.qZA(),h.qZA(),h._UZ(15,"div",6),h.qZA()),2&n){const t=e.$implicit;h.xp6(6),h.Oqu(t.cliente),h.xp6(2),h.Oqu(t.direccion),h.xp6(2),h.Q6J("ngIf",0==t.estado),h.xp6(1),h.Q6J("ngIf",1==t.estado),h.xp6(1),h.Q6J("ngForOf",t.productos),h.xp6(2),h.hij("Total: $",t.precio,"")}}let VR=(()=>{class n{constructor(t,s){this.zonaSvc=t,this.pedidosSvc=s,this.pedidos=[],this.zonaElegida="default"}ngOnInit(){this.zonaSvc.TraerTodas().subscribe(t=>{this.zonas=t}),this.pedidosSvc.TraerTodos().subscribe(t=>{this.pedidos=t}),this.ImprimirNoEntregados()}cambiarZona(){this.pedidosActual=this.pedidos.filter(t=>t.zona==this.zonaElegida)}cambiarEstado(t,s,a){this.pedidosSvc.ActualizarEstado(t,s),this.pedidos[a].estado=s}ImprimirNoEntregados(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(um),h.Y36(lm))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-pedidos-listado"]],decls:8,vars:3,consts:[["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange","change"],["selected","true","disabled","disabled","value","default"],[4,"ngFor","ngForOf"],[1,"pedidos"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-2"],[1,"col-8",2,"border","solid","border-color","black","border-width","4px","padding","15px","width","70%","margin-top","20px"],[1,"col-3"],[1,"col-7"],["class","btn btn-primary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(t,s){1&t&&(h.TgZ(0,"h5"),h._uU(1,"Zona:"),h.qZA(),h.TgZ(2,"select",0),h.NdJ("ngModelChange",function(l){return s.zonaElegida=l})("change",function(){return s.cambiarZona()}),h.TgZ(3,"option",1),h._uU(4,"Elija una zona"),h.qZA(),h.YNc(5,OR,2,1,"option",2),h.qZA(),h.TgZ(6,"div",3),h.YNc(7,LR,16,6,"div",4),h.qZA()),2&t&&(h.xp6(2),h.Q6J("ngModel",s.zonaElegida),h.xp6(3),h.Q6J("ngForOf",s.zonas),h.xp6(2),h.Q6J("ngForOf",s.pedidosActual))},directives:[hT,fm,gm,MM,NM,jr,fi],styles:[""]}),n})();class HM{}let UR=(()=>{class n{constructor(t){this.productoSvc=t,this.producto=new HM}ngOnInit(){}Agregar(){Yh().fire({title:"Producto agregado correctamente",icon:"success",confirmButtonText:"Continuar"}).then(()=>{this.productoSvc.AgregarUno(this.producto),this.producto=new HM})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(cm))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-producto-alta"]],decls:10,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-3"],[1,"col-12"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","","required","",1,"form-control",2,"margin-bottom","15px",3,"ngModel","ngModelChange"],[1,"w-100","btn","btn-primary","btn-lg",2,"width","100% !important","margin-top","30px",3,"click"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h._UZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"label",4),h._uU(5,"Nombre"),h.qZA(),h.TgZ(6,"input",5),h.NdJ("ngModelChange",function(l){return s.producto.nombre=l}),h.qZA(),h.TgZ(7,"button",6),h.NdJ("click",function(){return s.Agregar()}),h._uU(8,"Crear"),h.qZA(),h.qZA(),h._UZ(9,"div",2),h.qZA(),h.qZA()),2&t&&(h.xp6(6),h.Q6J("ngModel",s.producto.nombre))},directives:[fh,mm,fm,gm],styles:[""]}),n})();function BR(n,e){if(1&n&&(h.TgZ(0,"tr"),h.TgZ(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.TgZ(5,"td"),h.TgZ(6,"button",4),h.O4$(),h.TgZ(7,"svg",5),h._UZ(8,"path",6),h._UZ(9,"path",7),h.qZA(),h.qZA(),h.qZA(),h.kcU(),h.TgZ(10,"td"),h.TgZ(11,"button",8),h.O4$(),h.TgZ(12,"svg",9),h._UZ(13,"path",10),h._UZ(14,"path",11),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t.nombre),h.xp6(2),h.Oqu(t.medida)}}function jR(n,e){if(1&n&&(h.TgZ(0,"div"),h.TgZ(1,"table",1),h.TgZ(2,"thead"),h.TgZ(3,"tr"),h.TgZ(4,"th",2),h._uU(5,"Nombre"),h.qZA(),h.TgZ(6,"th",2),h._uU(7,"Unidad de medida"),h.qZA(),h._UZ(8,"th",2),h._UZ(9,"th",2),h.qZA(),h.qZA(),h.TgZ(10,"tbody"),h.YNc(11,BR,15,2,"tr",3),h.qZA(),h.qZA(),h.qZA()),2&n){const t=h.oxw();h.xp6(11),h.Q6J("ngForOf",t.productos)}}const $R=[{path:"",redirectTo:"pedidos-listado",pathMatch:"full"},{path:"pedidos-listado",component:VR},{path:"pedidos-alta",component:NR},{path:"zonas-listado",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-zonas-listado"]],decls:2,vars:0,template:function(t,s){1&t&&(h.TgZ(0,"p"),h._uU(1,"zonas-listado works!"),h.qZA())},styles:[""]}),n})()},{path:"zonas-alta",component:(()=>{class n{constructor(t){this.zonaSvc=t}ngOnInit(){}Agregar(){var t={nombre:this.zona};Yh().fire({title:"Zona agregada correctamente",icon:"success",confirmButtonText:"Continuar"}).then(()=>{this.zonaSvc.AgregarUna(t),this.zona=""})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(um))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-zona-alta"]],decls:10,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","text-center"],["for","firstName",1,"form-label"],["type","text","id","firstName","placeholder","","value","","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"w-100","btn","btn-primary","btn-lg",2,"width","50% !important","margin-top","30px",3,"click"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h._UZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"label",4),h._uU(5,"Nombre"),h.qZA(),h.TgZ(6,"input",5),h.NdJ("ngModelChange",function(l){return s.zona=l}),h.qZA(),h.TgZ(7,"button",6),h.NdJ("click",function(){return s.Agregar()}),h._uU(8,"Crear"),h.qZA(),h.qZA(),h._UZ(9,"div",2),h.qZA(),h.qZA()),2&t&&(h.xp6(6),h.Q6J("ngModel",s.zona))},directives:[fh,mm,fm,gm],styles:[""]}),n})()},{path:"productos-listado",component:(()=>{class n{constructor(t){this.productosSvc=t}ngOnInit(){this.productosSvc.TraerTodos().subscribe(t=>{this.productos=t,console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(cm))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-productos-listado"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"table","text-center",2,"margin-top","20px"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn",2,"background-color","#0d6efd"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","white","viewBox","0 0 16 16",1,"bi","bi-pencil-square"],["d","M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"],["fill-rule","evenodd","d","M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"],[1,"btn",2,"background-color","red"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","white","viewBox","0 0 16 16",1,"bi","bi-trash"],["d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"],["fill-rule","evenodd","d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"]],template:function(t,s){1&t&&h.YNc(0,jR,12,1,"div",0),2&t&&h.Q6J("ngIf",s.productos)},directives:[fi,jr],styles:[""]}),n})()},{path:"productos-alta",component:UR},{path:"nueva-unidad-de-medida",component:(()=>{class n{constructor(t){this.prodSvc=t}ngOnInit(){}Agregar(){var t={nombre:this.unidadDeMedida};Yh().fire({title:"Zona agregada correctamente",icon:"success",confirmButtonText:"Continuar"}).then(()=>{this.prodSvc.AgregarUnidadDeMedida(t),this.unidadDeMedida=""})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(cm))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-unidad-de-medida"]],decls:10,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-3"],[1,"col-6","text-center"],["for","firstName",1,"form-label"],["type","text","id","firstName","placeholder","","value","","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"w-100","btn","btn-primary","btn-lg",2,"width","50% !important","margin-top","30px",3,"click"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h._UZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"label",4),h._uU(5,"Unidad de medida"),h.qZA(),h.TgZ(6,"input",5),h.NdJ("ngModelChange",function(l){return s.unidadDeMedida=l}),h.qZA(),h.TgZ(7,"button",6),h.NdJ("click",function(){return s.Agregar()}),h._uU(8,"Crear"),h.qZA(),h.qZA(),h._UZ(9,"div",2),h.qZA(),h.qZA()),2&t&&(h.xp6(6),h.Q6J("ngModel",s.unidadDeMedida))},directives:[fh,mm,fm,gm],styles:[""]}),n})()},{path:"hoja-produccion",component:Ma}];let HR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Kh.forRoot($R)],Kh]}),n})(),qR=(()=>{class n{constructor(){this.title="Mati"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:44,vars:0,consts:[[1,"container"],[1,"d-flex","flex-wrap","justify-content-center","py-3","mb-4","border-bottom"],["href","/",1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","text-dark","text-decoration-none"],["width","40","height","32",1,"bi","me-2"],[0,"xlink","href","#bootstrap"],[1,"fs-4"],[1,"nav","nav-pills"],[1,"nav-item","dropdown"],["id","dropdown01","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","dropdown01",1,"dropdown-menu"],["routerLink","/pedidos-alta",1,"dropdown-item"],["routerLink","/pedidos-listado",1,"dropdown-item"],["id","dropdown02","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","dropdown02",1,"dropdown-menu"],["routerLink","/productos-alta",1,"dropdown-item"],["routerLink","/nueva-unidad-de-medida",1,"dropdown-item"],["routerLink","/productos-listado",1,"dropdown-item"],["id","dropdown03","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","dropdown03",1,"dropdown-menu"],["routerLink","/zonas-alta",1,"dropdown-item"],["routerLink","/zonas-listado",1,"dropdown-item"],["routerLink","/hoja-produccion",1,"nav-item"]],template:function(t,s){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"header",1),h.TgZ(2,"a",2),h.O4$(),h.TgZ(3,"svg",3),h._UZ(4,"use",4),h.qZA(),h.kcU(),h.TgZ(5,"span",5),h._uU(6,"Matias"),h.qZA(),h.qZA(),h.TgZ(7,"ul",6),h.TgZ(8,"li",7),h.TgZ(9,"a",8),h._uU(10,"Pedidos"),h.qZA(),h.TgZ(11,"ul",9),h.TgZ(12,"li"),h.TgZ(13,"a",10),h._uU(14,"Nuevo pedido"),h.qZA(),h.qZA(),h.TgZ(15,"li"),h.TgZ(16,"a",11),h._uU(17,"Todos los pedidos"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(18,"li",7),h.TgZ(19,"a",12),h._uU(20,"Productos"),h.qZA(),h.TgZ(21,"ul",13),h.TgZ(22,"li"),h.TgZ(23,"a",14),h._uU(24,"Nuevo producto"),h.qZA(),h.qZA(),h.TgZ(25,"li"),h.TgZ(26,"a",15),h._uU(27,"Nueva unidad de medida"),h.qZA(),h.qZA(),h.TgZ(28,"li"),h.TgZ(29,"a",16),h._uU(30,"Todos los productos"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(31,"li",7),h.TgZ(32,"a",17),h._uU(33,"Zonas"),h.qZA(),h.TgZ(34,"ul",18),h.TgZ(35,"li"),h.TgZ(36,"a",19),h._uU(37,"Alta"),h.qZA(),h.qZA(),h.TgZ(38,"li"),h.TgZ(39,"a",20),h._uU(40,"Listado"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(41,"a",21),h._uU(42,"Hoja de produccion"),h.qZA(),h.qZA(),h.qZA(),h._UZ(43,"router-outlet"),h.qZA())},directives:[pu,Wh],styles:[""]}),n})();const qM_firebaseConfig={apiKey:"AIzaSyBpZlYZ_6tx37Xtv1pO9u02o5Y4Y4ZP6M0",authDomain:"mati-b9f7e.firebaseapp.com",projectId:"mati-b9f7e",storageBucket:"mati-b9f7e.appspot.com",messagingSenderId:"976889644707",appId:"1:976889644707:web:5565c0d7634d6696df6116"};let GR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[qR]}),n.\u0275inj=h.cJS({providers:[],imports:[[R,HR,AR,Vo.hO.initializeApp(qM_firebaseConfig)]]}),n})();(0,h.G48)(),E().bootstrapModule(GR).catch(n=>console.error(n))},4762:(nt,Te,L)=>{"use strict";function ue(le,pe){var ge={};for(var he in le)Object.prototype.hasOwnProperty.call(le,he)&&pe.indexOf(he)<0&&(ge[he]=le[he]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(he=Object.getOwnPropertySymbols(le);Le<he.length;Le++)pe.indexOf(he[Le])<0&&Object.prototype.propertyIsEnumerable.call(le,he[Le])&&(ge[he[Le]]=le[he[Le]])}return ge}function ve(le,pe,ge,he){return new(ge||(ge=Promise))(function(be,rt){function Ut(jt){try{bt(he.next(jt))}catch(kn){rt(kn)}}function An(jt){try{bt(he.throw(jt))}catch(kn){rt(kn)}}function bt(jt){jt.done?be(jt.value):function(be){return be instanceof ge?be:new ge(function(rt){rt(be)})}(jt.value).then(Ut,An)}bt((he=he.apply(le,pe||[])).next())})}function se(le,pe){var he,Le,be,rt,ge={label:0,sent:function(){if(1&be[0])throw be[1];return be[1]},trys:[],ops:[]};return rt={next:Ut(0),throw:Ut(1),return:Ut(2)},"function"==typeof Symbol&&(rt[Symbol.iterator]=function(){return this}),rt;function Ut(bt){return function(jt){return function(bt){if(he)throw new TypeError("Generator is already executing.");for(;ge;)try{if(he=1,Le&&(be=2&bt[0]?Le.return:bt[0]?Le.throw||((be=Le.return)&&be.call(Le),0):Le.next)&&!(be=be.call(Le,bt[1])).done)return be;switch(Le=0,be&&(bt=[2&bt[0],be.value]),bt[0]){case 0:case 1:be=bt;break;case 4:return ge.label++,{value:bt[1],done:!1};case 5:ge.label++,Le=bt[1],bt=[0];continue;case 7:bt=ge.ops.pop(),ge.trys.pop();continue;default:if(!(be=(be=ge.trys).length>0&&be[be.length-1])&&(6===bt[0]||2===bt[0])){ge=0;continue}if(3===bt[0]&&(!be||bt[1]>be[0]&&bt[1]<be[3])){ge.label=bt[1];break}if(6===bt[0]&&ge.label<be[1]){ge.label=be[1],be=bt;break}if(be&&ge.label<be[2]){ge.label=be[2],ge.ops.push(bt);break}be[2]&&ge.ops.pop(),ge.trys.pop();continue}bt=pe.call(le,ge)}catch(jt){bt=[6,jt],Le=0}finally{he=be=0}if(5&bt[0])throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}([bt,jt])}}}function X(le){var pe="function"==typeof Symbol&&Symbol.iterator,ge=pe&&le[pe],he=0;if(ge)return ge.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&he>=le.length&&(le=void 0),{value:le&&le[he++],done:!le}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(le,pe){var ge="function"==typeof Symbol&&le[Symbol.iterator];if(!ge)return le;var Le,rt,he=ge.call(le),be=[];try{for(;(void 0===pe||pe-- >0)&&!(Le=he.next()).done;)be.push(Le.value)}catch(Ut){rt={error:Ut}}finally{try{Le&&!Le.done&&(ge=he.return)&&ge.call(he)}finally{if(rt)throw rt.error}}return be}function we(le,pe,ge){if(ge||2===arguments.length)for(var be,he=0,Le=pe.length;he<Le;he++)(be||!(he in pe))&&(be||(be=Array.prototype.slice.call(pe,0,he)),be[he]=pe[he]);return le.concat(be||Array.prototype.slice.call(pe))}L.d(Te,{_T:()=>ue,mG:()=>ve,Jh:()=>se,XA:()=>X,CR:()=>Y,ev:()=>we})},8239:(nt,Te,L)=>{"use strict";function h(V,ue,ie,ae,_e,ve,se){try{var $=V[ve](se),U=$.value}catch(X){return void ie(X)}$.done?ue(U):Promise.resolve(U).then(ae,_e)}function ne(V){return function(){var ue=this,ie=arguments;return new Promise(function(ae,_e){var ve=V.apply(ue,ie);function se(U){h(ve,ae,_e,se,$,"next",U)}function $(U){h(ve,ae,_e,se,$,"throw",U)}se(void 0)})}}L.d(Te,{Z:()=>ne})}},nt=>{nt(nt.s=8078)}]);